!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(3),i=r(o),c=n(22),l=n(26),s=n(28),u=n(27),p=n(30),d=n(24),f=n(25),v=n(23),h=n(32),m=r(h),y=n(33),g=r(y),b=n(34),w=r(b),E=(n(35),function(e){(0,a.ParseConfig)(e,k),(0,s.SetupGraphs)(),(0,p.BindTabEvents)(),(0,f.BindCopyLinkEvents)(),(0,g.default)(),(0,w.default)()}),k=function(e){(0,f.AddShareSettingsToConfig)(e);var t=(0,d.CreateMap)(e.map);(0,l.CreateBaseLayers)(t,e.baselayers),(0,v.CreateDefaultLayers)(e.layers,e["active-layers"]),(0,c.SetupPanel)(e.layers,e.layout),(0,i.default)(t),(0,m.default)(e.logo),e.tab&&(0,p.HandleTabChange)(e.tab),e.graph&&(0,s.HandleGraphTabChange)(e.graph),(0,u.BindGraphEvents)(t),(0,f.BindUpdateShareUrl)(t),(0,u.SetupPointsOfInterest)(t,e.pois),(0,f.updateShareUrl)()};window.Base=E,t.default={Base:E}},function(e,t){"use strict";function n(e,t){a(e,t)}function r(e){var t;return t=!window.XMLHttpRequest&&window.ActiveXObject?new window.ActiveXObject("MSXML2.XMLHTTP.3.0"):new XMLHttpRequest,t.onreadystatechange=function(){4===t.readyState&&e(t.response)},t}function a(e,t){var n=r(function(e){var n=o(e);t(n)});n.open("GET",e,!0),n.send(),console.log("hi")}function o(e){return e=JSON.parse(e),i(e),c(e),e}function i(e){e.map||(e.map={})}function c(e){var t,n,r=e.layers,a=e.mapserverUrl;e["active-layers"];for(var o in r){if(!r.hasOwnProperty(o))return;for(t=r[o],n=0;n<t.length;n++)s(t[n],a),l(t[n],e.defaultLayerOpacity)}}function l(e,t){e.opacity=e.opacity||t}function s(e,t){e.url=e.url||t}Object.defineProperty(t,"__esModule",{value:!0}),t.ParseConfig=n,t.GetAjaxObject=r},function(e,t,n){"use strict";function r(e){var t=new a.OpenStreetMapProvider,n=new a.GeoSearchControl({provider:t,showMarker:!1,autoComplete:!0,showPopup:!1});e.addControl(n);var r=n.searchElement.elements;L.DomEvent.on(r.container,"click",function(e){L.DomEvent.stopPropagation(e);for(var t=r.form.getElementsByClassName("results")[0].children,n=0;n<t.length;n++)e.target===t[n]&&r.container.classList.remove("active");ga("send","event",{eventCategory:"map",eventAction:"search",eventLabel:"click",nonInteraction:!1})}),L.DomEvent.on(r.container,"keydown",function(e){L.DomEvent.stopPropagation(e),13!=e.which&&13!=e.keyCode||(r.container.classList.remove("active"),ga("send","event",{eventCategory:"map",eventAction:"search address",eventLabel:e.target.value,nonInteraction:!1}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5);Object.defineProperty(t,"GeoSearchControl",{enumerable:!0,get:function(){return r(a).default}});var o=n(13);Object.defineProperty(t,"SearchElement",{enumerable:!0,get:function(){return r(o).default}});var i=n(17);Object.defineProperty(t,"BingProvider",{enumerable:!0,get:function(){return r(i).default}});var c=n(19);Object.defineProperty(t,"EsriProvider",{enumerable:!0,get:function(){return r(c).default}});var l=n(20);Object.defineProperty(t,"GoogleProvider",{enumerable:!0,get:function(){return r(l).default}});var s=n(21);Object.defineProperty(t,"OpenStreetMapProvider",{enumerable:!0,get:function(){return r(s).default}});var u=n(18);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return r(u).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){if(!L||!L.Control||!L.Control.extend)throw new Error("Leaflet must be loaded before instantiating the GeoSearch control");for(var e=L.Control.extend(m),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=(r(o),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.default=a;var c=n(12),l=r(c),s=n(13),u=r(s),p=n(16),d=r(p),f=n(14),v=n(15),h=function(){return{position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(e){return""+e.result.label},marker:{icon:new L.Icon.Default,draggable:!1},maxMarkers:1,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250,autoClose:!1}},m={initialize:function(e){var t=this;this.markers=new L.FeatureGroup,this.options=i({},h(),e);var n=this.options,r=n.style,a=n.classNames,o=n.searchLabel,c=n.autoComplete,s=n.autoCompleteDelay;"button"!==r&&(this.options.classNames.container+=" "+e.style),this.searchElement=new u.default(i({},this.options,{handleSubmit:function(e){return t.onSubmit(e)}}));var p=this.searchElement.elements,v=p.container,m=p.form,y=p.input;v.addEventListener("dblclick",function(e){e.stopPropagation()});var g=(0,f.createElement)("a",a.button,v);g.title=o,g.href="#",g.addEventListener("click",function(e){t.onClick(e)},!1),c&&(this.resultList=new d.default({handleClick:function(e){var n=e.result;y.value=n.label,t.onSubmit({query:n.label})}}),m.appendChild(this.resultList.elements.container),y.addEventListener("keyup",(0,l.default)(function(e){return t.autoSearch(e)},s),!0),y.addEventListener("keydown",function(e){return t.selectResult(e)},!0),y.addEventListener("keydown",function(e){return t.clearResults(e)},!0)),this.elements={button:g}},onAdd:function(e){var t=this.options,n=t.showMarker,r=t.style;if(this.map=e,n&&this.markers.addTo(e),"bar"===r){var a=this.searchElement.elements.form,o=e.getContainer().querySelector(".leaflet-control-container"),i=(0,f.createElement)("div","leaflet-control-geosearch bar");i.appendChild(a),o.appendChild(i),this.elements.container=i}return this.searchElement.elements.container},onRemove:function(){var e=this.elements.container;return e&&e.remove(),this},onClick:function(e){e.preventDefault();var t=this.searchElement.elements,n=t.container,r=t.input;n.classList.contains("active")?(0,f.removeClassName)(n,"active"):((0,f.addClassName)(n,"active"),r.focus())},selectResult:function(e){if([v.ENTER_KEY,v.ARROW_DOWN_KEY,v.ARROW_UP_KEY].includes(e.keyCode)){e.preventDefault();var t=this.searchElement.elements.input,n=this.resultList,r=this.resultList.count()-1;if(!(r<0)){var a="ArrowDown"===e.code?1+~~n.selected:~~n.selected-1,o=a<0?r:a>r?0:a,i=n.select(o);t.value=i.label,e.keyCode===v.ENTER_KEY&&this.onSubmit({query:i.label})}}},clearResults:function(e){e.keyCode===v.ESCAPE_KEY&&this.resultList.clear()},autoSearch:function(e){return new Promise(function(t,n){function r(){return t()}var a,o,i;return v.SPECIAL_KEYS.includes(e.keyCode)?t():(a=e.target.value,o=this.options.provider,a.length?o.search({query:a}).then(function(e){return i=e,this.resultList.render(i),r.call(this)}.$asyncbind(this,n),n):(this.resultList.clear(),r.call(this)))}.$asyncbind(this))},onSubmit:function(e){return new Promise(function(t,n){var r,a;return r=this.options.provider,r.search(e).then(function(n){return a=n,a&&a.length>0&&this.showResult(a[0],e),t()}.$asyncbind(this,n),n)}.$asyncbind(this))},showResult:function(e,t){var n=this.options.autoClose,r=Object.keys(this.markers._layers);r.length>=this.options.maxMarkers&&this.markers.removeLayer(r[0]);var a=this.addMarker(e,t);this.centerMap(e),this.map.fireEvent("geosearch/showlocation",{location:e,marker:a}),n&&this.closeResults()},closeResults:function(){var e=this.searchElement.elements,t=e.container,n=e.input;t.classList.contains("active")&&(0,f.removeClassName)(t,"active"),n.value="",this.resultList.clear()},addMarker:function(e,t){var n=this,r=this.options,a=r.marker,o=r.showPopup,i=r.popupFormat,c=new L.Marker([e.y,e.x],a),l=e.label;return"function"==typeof i&&(l=i({query:t,result:e})),c.bindPopup(l),this.markers.addLayer(c),o&&c.openPopup(),a.draggable&&c.on("dragend",function(e){n.map.fireEvent("geosearch/marker/dragend",{location:c.getLatLng(),event:e})}),c},centerMap:function(e){var t=this.options,n=t.retainZoomLevel,r=t.animateZoom,a=new L.LatLngBounds(e.bounds),o=a.isValid()?a:this.markers.getBounds();!n&&a.isValid()?this.map.fitBounds(o,{animate:r}):this.map.setView(o.getCenter(),this.getZoom(),{animate:r})},getZoom:function(){var e=this.options,t=e.retainZoomLevel,n=e.zoomLevel;return t?this.map.getZoom():n}}},function(e,t,n){"use strict";function r(e,t){if(Function.prototype.$asyncspawn||Object.defineProperty(Function.prototype,"$asyncspawn",{value:r,enumerable:!1,configurable:!0,writable:!0}),this instanceof Function){var n=this;return new e(function(e,r){function a(t,n){var i;try{if(i=t.call(o,n),i.done){if(i.value!==e){if(i.value&&i.value===i.value.then)return i.value(e,r);e&&e(i.value),e=null}return}i.value.then?i.value.then(function(e){a(o.next,e)},function(e){a(o.throw,e)}):a(o.next,i.value)}catch(e){return r&&r(e),void(r=null)}}var o=n.call(t,e,r);a(o.next)})}}var a=function(e,t){for(var n=t.toString(),r="return "+n,a=n.match(/.*\(([^)]*)\)/)[1],o=/['"]!!!([^'"]*)['"]/g,i=[];;){var c=o.exec(r);if(!c)break;i.push(c)}return i.reverse().forEach(function(t){r=r.slice(0,t.index)+e[t[1]]+r.substr(t.index+t[0].length)}),r=r.replace(/\/\*[^*]*\*\//g," ").replace(/\s+/g," "),new Function(a,r)()}({zousan:n(7).toString(),thenable:n(11).toString()},function e(t,n){function r(){return a.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,a){return function o(i){for(;i;){if(i.then)return i=i.then(o,r),a?void 0:i;try{if(i.pop){if(i.length)return i.pop()?t.call(e):i;i=n}else i=i.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable="!!!thenable"(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory="!!!zousan")());var a=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return a.apply(t,arguments)}catch(e){return n(e)}}}});a(),r(),e.exports={$asyncbind:a,$asyncspawn:r}},function(e,t,n){(function(t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function a(e){if(e){var t=this;e(function(e){t.resolve(e)},function(e){t.reject(e)})}}function o(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function i(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}e=e||"object"===(void 0===t?"undefined":r(t))&&t.nextTick||"function"==typeof n&&n||function(e){setTimeout(e,0)};var c=function(){function t(){for(;n.length-r;){try{n[r]()}catch(e){}n[r++]=void 0,r===a&&(n.splice(0,a),r=0)}}var n=[],r=0,a=1024;return function(a){n.push(a),n.length-r==1&&e(t)}}();return a.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var t=this;if(e&&("function"==typeof e||"object"===(void 0===e?"undefined":r(e))))try{var n=0,a=e.then;if("function"==typeof a)return void a.call(e,function(e){n++||t.resolve(e)},function(e){n++||t.reject(e)})}catch(e){return void(n||this.reject(e))}this.state=o,this.v=e,t.c&&c(function(){for(var n=0,r=t.c.length;n<r;n++)o(t.c[n],e)})}},reject:function(e){if(void 0===this.state){this.state=i,this.v=e;var t=this.c;t&&c(function(){for(var n=0,r=t.length;n<r;n++)i(t[n],e)})}},then:function(e,t){var n=new a,r={y:e,n:t,p:n};if(void 0===this.state)this.c?this.c.push(r):this.c=[r];else{var o=this.state,i=this.v;c(function(){o(r,i)})}return n}},a.resolve=function(e){if(e&&e instanceof a)return e;var t=new a;return t.resolve(e),t},a.reject=function(e){if(e&&e instanceof a)return e;var t=new a;return t.reject(e),t},a.version="2.3.3-nodent",a}}).call(t,n(8),n(9).setImmediate)},function(e,t){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function i(){h&&f&&(h=!1,f.length?v=f.concat(v):m=-1,v.length&&c())}function c(){if(!h){var e=a(i);h=!0;for(var t=v.length;t;){for(f=v,v=[];++m<t;)f&&f[m].run();m=-1,t=v.length}f=null,h=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function s(){}var u,p,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var f,v=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new l(e,t)),1!==v.length||h||a(c)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;t.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(10),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){"use strict";!function(e,n){function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return s[l]=r,c(l),l++}function a(e){delete s[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function i(e){if(u)setTimeout(i,0,e);else{var t=s[e];if(t){u=!0;try{o(t)}finally{a(e),u=!1}}}}if(!e.setImmediate){var c,l=1,s={},u=!1,p=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){c=function(e){t.nextTick(function(){i(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),c=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},c=function(t){e.port2.postMessage(t)}}():p&&"onreadystatechange"in p.createElement("script")?function(){var e=p.documentElement;c=function(t){var n=p.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){c=function(e){setTimeout(i,0,e)}}(),d.setImmediate=r,d.clearImmediate=a}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,function(){return this}(),n(8))},function(e,t){"use strict";e.exports=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,a){try{var o=a?a(r):r;if(n===o)return n.reject(new TypeError("Promise resolution loop"));e(o)?o.then(function(e){t(n,e)},function(e){n.reject(e)}):n.resolve(o)}catch(e){n.reject(e)}}function n(){}function r(e){}function a(e,t){this.resolve=e,this.reject=t}function o(r,a){var o=new n;try{this._resolver(function(n){return e(n)?n.then(r,a):t(o,n,r)},function(e){t(o,e,a)})}catch(e){t(o,e,a)}return o}function i(e){this._resolver=e,this.then=o}return n.prototype={resolve:r,reject:r,then:a},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}},function(e,t){(function(t){"use strict";function n(e,t,n){function a(t){var n=h,r=m;return h=m=void 0,C=t,g=e.apply(r,n)}function o(e){return C=e,b=setTimeout(u,t),O?a(e):g}function c(e){var n=e-w,r=e-C,a=t-n;return _?k(a,y-r):a}function s(e){var n=e-w,r=e-C;return void 0===w||n>=t||n<0||_&&r>=y}function u(){var e=L();if(s(e))return p(e);b=setTimeout(u,c(e))}function p(e){return b=void 0,S&&h?a(e):(h=m=void 0,g)}function d(){void 0!==b&&clearTimeout(b),C=0,h=w=m=b=void 0}function f(){return void 0===b?g:p(L())}function v(){var e=L(),n=s(e);if(h=arguments,m=this,w=e,n){if(void 0===b)return o(w);if(_)return b=setTimeout(u,t),a(w)}return void 0===b&&(b=setTimeout(u,t)),g}var h,m,y,g,b,w,C=0,O=!1,_=!1,S=!0;if("function"!=typeof e)throw new TypeError(l);return t=i(t)||0,r(n)&&(O=!!n.leading,_="maxWait"in n,y=_?E(i(n.maxWait)||0,t):y,S="trailing"in n?!!n.trailing:S),v.cancel=d,v.flush=f,v}function r(e){var t=void 0===e?"undefined":c(e);return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==(void 0===e?"undefined":c(e))}function o(e){return"symbol"==(void 0===e?"undefined":c(e))||a(e)&&w.call(e)==u}function i(e){if("number"==typeof e)return e;if(o(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(p,"");var n=f.test(e);return n||v.test(e)?h(e.slice(2),n?2:8):d.test(e)?s:+e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",s=NaN,u="[object Symbol]",p=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,v=/^0o[0-7]+$/i,h=parseInt,m="object"==(void 0===t?"undefined":c(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":c(self))&&self&&self.Object===Object&&self,g=m||y||Function("return this")(),b=Object.prototype,w=b.toString,E=Math.max,k=Math.min,L=function(){return g.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=(function(e){e&&e.__esModule}(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),i=n(14),c=n(15),l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.handleSubmit,o=void 0===a?function(){}:a,c=n.searchLabel,l=void 0===c?"search":c,s=n.classNames,u=void 0===s?{}:s;r(this,e);var p=(0,i.createElement)("div",["geosearch",u.container].join(" ")),d=(0,i.createElement)("form",["",u.form].join(" "),p),f=(0,i.createElement)("input",["glass",u.input].join(" "),d);f.type="text",f.placeholder=l,f.addEventListener("input",function(e){t.onInput(e)},!1),f.addEventListener("keyup",function(e){t.onKeyUp(e)},!1),f.addEventListener("keypress",function(e){t.onKeyPress(e)},!1),f.addEventListener("focus",function(e){t.onFocus(e)},!1),f.addEventListener("blur",function(e){t.onBlur(e)},!1),this.elements={container:p,form:d,input:f},this.handleSubmit=o}return o(e,[{key:"onFocus",value:function(){(0,i.addClassName)(this.elements.form,"active")}},{key:"onBlur",value:function(){(0,i.removeClassName)(this.elements.form,"active")}},{key:"onSubmit",value:function(e){return new Promise(function(t,n){var r,a,o;return e.preventDefault(),e.stopPropagation(),r=this.elements,a=r.input,o=r.container,(0,i.removeClassName)(o,"error"),(0,i.addClassName)(o,"pending"),this.handleSubmit({query:a.value}).then(function(e){return(0,i.removeClassName)(o,"pending"),t()}.$asyncbind(this,n),n)}.$asyncbind(this))}},{key:"onInput",value:function(){var e=this.elements.container;this.hasError&&((0,i.removeClassName)(e,"error"),this.hasError=!1)}},{key:"onKeyUp",value:function(e){var t=this.elements,n=t.container,r=t.input;e.keyCode===c.ESCAPE_KEY&&((0,i.removeClassName)(n,"pending"),(0,i.removeClassName)(n,"active"),r.value="",document.body.focus(),document.body.blur())}},{key:"onKeyPress",value:function(e){e.keyCode===c.ENTER_KEY&&this.onSubmit(e)}},{key:"setQuery",value:function(e){this.elements.input.value=e}}]),e}();t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.createElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement(e);return r.className=t,n&&n.appendChild(r),r};t.createScriptElement=function(e,t){var r=n("script",null,document.body);return r.setAttribute("type","text/javascript"),new Promise(function(n){window[t]=function(e){r.remove(),delete window[t],n(e)},r.setAttribute("src",e)})},t.addClassName=function(e,t){e&&!e.classList.contains(t)&&e.classList.add(t)},t.removeClassName=function(e,t){e&&e.classList.contains(t)&&e.classList.remove(t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.ENTER_KEY=13,r=t.ESCAPE_KEY=27,a=t.ARROW_DOWN_KEY=40,o=t.ARROW_UP_KEY=38,i=t.ARROW_LEFT_KEY=37,c=t.ARROW_RIGHT_KEY=39;t.SPECIAL_KEYS=[n,r,a,o,i,c]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(14),i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ").trim()},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.handleClick,a=void 0===n?function(){}:n,c=t.classNames,s=void 0===c?{}:c;r(this,e),l.call(this),this.props={handleClick:a,classNames:s},this.selected=-1;var u=(0,o.createElement)("div",i("results",s.container)),p=(0,o.createElement)("div",i(s.item));u.addEventListener("click",this.onClick,!0),this.elements={container:u,resultItem:p}}return a(e,[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.elements,n=t.container,r=t.resultItem;this.clear(),e.forEach(function(e,t){var a=r.cloneNode(!0);a.setAttribute("data-key",t),a.innerHTML=e.label,n.appendChild(a)}),e.length>0&&(0,o.addClassName)(n,"active"),this.results=e}},{key:"select",value:function(e){var t=this.elements.container;return Array.from(t.children).forEach(function(t,n){return n===e?(0,o.addClassName)(t,"active"):(0,o.removeClassName)(t,"active")}),this.selected=e,this.results[e]}},{key:"count",value:function(){return this.results?this.results.length:0}},{key:"clear",value:function(){var e=this.elements.container;for(this.selected=-1;e.lastChild;)e.removeChild(e.lastChild);(0,o.removeClassName)(e,"active")}}]),e}(),l=function(){var e=this;this.onClick=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.target,r=e.props.handleClick,a=e.elements.container;if(n.parentNode===a&&n.hasAttribute("data-key")){var o=n.getAttribute("data-key");r({result:e.results[o]})}}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(6),s=(r(l),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(18),d=r(p),f=n(14),v=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=e.jsonp,a=this.options.params;return n+"//dev.virtualearth.net/REST/v1/Locations?"+this.getParamString(s({},a,{query:t,jsonp:r}))}},{key:"parse",value:function(e){var t=e.data;return 0===t.resourceSets.length?[]:t.resourceSets[0].resources.map(function(e){return{x:e.point.coordinates[1],y:e.point.coordinates[0],label:e.address.formattedAddress,bounds:[[e.bbox[0],e.bbox[1]],[e.bbox[2],e.bbox[3]]],raw:e}})}},{key:"search",value:function(e){return new Promise(function(t,n){var r,a,o,i,c;return r=e.query,a=~location.protocol.indexOf("http")?location.protocol:"https:",o="BING_JSONP_CB_"+Date.now(),i=this.endpoint({query:r,protocol:a,jsonp:o}),(0,f.createScriptElement)(i,o).then(function(e){return c=e,t(this.parse({data:c}))}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),o=(function(e){e&&e.__esModule}(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.options=t}return o(e,[{key:"getParamString",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},{key:"search",value:function(e){return new Promise(function(t,n){var r,a,o,i,c;return r=e.query,a=~location.protocol.indexOf("http")?location.protocol:"https:",o=this.endpoint({query:r,protocol:a}),fetch(o).then(function(e){return i=e,i.json().then(function(e){return c=e,t(this.parse({data:c}))}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(18),u=function(e){return e&&e.__esModule?e:{default:e}}(s),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params;return n+"//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find?"+this.getParamString(c({},r,{f:"json",text:t}))}},{key:"parse",value:function(e){return e.data.locations.map(function(e){return{x:e.feature.geometry.x,y:e.feature.geometry.y,label:e.name,bounds:[[e.extent.ymin,e.extent.xmin],[e.extent.ymax,e.extent.xmax]],raw:e}})}}]),t}(u.default);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(18),u=function(e){return e&&e.__esModule?e:{default:e}}(s),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params,a=this.getParamString(c({},r,{address:t}));return(r&&r.key?"https:":n)+"//maps.googleapis.com/maps/api/geocode/json?"+a}},{key:"parse",value:function(e){return e.data.results.map(function(e){return{x:e.geometry.location.lng,y:e.geometry.location.lat,label:e.formatted_address,bounds:[[e.geometry.viewport.southwest.lat,e.geometry.viewport.southwest.lng],[e.geometry.viewport.northeast.lat,e.geometry.viewport.northeast.lng]],raw:e}})}}]),t}(u.default);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(18),u=function(e){return e&&e.__esModule?e:{default:e}}(s),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params;return n+"//nominatim.openstreetmap.org/search?"+this.getParamString(c({},r,{format:"json",q:t}))}},{key:"parse",value:function(e){return e.data.map(function(e){return{x:e.lon,y:e.lat,label:e.display_name,bounds:[[parseFloat(e.boundingbox[0]),parseFloat(e.boundingbox[2])],[parseFloat(e.boundingbox[1]),parseFloat(e.boundingbox[3])]],raw:e}})}}]),t}(u.default);t.default=p},function(e,t,n){"use strict";function r(){return O.filter(function(e){return e.active})}function a(){}function o(){return E}function i(e,t){O=t["layer-groups-order"],E=f(t["layer-groups-order"]),v(E,e),s(),l()}function c(){var e=window.navigator.userAgent;return e.indexOf("MSIE")>-1||e.indexOf("rv:11.0")>-1}function l(){document.getElementById("right-panel").onscroll=p}function s(){if(!c()){var e=d3.select("#right-panel-drag-overlay");e.style("cursor","ew-resize"),e.call(d3.drag().on("drag",function(){u.call(this)}))}}function u(){p(),d()}function p(){var e,t=d3.select("#right-panel"),n=t.property("offsetHeight"),r=document.getElementById("right-panel-drag-overlay"),a=document.getElementById("right-panel-header");if(t.classed("graphs-active")){var o=document.getElementById("graph-list");e=a.scrollHeight+o.scrollHeight+700}else{var i=document.getElementById("layer-list");e=a.scrollHeight+i.scrollHeight}e=e>n?e+"px":null,r.style.height=e}function d(){var e=d3.select("#right-panel"),t=+e.style("min-width").slice(0,-2),n=e.property("clientWidth"),r=document.getElementById("wrapper"),a=r.clientWidth,o=document.getElementById("map-wrapper"),i=d3.event.sourceEvent.x,c=a-i-n,l=n+c;l=l<t?t:l>a?a:l,o.style.paddingRight=l+"px",e.style("width",l+"px")}function f(e){return d3.select("#layer-list").selectAll(".layer-group-wrapper").data(e).enter().append("div").attr("class","layer-group-wrapper").attr("id",function(e){return e.id}).classed("active",function(e){return e.active}).each(function(e){d3.select(this).append("div").attr("class","layer-group-btn btn").on("click",function(e){ga("send","event",{eventCategory:"layer list",eventAction:"toggle "+!e.active,eventLabel:e.name,nonInteraction:!1}),e.active=!e.active,d3.select(this.parentNode).classed("active",function(){return e.active}),p(),(0,C.updateShareUrl)()}).text(e.name)}).append("div").attr("class","layer-group")}function v(e,t){e.selectAll(".layer-select").data(function(e){return t[e.id]}).enter().append("div").attr("class","layer-select").each(function(e){var t=(this.parentNode.parentNode.id,d3.select(this));e.layerDiv=t,h(e,t),y(e,t),g(e,t),t.node().appendChild(b(e))})}function h(e,t){t.append("input").attr("type","checkbox").attr("id",function(e){return e.id}).attr("checked",function(e){return e.active?"checked":null}).on("click",function(e){(0,k.toggleLayer)(e),m(e)})}function m(e){if(e.layerDiv.select(".layer-tools-wrapper").classed("active",e.active),e.active){var t=e.layerDiv.select(".opacity-slider-handle").node();(0,L.setOpacitySliderPosition)(e,t,e.opacitiy)}}function y(e,t){t.append("div").attr("class","layer-label-wrapper").append("label").attr("for",function(e){return e.id}).attr("class","layer-label").html(function(e){return e.name})}function g(e,t){e.info&&""!==e.info&&(t.append("div").attr("class","layer-info-btn-wrapper").on("click",function(){d3.select(this.parentNode).select(".layer-info-wrapper").classed("active",function(){return ga("send","event",{eventCategory:"layer info",eventAction:"clicked",eventLabel:e.name+" "+!d3.select(this).classed("active"),nonInteraction:!1}),!d3.select(this).classed("active")})}).append("img").attr("class","layer-info-icon").attr("src","imgs/more-info-icon-64x64.png").attr("alt","Read more about the "+e.name+" layer").attr("title","Read more about the "+e.name+" layer"),t.append("div").attr("class","layer-info-wrapper").text(function(e){return e.info}))}function b(e,t){var n=document.createElement("div");n.classList.add("layer-tools-wrapper"),e.active&&n.classList.add("active");var r=(0,L.makeOpacitySlider)(e),a=w(e);return n.appendChild(a),n.appendChild(r),n}function w(e,t){var n=document.createElement("div"),r=document.createElement("img");return n.classList.add("legend-wrapper"),r.setAttribute("src",e.legend),n.appendChild(r),n}Object.defineProperty(t,"__esModule",{value:!0}),t.GetActiveLayerGroups=r,t.resetPanelState=a,t.getLayerGroups=o,t.SetupPanel=i,t.updatePanelDragOverlayHeight=p,t.toggleLayerToolsUI=m;var E,k=n(23),L=n(31),C=n(25),O=[]},function(e,t,n){"use strict";function r(){return y}function a(){for(;g.length;){var e=g.pop();e.active=!1,u(e),document.getElementById(e.id).checked=!1,(0,m.toggleLayerToolsUI)(e)}}function o(e,t){var n,r,a,o,i,l;if(t&&0!==t.length)for(n=0;n<t.length;n++){l=!1,i=t[n];for(a in e){if(!e.hasOwnProperty(a))return;for(o=e[a],r=0;r<o.length;r++)if(o[r].id===i){c(o[r]),l=!0;break}if(l)break}}}function i(e){e.active?(u(e),ga("send","event",{eventCategory:"layer",eventAction:"toggle off",eventLabel:e.name,nonInteraction:!1})):(c(e),ga("send","event",{eventCategory:"layer",eventAction:"toggle on",eventLabel:e.name,nonInteraction:!1}))}function c(e){var t=(0,v.GetMap)();e.active=!0,e.mapLayer=e.mapLayer||f(e),t.addLayer(e.mapLayer),s(e),l(),(0,h.updateShareUrl)()}function l(){var e,t,n;for(t=0,n=g.length;t<n;t++)e=g[t],"overlay"===e.type&&e.mapLayer.bringToFront()}function s(e){y.push(e.id),g.push(e)}function u(e){var t=(0,v.GetMap)();e.active=!1,e.mapLayer&&t.hasLayer(e.mapLayer)&&t.removeLayer(e.mapLayer),p(e),(0,h.updateShareUrl)()}function p(e){var t=y.indexOf(e.id);-1!==t&&(y.splice(t,1),g.splice(t,1))}function d(e,t){e.opacity=t,e.mapLayer.setOpacity(t)}function f(e){return L.tileLayer.wms(e.url,{layers:e.id,transparent:e.transparent||!0,version:e.version||"1.3.0",crs:e.crs||L.CRS.EPSG900913,format:e.format||"image/png",opacity:e.opacity||.75,tileSize:e.tileSize||document.getElementById("map").clientWidth})}Object.defineProperty(t,"__esModule",{value:!0}),t.GetCurrentLayers=r,t.turnOffNonBaseLayers=a,t.CreateDefaultLayers=o,t.toggleLayer=i,t.enableLayer=c,t.disableLayer=u,t.updateLayerOpacity=d;var v=n(24),h=n(25),m=n(22),y=[],g=[]},function(e,t,n){"use strict";function r(){(0,c.removeAllPointsOfInterest)(),(0,s.removeAllGraphs)(),(0,l.turnOffNonBaseLayers)(),(0,u.resetPanelState)(),(0,u.updatePanelDragOverlayHeight)(),(0,p.updateShareUrl)()}function a(e){var t=e.id||"map",n=e.options||{scrollWheelZoom:!1},r=e.center||["38.5","-81"],a=e.zoom||6;return i=L.map(t,n).setView(r,a),L.control.attribution().addTo(i),document.getElementsByClassName("leaflet-control-zoom-in")[0].addEventListener("click",function(){ga("send","event",{eventCategory:"map",eventAction:"click button",eventLabel:"zoom in",nonInteraction:!1})}),document.getElementsByClassName("leaflet-control-zoom-out")[0].addEventListener("click",function(){ga("send","event",{eventCategory:"map",eventAction:"click button",eventLabel:"zoom out",nonInteraction:!1})}),i.on("dragend",function(e){ga("send","event",{eventCategory:"map",eventAction:"drag",eventLabel:JSON.stringify(i.getBounds()),nonInteraction:!0})}),i.on("zoomend",function(e){ga("send","event",{eventCategory:"map",eventAction:"zoom",eventLabel:JSON.stringify(i.getBounds()),nonInteraction:!0})}),i}function o(){return i}Object.defineProperty(t,"__esModule",{value:!0}),t.clearMap=r,t.CreateMap=a,t.GetMap=o;var i,c=n(27),l=n(23),s=n(28),u=n(22),p=n(25)},function(e,t,n){"use strict";function r(e){e.on("moveend",a)}function a(e){var t=(0,Y.GetMap)();c(i([b(t),w(t),E(t),L(),k(t),C(),O(),_()])),l(),g()}function o(e){var t=S();t&&(t.center&&(e.map.center=t.center),t.zoom&&(e.map.zoom=t.zoom),t.layers&&D(t.layers,e),t.baselayers&&U(t.baselayers,e),t.pois&&F(t.pois,e),t.tab&&(e.tab=t.tab),t.graph&&(e.graph=t.graph),t.layerGroups&&(e.layerGroups=R(t.layerGroups,e)))}function i(e){return"?"+e.filter(function(e){return void 0!==e}).join("&")}function c(e){window.history&&window.history.replaceState&&window.history.replaceState({},"",e)}function l(){var e=window.location.href;document.getElementById("shareurl-link-url").setAttribute("value",e)}function s(){d3.select(document).on("click",u),d3.select(".shareurl-link a").on("click",d),d3.select(".shareurl-link-url").on("click",v),d3.select(".shareurl-link-popup-remover").on("click",f)}function u(){var e=d3.event,t=[];t=p(e.target);var n,r,a=!0;for(n=0,r=t.length;n<r;n++)try{if(t[n].classList.contains("shareurl-link-popup")||t[n].classList.contains("shareurl-link")){a=!1;break}}catch(e){}if(a){m(document.getElementsByClassName("shareurl-link-popup").item(0))}}function p(e){for(var t=[];e&&e.parentNode;)t.push(e),e=e.parentNode;return t}function d(){var e=document.getElementsByClassName("shareurl-link-popup").item(0);d3.select(e).classed("active")?m(e):h(e)}function f(){m(document.getElementsByClassName("shareurl-link-popup").item(0))}function v(){y()}function h(e){e.classList.toggle("active"),y(),ga("send","event",{eventCategory:"shareurl",eventAction:"open",eventLabel:document.getElementById("shareurl-link-url").getAttribute("value"),nonInteraction:!1})}function m(e){ga("send","event",{eventCategory:"shareurl",eventAction:"close",eventLabel:document.getElementById("shareurl-link-url").getAttribute("value"),nonInteraction:!1}),e.classList.remove("active")}function y(){var e=document.getElementById("shareurl-link-url");e.focus(),e.setSelectionRange(0,e.value.length)}function g(){var e,t,n,r,a=P(window.location.href),o=document.getElementsByClassName("shareurl-social");for(n=0,r=o.length;n<r;n++)e=o[n],t=e.getAttribute("data-baseurl")+a,e.setAttribute("href",t),e.addEventListener("click",function(){ga("send","event",{eventCategory:"shareurl",eventAction:this.getAttribute("aria-label"),eventLabel:this.href,nonInteraction:!1})})}function b(e){var t=e.getCenter();return"center="+t.lat.toString()+","+t.lng.toString()}function w(e){return"zoom="+e.getZoom()}function E(e){var t=[],n={},r=(0,H.GetCurrentLayers)();e.eachLayer(function(e){var t=e.options;t&&t.layers&&(n[t.layers]=t.hasOwnProperty("opacity")?t.opacity:"1")});var a,o;for(o=0;o<r.length;o++)a=r[o],t.push(a),t.push(n[a]);return"layers="+t.join(",")}function k(e){var t=[];return e.eachLayer(function(e){e.options&&e.options.type===z.BASE_LAYER_TYPE&&t.push(e.options.id)}),"baselayers="+t.join(",")}function L(){return"layerGroups="+(0,K.GetActiveLayerGroups)().map(function(e){return e.id}).join(",")}function C(){var e=(0,$.GetAllPointsOfInterest)();if(e.length){var t="pois=";return e.forEach(function(e){t+=e.lat+","+e.lng,e.plots&&e.plots.length&&(t+=","+e.plots.join(",")),t+=";"}),t}}function O(){return"tab="+d3.select(".panel-top-btn.active").attr("data-active")}function _(){return"graph="+d3.select(".graph-type-btn.active").attr("data-type")}function S(){var e=window.location.search;if(""!==e)return e=A(e),e=x(e),I(e),e}function A(e){return e=e.substring(1),e=j(e),e.split("&")}function P(e){return e.replace(/\:/g,"%3A").replace(/\;/g,"%3B").replace(/\//g,"%2F").replace(/\,/g,"%2C").replace(/\&/g,"%26")}function j(e){return e.replace(/\%2[c|C]/g,",").replace(/\%3[b|B]/g,";")}function x(e){var t,n,r={};for(n=0;n<e.length;n++)t=e[n].split("="),r[t[0]]=t[1];return r}function I(e){e.center&&(e.center=T(e.center)),e.layers&&(e.layers=M(e.layers)),e.baselayers&&(e.baselayers=B(e.baselayers)),e.pois&&(e.pois=N(e.pois)),e.layerGroups&&(e.layerGroups=G(e.layerGroups))}function T(e){return e.split(",")}function M(e){var t,n,r={enabledLayers:[],opacityVals:{}};for(e=e.split(","),n=0;n<e.length;n+=2)t=e[n],r.enabledLayers.push(t),r.opacityVals[t]=e[n+1];return r}function B(e){return e.split(",")}function N(e){return e.split(";").filter(function(e){return""!==e}).map(function(e){return e=e.split(","),e.length>2?(0,$.createPOI)(e[0],e[1],e.splice(2)):(0,$.createPOI)(e[0],e[1],null)})}function G(e){return e.split(",")}function R(e,t){t.layout["layer-groups-order"].forEach(function(t){t.active=e.filter(function(e){return e===t.id}).length>0})}function D(e,t){var n=e.enabledLayers;t["active-layers"]=n;var r,a,o,i,c,l,s=t.layers;for(r=0;r<n.length;r++){l=!1,c=n[r];for(o in s){if(!s.hasOwnProperty(o))return;for(i=s[o],a=0;a<i.length;a++)if(i[a].id===c){i[a].opacity=e.opacityVals[c],l=!0;break}if(l)break}}}function U(e,t){var n,r,a=t.baselayers;for(r=0;r<a.length;r++)n=a[r],n.active=-1!==e.indexOf(n.id)}function F(e,t){t.pois=e}Object.defineProperty(t,"__esModule",{value:!0}),t.BindUpdateShareUrl=r,t.updateShareUrl=a,t.AddShareSettingsToConfig=o,t.BindCopyLinkEvents=s;var Y=n(24),z=n(26),H=n(23),$=n(27),K=n(22)},function(e,t,n){"use strict";function r(e,t){t=t||[{id:"carto-light-default",url:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attributions">CARTO</a>'}],p=t;var n,r,o;for(n=0;n<t.length;n++)o=t[n],o.active&&(r=s(o),o.layer=r,r.addTo(e));a(t)}function a(e){var t=document.createElement("div");t.className="baselayer-ui";for(var n,r,a,i,c=0,l=e.length;c<l;c++)i=e[c],i.hasOwnProperty("image")&&(n=document.createElement("div"),n.setAttribute("data-layer",i.id),r=document.createElement("img"),r.setAttribute("src",i.image),r.setAttribute("alt",i.label),r.setAttribute("title",i.label),a=document.createElement("div"),a.textContent=i.label,n.appendChild(r),n.appendChild(a),n.addEventListener("click",o),d3.select(n).classed("base-selector",!0).classed("active",i.active),t.appendChild(n));document.getElementsByClassName("leaflet-bottom leaflet-left")[0].appendChild(t)}function o(e){e.stopPropagation();var t=this.getAttribute("data-layer");i(this),c(),l(t),ga("send","event",{eventCategory:"map",eventAction:"change base layer",eventLabel:t,nonInteraction:!1}),(0,f.updateShareUrl)()}function i(e){d3.select(".base-selector.active").classed("active",!1),d3.select(e).classed("active",!0)}function c(){var e=(0,d.GetMap)();e.eachLayer(function(t){t.options.type===v&&e.removeLayer(t)})}function l(e){for(var t,n=(0,d.GetMap)(),r=0,a=p.length;r<a;r++)if(t=p[r],t.id===e){t.layer||(t.layer=s(t)),t.layer.addTo(n),t.layer.bringToBack();break}}function s(e){return L.tileLayer(e.url,u(e))}function u(e){var t={};return e.id&&(t.id=e.id),e.attribution&&(t.attribution=e.attribution),e.subdomains&&(t.subdomains=e.subdomains),t.type=v,t}Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_LAYER_TYPE=void 0,t.CreateBaseLayers=r;var p,d=n(24),f=n(25),v=t.BASE_LAYER_TYPE="baselayer"},function(e,t,n){"use strict";function r(e){e.on("click",o)}function a(){var e=(0,k.GetMap)();O.forEach(function(t){e.removeLayer(t.marker)}),O=[]}function o(e){var t=this,n=e.latlng.lat,r=e.latlng.lng,a=s(n,r,null);u(a),v(t,a),(0,E.updateShareUrl)(),ga("send","event",{eventCategory:"map",eventAction:"click",eventLabel:JSON.stringify({action:"add map marker",lat:n,long:r}),nonInteraction:!1})}function i(e,t,n,r){var a=c();t.getElementsByClassName("graph-elem-header")[0].appendChild(a),d3.select(a).on("click",function(){ga("send","event",{eventCategory:"graph",eventAction:"click",eventLabel:"remove",nonInteraction:!1}),f(r),g(e,t,n),(0,C.updatePanelDragOverlayHeight)(),(0,E.updateShareUrl)()})}function c(){var e=document.createElement("button");return e.className="remove-graph",e.innerText=String.fromCharCode("10005"),e.setAttribute("title","Remove graph"),e}function l(){return O}function s(e,t,n){return{lat:e,lng:t,plots:n||["baseline","2015","thresholds"]}}function u(e){O.push(e)}function p(e,t){d(t);var n=l(),e=(0,k.GetMap)();n.forEach(function(t){v(e,t)})}function d(e){Array.prototype.push.apply(O,e)}function f(e){O=O.filter(function(t){return!(t===e)})}function v(e,t){var n=(0,b.createGraphDiv)(t),r=(0,w.createMarker)(t.lat,t.lng);t.graphDiv=n,t.marker=r,r.addTo(e),i(e,n,r,t),d3.select(n).on("mouseenter",function(e){r.setIcon((0,w.getIcon)("hover"))}),d3.select(n).on("mouseleave",function(){r.setIcon((0,w.getIcon)("graph"))}),r.on("click dblclick",function(e){h(e,t)}),r.on("mouseover",function(e){r.setIcon((0,w.getIcon)("hover"))}),r.on("mouseout",function(e){r.setIcon((0,w.getIcon)("graph")),t.graphDiv.getElementsByClassName("pan-to-marker-btn")[0].classList.remove("animate")})}function h(e,t){e.originalEvent.stopPropagation(),(0,L.HandleTabChange)("graphs-active"),y(t),m(t)}function m(e){e.graphDiv.getElementsByClassName("pan-to-marker-btn")[0].classList.add("animate")}function y(e){document.getElementById("right-panel").scrollTop=e.graphDiv.offsetTop}function g(e,t,n){document.getElementById("graph-list").removeChild(t),e.removeLayer(n),(0,E.updateShareUrl)()}Object.defineProperty(t,"__esModule",{value:!0}),t.BindGraphEvents=r,t.removeAllPointsOfInterest=a,t.GetAllPointsOfInterest=l,t.createPOI=s,t.SetupPointsOfInterest=p;var b=n(28),w=n(29),E=n(25),k=n(24),L=n(30),C=n(22),O=[]},function(e,t,n){"use strict";function r(){d3.selectAll(".graph-type-btn").on("click",p),o(),W=d3.tip().attr("class","d3-tip").html(function(e){return e})}function a(){for(var e=document.getElementById("graph-list");e.firstChild;)e.removeChild(e.firstChild)}function o(){Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100!=0||e%400==0)},Date.prototype.getDOY=function(){var e=[0,31,59,90,120,151,181,212,243,273,304,334],t=this.getMonth(),n=this.getDate(),r=e[t]+n;return t>1&&this.isLeapYear()&&r++,r}}function i(e,t,n){n=n.replace(/\[|\]|\'/g,"").split(", "),b(n,e,t),(0,H.updatePanelDragOverlayHeight)()}function c(e,t){var n="https://fcav-ndvi.nemac.org/landdat_product.cgi?args="+e.lng+","+e.lat,r=(0,q.GetAjaxObject)(function(n){i(t,e,n)});r.open("GET",n),r.send()}function l(e){var t;for(t=0;t<e.length;t++)e[t]=e[t].split(",");return e}function s(e){var t,n,r,a,o={};for(o.keys=[],r=0;r<e.length;r++)t=e[r],n=t[0].substring(0,4),o.hasOwnProperty(n)||(o[n]=[],o.keys.push(n)),o[n].push(t);var i=[];for(r=0;r<o.keys.length;r++)n=o.keys[r],46!==o[n].length&&i.push(n);for(r=0;r<i.length;r++)n=i[r],delete o[n],o.keys.splice(o.keys.indexOf(n),1);var c,l;for(o.baseline=[],r=0;r<46;r++){for(c=[],a=r;a<e.length;a+=46)c.push(parseInt(e[a][1],10));l=u(c),o.baseline.push(l)}return o}function u(e){var t,n,r=0;for(t=0,n=e.length;t<n;t++)r+=e[t];return(r/n).toString()}function p(){var e=this.getAttribute("data-type"),t=document.getElementsByClassName("graph-type-btn active")[0].getAttribute("data-type");e!==t&&(ga("send","event",{eventCategory:"graph type",eventAction:"click",eventLabel:e,nonInteraction:!1}),d(e))}function d(e){if(!f())var t=document.getElementsByClassName("graph-elem")[0].scrollHeight,n=document.getElementsByClassName("graph-type-info active")[0].scrollHeight,r=document.getElementById("right-panel").scrollTop;h(),m(e),f()||v(n,t,r),(0,$.updateShareUrl)()}function f(){return void 0===document.getElementsByClassName("graph-elem")[0]}function v(e,t,n){var r=document.getElementsByClassName("graph-type-info active")[0].scrollHeight,a=document.getElementsByClassName("graph-elem")[0].scrollHeight,o=a/t,i=r+(n-e)*o;document.getElementById("right-panel").scrollTop=i}function h(){var e=document.getElementsByClassName("graph-type-btn active")[0],t="graph-"+e.getAttribute("data-type");e.classList.remove("active"),document.getElementById("graph-list").classList.remove(t)}function m(e){d3.select(".graph-type-btn[data-type='"+e+"']").classed("active",!0),document.getElementById("graph-list").classList.add("graph-"+e),d3.selectAll(".graph-type-info").classed("active",function(){return e===this.id.split("-")[0]})}function y(e){var t=w(e.lat,3),n=w(e.lng,3),r=document.createElement("div"),a=document.createElement("div");r.appendChild(a);var o=g(e),i=document.createTextNode("Lat: "+t+", Long: "+n),l=document.createElement("div");l.className="graph-lat-lon",l.appendChild(i),a.appendChild(o),a.appendChild(l);var s=document.createElement("div");return s.classList.add("graph-loading-div"),r.appendChild(s),r.classList.add("graph-elem"),r.classList.add("graph-loading"),a.classList.add("graph-elem-header"),document.getElementById("graph-list").appendChild(r),c(e,r),r}function g(e){var t=document.createElement("button");return t.classList.add("btn"),t.classList.add("pan-to-marker-btn"),t.textContent="Show On Map",t.onclick=function(e,t){(0,K.GetMap)().panTo([e.lat,e.lng]),ga("send","event",{eventCategory:"graph",eventAction:"click",eventLabel:'{"show on map":{"lat":'+e.lat+',"long":'+e.lng+"}}",nonInteraction:!1})}.bind(t,e),t}function b(e,t,n){e=l(e);var r=s(e);E(e,t),k(r,t,n),L(r,t,n),t.classList.remove("graph-loading")}function w(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function E(e,t){var n={top:30,right:20,bottom:30,left:29},r=580-n.left-n.right,a=270-n.top-n.bottom,o=d3.scaleTime().range([0,r]).domain([D(e[0][0]),D(e[e.length-1][0])]),i=d3.scaleLinear().range([a,0]).domain([0,100]),c=d3.axisBottom(o).ticks(16).tickFormat(function(e){return e.getFullYear()}),l=d3.axisLeft(i).ticks(6),s=d3.line().x(function(e){return o(D(e[0]))}).y(function(e){return i(e[1])}),u=d3.select(t).append("div").classed("timeseries-graph",!0),p=u.append("svg").attr("height",a+n.top+n.bottom).attr("viewBox",function(){return"0 0 "+(r+n.left+n.right)+" "+(a+n.top+n.bottom)}).attr("preserveAspectRatio","xMidYMid").append("g").attr("transform","translate("+n.left+","+n.top+")");p.call(W),_(e,s,p),p.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(c),p.append("g").attr("class","y axis").call(l),A(e,s,p)}function k(e,t,n){function r(e){return J[(e-15)/30]}var a={},o={top:30,right:20,bottom:30,left:29},i=500-o.left-o.right,c=270-o.top-o.bottom,l=e.baseline,s=d3.scaleLinear().range([0,i]).domain([0,365]),u=d3.scaleLinear().range([c,0]).domain([0,100]),p=d3.axisBottom(s).ticks(11).tickValues([15,45,75,105,135,165,195,225,255,285,315,345]).tickFormat(r),d=d3.axisLeft(u).ticks(6),f=d3.line().x(function(e,t){return s(Array.isArray(e)?U(e[0]):8*t+3)}).y(function(e){return u(Array.isArray(e)?e[1]:e)}),v=d3.select(t).append("div").classed("overlapping-graph",!0),h=v.append("svg").attr("viewBox",function(){return"0 0 "+(i+o.left+o.right)+" "+(c+o.top+o.bottom)}).attr("preserveAspectRatio","xMidYMid").append("g").attr("transform","translate("+o.left+","+o.top+")");h.call(W),h.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(p),h.append("g").attr("class","y axis").call(d);var m,y,g;for(y=0,g=n.plots.length;y<g;y++)"thresholds"!==(m=n.plots[y])&&(a[m]={path:_(e[m],f,h)});for(y=0,g=n.plots.length;y<g;y++)"thresholds"!==(m=n.plots[y])&&(a[m].points=A(e[m],f,h));var b=v.append("div").classed("input-wrapper",!0);e.keys.forEach(function(t){x(b,t,"overlapping",n,a,e,f,h,l)}),x(b,"baseline","overlapping",n,a,e,f,h,l)}function L(e,t,n){var r=Math.min(490,490)/2-30,a=e.baseline,o=C(e),i=O(a,o[1][0]),c=d3.scaleLinear().domain([0,100]).range([0,r]),l=d3.radialLine().radius(function(e){return c(Array.isArray(e)?e[1]:e)}).angle(function(e,t){return((Array.isArray(e)?U(e[0]):8*t+3)-1)%365/365*(2*Math.PI)}),s=d3.select(t).append("div").classed("polar-graph",!0),u=s.append("svg").attr("viewBox",function(){return"0 0 490 490"}).attr("preserveAspectRatio","xMidYMid").append("g").attr("transform","translate(245,245)");u.call(W);var p=u.append("g").attr("class","r axis").selectAll("g").data(c.ticks(5).slice(1)).enter().append("g");p.append("circle").attr("r",c),p.append("text").attr("y",function(e){return-c(e)-4}).attr("transform","rotate(15)").style("text-anchor","middle").text(function(e){return e});var d=u.append("g").attr("class","a axis").selectAll("g").data(d3.range(0,360,30)).enter().append("g").attr("transform",function(e){return"rotate("+(e-90)+")"});d.append("line").attr("x2",r),d.append("text").attr("x",r+6).attr("dy",".35em").style("text-anchor",function(e){return e<360&&e>180?"end":null}).attr("transform",function(e){return e<360&&e>180?"rotate(180 "+(r+6)+",0)":null}).text(function(e){return J[e/30]});var f=u.append("g").selectAll("g").data(i).enter().append("g").attr("transform",function(e){return"rotate("+(e.data[1][0]-90)+")"});f.append("line").attr("class","line").attr("x2",r),f.append("text").attr("x",function(e){var t=e.data[1][0];return t<360&&t>180?r+30:r-30}).attr("y",function(e){return e.data[1][0]%365/365*(2*Math.PI)+6}).attr("dy",".35em").style("text-anchor",function(e){var t=e.data[1][0];return t<360&&t>180?"middle":null}).attr("transform",function(e){var t=e.data[1][0];return t<360&&t>180?"rotate(180 "+(r+6)+",0)":null}).text(function(e){return e.label}),f.style("opacity",-1!==n.plots.indexOf("thresholds")?1:0);var v=o[1][0];S([[v,100],[(v+182.5)%365,100]],l,u).classed("growing-season-line","true"),S(o,l,u).classed("center-line","true"),u.selectAll("point").data([o[1]]).enter().append("circle").attr("class","center").attr("r",4).attr("transform",function(e){return"translate("+l([e]).slice(1).slice(0,-1)+")"}).attr("stroke","#000").attr("fill","#ea0c48").on("mouseover",function(e){W.show("Center: "+String(e[1]).substring(0,7)),this.setAttribute("r",5)}).on("mouseout",function(e){W.hide(),this.setAttribute("r",4)});var h,m,y,g={};for(m=0,y=n.plots.length;m<y;m++)"thresholds"!==(h=n.plots[m])&&(g[h]={path:S(e[h],l,u)});for(m=0,y=n.plots.length;m<y;m++)"thresholds"!==(h=n.plots[m])&&(g[h].points=A(e[h],l,u));var b=s.append("div").classed("input-wrapper",!0);e.keys.forEach(function(t){x(b,t,"polar",n,g,e,l,u,a)}),x(b,"baseline","polar",n,g,e,l,u,a);var w=b.append("div").classed("threshold-checkbox",!0);w.append("input").attr("type","checkbox").attr("id","threshold-checkbox-"+n.lat.toString().replace(".","")+"-"+n.lng.toString().replace(".","")).property("checked",-1!==n.plots.indexOf("thresholds")).on("change",function(e){f.style("opacity",this.checked?1:0);var t=this.checked?"off":"on";this.checked?N(n,"thresholds"):B(n,"thresholds"),(0,$.updateShareUrl)(),G("threshold polar timeseries "+t)}),w.append("label").text("Thresholds").attr("for","threshold-checkbox-"+n.lat.toString().replace(".","")+"-"+n.lng.toString().replace(".",""))}function C(e){var t,n,r,a,o,i=0,c=0;for(r=46,t=0;t<e.keys.length;t++)if(a=e[e.keys[t]],a.length===r){for(o=0,n=0;n<r/2;n++)o+=a[n][1]-a[n+23][1];o/=23,i+=o}else c++;i=Math.abs(i)/(e.keys.length-c);var l,s,u,p,d,f=1e6,v=0,h=e.baseline;for(t=0;t<r/2;t++){for(s=0,u=0,d=0;d<r/2;d++)n=(t+d)%46,p=(n+23)%46,s+=parseInt(h[n],10),u+=parseInt(h[p],10);l=Math.abs(s-u),l<f&&(f=l,v=t)}var m=parseInt(h[v],10),y=parseInt(-h[v+23],10),g=(m+y)/2,b=Math.abs(i-g);return Math.abs(-i-g)<b&&(v+=23),[[0,0],[8*v+3,i]]}function O(e,t){var n=Math.floor((t-3)/8);n+=n>22?-23:23;var r,a,o,i=0;for(o=46,r=0;r<o;r++)a=(n+r)%o,i+=parseInt(e[a],10);var c,l,s=.15*i,u=.8*i,p=!1,d=!1;for(i=0,r=0;r<o;r++)a=(n+r)%o,i+=parseInt(e[a],10),!p&&i>s?(c=a,p=!0):!d&&i>u&&(l=a,d=!0);var f=[0,0];return[{label:"15%",data:[f,[8*c+3,100]]},{label:"80%",data:[f,[8*l+3,100]]}]}function _(e,t,n){return n.append("path").attr("class","line").attr("d",t(e))}function S(e,t,n){return n.append("path").datum(e).attr("class","line").attr("d",t)}function A(e,t,n){return n.selectAll("point").data(e).enter().append("circle").attr("r",2).attr("class","point").attr("transform",function(e,n){var r=Array.isArray(e)?e:[8*n+3,e];return"translate("+t([r]).slice(1).slice(0,-1)+")"}).attr("stroke","#000").attr("fill",function(e,t){return R(Array.isArray(e)?e[0].substring(0,4):0)}).on("mouseover",P).on("mouseout",j)}function P(e){var t=Array.isArray(e)?F(e[0])+": "+e[1]:"Average: "+e;W.show(t),this.setAttribute("r","4")}function j(e){W.hide(),this.setAttribute("r","2");var t=document.getElementsByClassName("graph-type-btn active")[0].getAttribute("data-type");ga("send","event",{eventCategory:"graph",eventAction:"hover",eventLabel:t+" tool tip",nonInteraction:!1})}function x(e,t,n,r,a,o,i,c,l){var s=e.append("div"),u=r.lat,p=r.lng;s.append("input").attr("type","checkbox").attr("id",n+"-"+t+u.toString().replace(".","")+"-"+p.toString().replace(".","")).attr("data-link",t+u.toString().replace(".","")+"-"+p.toString().replace(".","")).attr("value",t).property("checked",-1!==r.plots.indexOf(t)).on("change",function(e){var l=this.value;this.checked?(T(a,l,o,i,c),N(r,t),G(l+" "+n+" timeseries on")):(I(a,l),B(r,t),G(l+" "+n+" timeseries off")),M(t+u.toString().replace(".","")+"-"+p.toString().replace(".",""),this.checked),(0,$.updateShareUrl)()}),s.append("label").text("baseline"!==t?t:"Baseline").attr("for",n+"-"+t+u.toString().replace(".","")+"-"+p.toString().replace(".","")),s.append("div").style("background",R("baseline"!==t?t:0)).classed("graph-pip-example",!0)}function I(e,t){e[t].path.remove(),e[t].points.remove()}function T(e,t,n,r,a){e.hasOwnProperty(t)||(e[t]={}),e[t].path=_(n[t],r,a),e[t].points=A(n[t],r,a)}function M(e,t,n){d3.selectAll("input[data-link='"+e+"']").each(function(e,n){var r=d3.select(this);r.property("checked")!==t&&(r.property("checked",t),r.dispatch("change"))})}function B(e,t){var n=e.plots.indexOf(t);-1!==n&&e.plots.splice(n,1)}function N(e,t){-1===e.plots.indexOf(t)&&e.plots.push(t)}function G(e){ga("send","event",{eventCategory:"graph",eventAction:"click",eventLabel:e,nonInteraction:!1})}function R(e){var t=["#ffe476","#036593","#116c91","#1e7390","#2c7b8e","#39828c","#4c8c8a","#5e9589","#719f87","#83a886","#95b183","#a6ba80","#b8c37c","#cacc79","#d6d279","#e2d779","#efdd78","#fbe378"];return 0===e?"#fff":t[parseInt(e,10)%t.length]}function D(e){e=e.toString();var t=e.substring(0,4),n=parseInt(e.substring(4,6),10)-1,r=e.substring(6,8);return new Date(t,n,r)}function U(e){return"string"==typeof e?(e=D(e),e.getDOY()):e}function F(e){return"Average"===e?e:(e=D(e),Y(e.getMonth())+" "+z(e.getDate())+", "+e.getFullYear())}function Y(e){return Z[e]}function z(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}Object.defineProperty(t,"__esModule",{value:!0}),t.SetupGraphs=r,t.removeAllGraphs=a,t.HandleGraphTabChange=d,t.createGraphDiv=y;var H=n(22),$=n(25),K=n(24),q=n(2),W={},J={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"},Z={0:"Jan.",1:"Feb.",2:"Mar.",3:"Apr.",4:"May",5:"Jun.",6:"Jul.",7:"Aug.",8:"Sep.",9:"Oct.",10:"Nov.",11:"Dec."}},function(e,t){"use strict";function n(e,t){return L.marker([e,t],{icon:o})}function r(e){return"hover"===e?i:o}Object.defineProperty(t,"__esModule",{value:!0}),t.createMarker=n,t.getIcon=r;var a=L.Icon.extend({}),o=new a({iconUrl:"imgs/blue_icon.png",shadowUrl:"imgs/marker_shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),i=new a({iconUrl:"imgs/orange_icon.png",shadowUrl:"imgs/marker_shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})},function(e,t,n){"use strict";function r(){d3.selectAll(".panel-top-btn").on("click",o)}function a(){return document.getElementsByClassName("panel-top-btn active")[0].getAttribute("data-active")}function o(){this.classList.contains("active")||(ga("send","event",{eventCategory:"tab",eventAction:"click",eventLabel:this.getAttribute("data-active"),nonInteraction:!1}),i(this.getAttribute("data-active")))}function i(e){l(),c(e),(0,d.updateShareUrl)()}function c(e){d3.select(".panel-top-btn[data-active='"+e+"']").classed("active",!0),document.getElementById("map-wrapper").classList.add(e),document.getElementById("right-panel").classList.add(e),d3.select(".panel-section-wrapper[data-active='"+e+"']").classed("active",!0),s(),u(),(0,p.updatePanelDragOverlayHeight)()}function l(){var e=d3.select(".panel-top-btn.active").attr("data-active");d3.selectAll("#map-wrapper, #right-panel").classed(e,!1),d3.selectAll(".panel-top-btn.active, .panel-section-wrapper.active").classed("active",!1)}function s(){var e=document.getElementById("right-panel").offsetWidth;document.getElementById("map-wrapper").style.paddingRight=e+"px"}function u(){var e=document.getElementById("right-panel"),t=e.style.width;if(t){var n=d3.select(e).style("min-width").slice(0,-2);parseInt(t.slice(0,-2),10)>parseInt(n,10)||(e.style.width="")}}Object.defineProperty(t,"__esModule",{value:!0}),t.BindTabEvents=r,t.GetActiveTab=a,t.HandleTabChange=i;var p=n(22),d=n(25)},function(e,t,n){"use strict";function r(e,t,n){n=n||e.opacity,t.style.top=p(n)+"px"}function a(e){var t=void 0!==e.opacity?e.opacity:1,n=document.createElement("div"),r=i(e,t),a=o("closed",e,r);return n.classList.add("opacity-slider-wrapper"),n.appendChild(r),n.appendChild(a),n}function o(e,t,n){var a=document.createElement("div"),o=document.createElement("img");return a.classList.add("opacity-icon-wrapper"),o.classList.add("opacity-icon"),o.classList.add(e),o.setAttribute("src","imgs/opacity-icon-"+e+"-64x64.png"),o.setAttribute("alt","Use this slider to adjust transparency for the "+t.name+" layer"),o.setAttribute("title","Use this slider to adjust transparency for the "+t.name+" layer"),a.appendChild(o),a.onclick=function(e){var a=n.getElementsByClassName("opacity-slider-handle")[0];(0,u.updateLayerOpacity)(t,0),r(t,a,0)},a}function i(e,t){var n=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div");return n.classList.add("opacity-slider-track-overlay"),a.classList.add("opacity-slider-track"),o.classList.add("opacity-slider-handle"),n.appendChild(a),n.appendChild(o),e.active&&r(e,o),c(n,e,t),n}function c(e,t,n){d3.select(e).call(d3.drag().on("start drag",function(){var n=e.getElementsByClassName("opacity-slider-handle")[0],a=l(e);(0,u.updateLayerOpacity)(t,a),r(t,n,a)}).on("end",function(){var n=l(e);ga("send","event",{eventCategory:"opacity slider",eventAction:"change",eventLabel:'{"'+t.name+'": "'+n+'"}',nonInteraction:!1}),(0,s.updateShareUrl)()}))}function l(e){var t=d3.mouse(e)[1];return p.invert(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.setOpacitySliderPosition=r,t.makeOpacitySlider=a;var s=n(25),u=n(23),p=d3.scaleLinear().domain([1,0]).range([0,90]).clamp(!0)},function(e,t){"use strict";function n(e){if(e.image){var t=r(),n=a(e),i=e.link?o(e.link):null;i?(i.appendChild(n),t.appendChild(i)):t.appendChild(n);var c=document.getElementsByClassName(e.location)[0],l=c.firstChild;c.insertBefore(t,l)}}function r(){var e=document.createElement("div");return d3.select(e).classed("project-logo",!0),e}function a(e){var t=document.createElement("img");return t.setAttribute("src",e.image),e.label&&(t.setAttribute("alt",e.label),t.setAttribute("title",e.label)),t}function o(e){var t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("target","_blank"),t.addEventListener("click",function(){ga("send","event",{eventCategory:"map",eventAction:"click",eventLabel:"landat logo",nonInteraction:!1})}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(){d3.select("#mobile-toggle-panel-button").on("click",o),d3.selectAll("#mobile-clear-map-button").on("click",a)}function a(){d3.event.stopPropagation(),(0,l.clearMap)(),i()}function o(){d3.event.stopPropagation();var e=d3.select("#wrapper"),t=e.classed("mobile-menu-hidden");e.classed("mobile-menu-hidden",!t),c(t?"closing":"opening")}function i(){ga("send","event",{eventCategory:"mobile clearmap",eventAction:"click",eventLabel:"Mobile Clear Map",nonInteraction:!1})}function c(e){ga("send","event",{eventCategory:"mobile menu",eventAction:"click",eventLabel:"Mobile Panel Toggle"+e,nonInteraction:!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var l=n(24)},function(e,t,n){"use strict";function r(){d3.select("#toggle-panel-button").on("click",o),d3.selectAll("#clear-map-button").on("click",a)}function a(e){d3.event.stopPropagation(),(0,l.clearMap)(),i()}function o(e){d3.event.stopPropagation();var t=d3.select("#wrapper"),n=t.classed("panel-active");t.classed("panel-active",!n),t.classed("panel-inactive",n),(0,l.GetMap)().invalidateSize({pan:!1}),c(n?"Close":"Open")}function i(){ga("send","event",{eventCategory:"desktop",eventAction:"click",eventLabel:"Clear Map Btn",nonInteraction:!1})}function c(e){ga("send","event",{eventCategory:"desktop",eventAction:"click",eventLabel:"Panel Toggle "+e,nonInteraction:!1})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var l=n(24)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXhfYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA4NTI3YTJjMDc5NDk0MzhmMThkMCIsIndlYnBhY2s6Ly8vLi9qcy9iYXNlLmpzIiwid2VicGFjazovLy8uL2pzL3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9qcy9zZWFyY2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvbGVhZmxldENvbnRyb2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9ub2RlbnQtcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovLy8uL34vbm9kZW50LXJ1bnRpbWUvem91c2FuLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL34vbm9kZS1saWJzLWJyb3dzZXIvfi90aW1lcnMtYnJvd3NlcmlmeS9tYWluLmpzIiwid2VicGFjazovLy8od2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3RpbWVycy1icm93c2VyaWZ5L34vc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L25vZGVudC1ydW50aW1lL3RoZW5hYmxlRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2xlYWZsZXQtZ2Vvc2VhcmNoL34vbG9kYXNoLmRlYm91bmNlL2luZGV4LmpzIiwid2VicGFjazovLy8uL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL3NlYXJjaEVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvZG9tVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL3Jlc3VsdExpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvcHJvdmlkZXJzL2JpbmdQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2xlYWZsZXQtZ2Vvc2VhcmNoL2xpYi9wcm92aWRlcnMvcHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvcHJvdmlkZXJzL2VzcmlQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9+L2xlYWZsZXQtZ2Vvc2VhcmNoL2xpYi9wcm92aWRlcnMvZ29vZ2xlUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvcHJvdmlkZXJzL29wZW5TdHJlZXRNYXBQcm92aWRlci5qcyIsIndlYnBhY2s6Ly8vLi9qcy9wYW5lbC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9sYXllci5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vanMvc2hhcmUuanMiLCJ3ZWJwYWNrOi8vLy4vanMvYmFzZWxheWVyLmpzIiwid2VicGFjazovLy8uL2pzL3BvaS5qcyIsIndlYnBhY2s6Ly8vLi9qcy9ncmFwaC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9tYXJrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vanMvdGFicy5qcyIsIndlYnBhY2s6Ly8vLi9qcy9vcGFjaXR5U2xpZGVyLmpzIiwid2VicGFjazovLy8uL2pzL2xvZ28uanMiLCJ3ZWJwYWNrOi8vLy4vanMvbW9iaWxlLmpzIiwid2VicGFjazovLy8uL2pzL3BhbmVsVG9nZ2xlLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImlkIiwibG9hZGVkIiwiY2FsbCIsIm0iLCJjIiwicCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJfcGFyc2VyIiwiX3NlYXJjaCIsIl9zZWFyY2gyIiwiX3BhbmVsIiwiX2Jhc2VsYXllciIsIl9ncmFwaCIsIl9wb2kiLCJfdGFicyIsIl9tYXAiLCJfc2hhcmUiLCJfbGF5ZXIiLCJfbG9nbyIsIl9sb2dvMiIsIl9tb2JpbGUiLCJfbW9iaWxlMiIsIl9wYW5lbFRvZ2dsZSIsIl9wYW5lbFRvZ2dsZTIiLCJCYXNlIiwiY29uZmlnIiwiUGFyc2VDb25maWciLCJjYWxsYmFjayIsIlNldHVwR3JhcGhzIiwiQmluZFRhYkV2ZW50cyIsIkJpbmRDb3B5TGlua0V2ZW50cyIsImRhdGEiLCJBZGRTaGFyZVNldHRpbmdzVG9Db25maWciLCJtYXAiLCJDcmVhdGVNYXAiLCJDcmVhdGVCYXNlTGF5ZXJzIiwiYmFzZWxheWVycyIsIkNyZWF0ZURlZmF1bHRMYXllcnMiLCJsYXllcnMiLCJTZXR1cFBhbmVsIiwibGF5b3V0IiwibG9nbyIsInRhYiIsIkhhbmRsZVRhYkNoYW5nZSIsImdyYXBoIiwiSGFuZGxlR3JhcGhUYWJDaGFuZ2UiLCJCaW5kR3JhcGhFdmVudHMiLCJCaW5kVXBkYXRlU2hhcmVVcmwiLCJTZXR1cFBvaW50c09mSW50ZXJlc3QiLCJwb2lzIiwidXBkYXRlU2hhcmVVcmwiLCJ3aW5kb3ciLCJjb25maWdGaWxlIiwiR2V0Q29uZmlnIiwiR2V0QWpheE9iamVjdCIsInJlc3BvbnNlSGFuZGxlciIsInhtbGh0dHAiLCJYTUxIdHRwUmVxdWVzdCIsIkFjdGl2ZVhPYmplY3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2UiLCJvcGVuIiwic2VuZCIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwicGFyc2UiLCJmb3JtYXRNYXAiLCJmb3JtYXRMYXllcnMiLCJsYXllcmdyb3VwIiwiaSIsImRlZmF1bHRNYXBzZXJ2ZXJVcmwiLCJtYXBzZXJ2ZXJVcmwiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJsZW5ndGgiLCJzZXRNYXBzZXJ2ZXJVcmwiLCJzZXREZWZhdWx0TGF5ZXJPcGFjaXR5IiwiZGVmYXVsdExheWVyT3BhY2l0eSIsImxheWVyIiwib3BhY2l0eSIsInVybCIsIkNyZWF0ZVNlYXJjaCIsInByb3ZpZGVyIiwiX2xlYWZsZXRHZW9zZWFyY2giLCJPcGVuU3RyZWV0TWFwUHJvdmlkZXIiLCJzZWFyY2hDb250cm9sIiwiR2VvU2VhcmNoQ29udHJvbCIsInNob3dNYXJrZXIiLCJhdXRvQ29tcGxldGUiLCJzaG93UG9wdXAiLCJhZGRDb250cm9sIiwic2VhcmNoRWxlbWVudHMiLCJzZWFyY2hFbGVtZW50IiwiZWxlbWVudHMiLCJMIiwiRG9tRXZlbnQiLCJvbiIsImNvbnRhaW5lciIsImV2Iiwic3RvcFByb3BhZ2F0aW9uIiwic2VhcmNoRW50cmllcyIsImZvcm0iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJnYSIsImV2ZW50Q2F0ZWdvcnkiLCJldmVudEFjdGlvbiIsImV2ZW50TGFiZWwiLCJub25JbnRlcmFjdGlvbiIsIndoaWNoIiwia2V5Q29kZSIsIl9sZWFmbGV0Q29udHJvbCIsImVudW1lcmFibGUiLCJnZXQiLCJfc2VhcmNoRWxlbWVudCIsIl9iaW5nUHJvdmlkZXIiLCJfZXNyaVByb3ZpZGVyIiwiX2dvb2dsZVByb3ZpZGVyIiwiX29wZW5TdHJlZXRNYXBQcm92aWRlciIsIl9wcm92aWRlciIsIkxlYWZsZXRDb250cm9sIiwiQ29udHJvbCIsImV4dGVuZCIsIkVycm9yIiwiTENvbnRyb2wiLCJfbGVuIiwiYXJndW1lbnRzIiwib3B0aW9ucyIsIkFycmF5IiwiX2tleSIsIkZ1bmN0aW9uIiwicHJvdG90eXBlIiwiYmluZCIsImFwcGx5IiwiY29uY2F0IiwiX25vZGVudFJ1bnRpbWUiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInNvdXJjZSIsImtleSIsIl9sb2Rhc2giLCJfbG9kYXNoMiIsIl9zZWFyY2hFbGVtZW50MiIsIl9yZXN1bHRMaXN0IiwiX3Jlc3VsdExpc3QyIiwiX2RvbVV0aWxzIiwiX2NvbnN0YW50cyIsImRlZmF1bHRPcHRpb25zIiwicG9zaXRpb24iLCJzdHlsZSIsInBvcHVwRm9ybWF0IiwiX3JlZiIsInJlc3VsdCIsImxhYmVsIiwibWFya2VyIiwiaWNvbiIsIkljb24iLCJEZWZhdWx0IiwiZHJhZ2dhYmxlIiwibWF4TWFya2VycyIsInJldGFpblpvb21MZXZlbCIsImFuaW1hdGVab29tIiwic2VhcmNoTGFiZWwiLCJub3RGb3VuZE1lc3NhZ2UiLCJtZXNzYWdlSGlkZURlbGF5Iiwiem9vbUxldmVsIiwiY2xhc3NOYW1lcyIsImJ1dHRvbiIsIm1zZ2JveCIsImlucHV0IiwiYXV0b0NvbXBsZXRlRGVsYXkiLCJhdXRvQ2xvc2UiLCJpbml0aWFsaXplIiwiX3RoaXMiLCJ0aGlzIiwibWFya2VycyIsIkZlYXR1cmVHcm91cCIsIl9vcHRpb25zIiwiaGFuZGxlU3VibWl0IiwicXVlcnkiLCJvblN1Ym1pdCIsIl9zZWFyY2hFbGVtZW50JGVsZW1lbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiY3JlYXRlRWxlbWVudCIsInRpdGxlIiwiaHJlZiIsIm9uQ2xpY2siLCJyZXN1bHRMaXN0IiwiaGFuZGxlQ2xpY2siLCJfcmVmMiIsImFwcGVuZENoaWxkIiwiYXV0b1NlYXJjaCIsInNlbGVjdFJlc3VsdCIsImNsZWFyUmVzdWx0cyIsIm9uQWRkIiwiX29wdGlvbnMyIiwiYWRkVG8iLCJyb290IiwiZ2V0Q29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsIm9uUmVtb3ZlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZWFyY2hFbGVtZW50JGVsZW1lbjIiLCJjb250YWlucyIsInJlbW92ZUNsYXNzTmFtZSIsImFkZENsYXNzTmFtZSIsImZvY3VzIiwiRU5URVJfS0VZIiwiQVJST1dfRE9XTl9LRVkiLCJBUlJPV19VUF9LRVkiLCJpbmNsdWRlcyIsImxpc3QiLCJtYXgiLCJjb3VudCIsIm5leHQiLCJjb2RlIiwic2VsZWN0ZWQiLCJpZHgiLCJpdGVtIiwic2VsZWN0IiwiRVNDQVBFX0tFWSIsImNsZWFyIiwiUHJvbWlzZSIsIiRyZXR1cm4iLCIkZXJyb3IiLCIkSWZfMSIsInJlc3VsdHMiLCJTUEVDSUFMX0tFWVMiLCJzZWFyY2giLCJ0aGVuIiwiJGF3YWl0XzIiLCJyZW5kZXIiLCIkYXN5bmNiaW5kIiwiJGF3YWl0XzMiLCJzaG93UmVzdWx0Iiwia2V5cyIsIl9sYXllcnMiLCJyZW1vdmVMYXllciIsImFkZE1hcmtlciIsImNlbnRlck1hcCIsImZpcmVFdmVudCIsImxvY2F0aW9uIiwiY2xvc2VSZXN1bHRzIiwiX3NlYXJjaEVsZW1lbnQkZWxlbWVuMyIsIl90aGlzMiIsIl9vcHRpb25zMyIsIk1hcmtlciIsInkiLCJ4IiwicG9wdXBMYWJlbCIsImJpbmRQb3B1cCIsImFkZExheWVyIiwib3BlblBvcHVwIiwiYXJncyIsImdldExhdExuZyIsIl9vcHRpb25zNCIsInJlc3VsdEJvdW5kcyIsIkxhdExuZ0JvdW5kcyIsImJvdW5kcyIsImlzVmFsaWQiLCJnZXRCb3VuZHMiLCJmaXRCb3VuZHMiLCJhbmltYXRlIiwic2V0VmlldyIsImdldENlbnRlciIsImdldFpvb20iLCJfb3B0aW9uczUiLCIkYXN5bmNzcGF3biIsInByb21pc2VQcm92aWRlciIsInNlbGYiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImdlbkYiLCJyZXNvbHZlIiwicmVqZWN0Iiwic3RlcCIsImZuIiwiYXJnIiwiZ2VuIiwiZG9uZSIsInYiLCJ0aHJvdyIsInNyYyIsInRvU3RyaW5nIiwidCIsIm1hdGNoIiwicmUiLCJteCIsImV4ZWMiLCJwdXNoIiwicmV2ZXJzZSIsImZvckVhY2giLCJzbGljZSIsImluZGV4Iiwic3Vic3RyIiwicmVwbGFjZSIsInpvdXNhbiIsInRoZW5hYmxlIiwiY2F0Y2hlciIsImJvdW5kVGhlbiIsInJlc29sdmVyIiwidHJhbXBvbGluZSIsInMiLCJ1IiwiYiIsInEiLCJ1bmRlZmluZWQiLCJwb3AiLCJyIiwiTGF6eVRoZW5hYmxlIiwiRWFnZXJUaGVuYWJsZSIsIlRoZW5hYmxlIiwiRWFnZXJUaGVuYWJsZUZhY3RvcnkiLCJleCIsInByb2Nlc3MiLCJzZXRJbW1lZGlhdGUiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInRpY2siLCJab3VzYW4iLCJmdW5jIiwibWUiLCJTVEFURV9GVUxGSUxMRUQiLCJ5cmV0IiwiZXJyIiwiU1RBVEVfUkVKRUNURUQiLCJyZWFzb24iLCJuIiwibmV4dFRpY2siLCJmIiwic2V0VGltZW91dCIsInNvb24iLCJjYWxsUXVldWUiLCJmcSIsImZxU3RhcnQiLCJidWZmZXJTaXplIiwic3BsaWNlIiwic3RhdGUiLCJUeXBlRXJyb3IiLCJmaXJzdCIsInJhIiwicnIiLCJsIiwiY2xpZW50cyIsIm9uRiIsIm9uUiIsImNsaWVudCIsImEiLCJ2YWwiLCJ6IiwidmVyc2lvbiIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsImNhY2hlZFNldFRpbWVvdXQiLCJydW5DbGVhclRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpbmluZyIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwicXVldWVJbmRleCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwiSXRlbSIsImFycmF5Iiwibm9vcCIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwibmFtZSIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiVGltZW91dCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJfb25UaW1lb3V0IiwiY2xlYXJJbW1lZGlhdGUiLCJnbG9iYWwiLCJ0YXNrIiwidGFza3NCeUhhbmRsZSIsIm5leHRIYW5kbGUiLCJyZWdpc3RlckltbWVkaWF0ZSIsImhhbmRsZSIsInJ1bklmUHJlc2VudCIsImN1cnJlbnRseVJ1bm5pbmdBVGFzayIsImRvYyIsImRvY3VtZW50IiwiYXR0YWNoVG8iLCJnZXRQcm90b3R5cGVPZiIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJtZXNzYWdlUHJlZml4IiwiTWF0aCIsInJhbmRvbSIsIm9uR2xvYmFsTWVzc2FnZSIsImluZGV4T2YiLCJhdHRhY2hFdmVudCIsIk1lc3NhZ2VDaGFubmVsIiwiY2hhbm5lbCIsInBvcnQxIiwicG9ydDIiLCJodG1sIiwiZG9jdW1lbnRFbGVtZW50Iiwic2NyaXB0IiwicmVtb3ZlQ2hpbGQiLCJpc1RoZW5hYmxlIiwicmVzb2x1dGlvbiIsImhvdyIsIkNoYWluZWQiLCJfdW5jaGFpbmVkIiwidGhlbkNoYWluIiwicmVzIiwicmVqIiwiY2hhaW4iLCJfcmVzb2x2ZXIiLCJkZWJvdW5jZSIsIndhaXQiLCJpbnZva2VGdW5jIiwidGltZSIsImxhc3RBcmdzIiwidGhpc0FyZyIsImxhc3RUaGlzIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nRWRnZSIsInRpbWVySWQiLCJ0aW1lckV4cGlyZWQiLCJsZWFkaW5nIiwicmVtYWluaW5nV2FpdCIsInRpbWVTaW5jZUxhc3RDYWxsIiwibGFzdENhbGxUaW1lIiwidGltZVNpbmNlTGFzdEludm9rZSIsIm1heGluZyIsIm5hdGl2ZU1pbiIsIm1heFdhaXQiLCJzaG91bGRJbnZva2UiLCJub3ciLCJ0cmFpbGluZ0VkZ2UiLCJ0cmFpbGluZyIsImNhbmNlbCIsImZsdXNoIiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsIkZVTkNfRVJST1JfVEVYVCIsInRvTnVtYmVyIiwiaXNPYmplY3QiLCJuYXRpdmVNYXgiLCJ0eXBlIiwiaXNPYmplY3RMaWtlIiwiaXNTeW1ib2wiLCJvYmplY3RUb1N0cmluZyIsInN5bWJvbFRhZyIsIk5BTiIsIm90aGVyIiwidmFsdWVPZiIsInJlVHJpbSIsImlzQmluYXJ5IiwicmVJc0JpbmFyeSIsInRlc3QiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJyZUlzQmFkSGV4IiwicGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJvYmplY3RQcm90byIsIm1pbiIsIkRhdGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInByb3BzIiwiZGVzY3JpcHRvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIlNlYXJjaEVsZW1lbnQiLCJfcmVmJGhhbmRsZVN1Ym1pdCIsIl9yZWYkc2VhcmNoTGFiZWwiLCJfcmVmJGNsYXNzTmFtZXMiLCJqb2luIiwicGxhY2Vob2xkZXIiLCJvbklucHV0Iiwib25LZXlVcCIsIm9uS2V5UHJlc3MiLCJvbkZvY3VzIiwib25CbHVyIiwiX2VsZW1lbnRzIiwiJGF3YWl0XzEiLCJoYXNFcnJvciIsIl9lbGVtZW50czIiLCJib2R5IiwiYmx1ciIsImVsZW1lbnQiLCJwYXJlbnQiLCJlbCIsImNsYXNzTmFtZSIsImNyZWF0ZVNjcmlwdEVsZW1lbnQiLCJjYiIsInNldEF0dHJpYnV0ZSIsImpzb24iLCJhZGQiLCJBUlJPV19MRUZUX0tFWSIsIkFSUk9XX1JJR0hUX0tFWSIsImN4IiwiY2xhc3NuYW1lcyIsInRyaW0iLCJSZXN1bHRMaXN0IiwiX3JlZiRoYW5kbGVDbGljayIsIl9pbml0aWFsaXNlUHJvcHMiLCJyZXN1bHRJdGVtIiwiY2hpbGQiLCJjbG9uZU5vZGUiLCJpbm5lckhUTUwiLCJmcm9tIiwibGFzdENoaWxkIiwicGFyZW50Tm9kZSIsImhhc0F0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9wcm92aWRlcjIiLCJQcm92aWRlciIsIl9CYXNlUHJvdmlkZXIiLCJwcm90b2NvbCIsImpzb25wIiwicGFyYW1zIiwiZ2V0UGFyYW1TdHJpbmciLCJyZXNvdXJjZVNldHMiLCJyZXNvdXJjZXMiLCJwb2ludCIsImNvb3JkaW5hdGVzIiwiYWRkcmVzcyIsImZvcm1hdHRlZEFkZHJlc3MiLCJiYm94IiwicmF3IiwiX3JlZjMiLCJlbmRwb2ludCIsImVuY29kZVVSSUNvbXBvbmVudCIsInJlcXVlc3QiLCJmZXRjaCIsInRleHQiLCJsb2NhdGlvbnMiLCJmZWF0dXJlIiwiZ2VvbWV0cnkiLCJleHRlbnQiLCJ5bWluIiwieG1pbiIsInltYXgiLCJ4bWF4IiwicGFyYW1TdHJpbmciLCJsbmciLCJsYXQiLCJmb3JtYXR0ZWRfYWRkcmVzcyIsInZpZXdwb3J0Iiwic291dGh3ZXN0Iiwibm9ydGhlYXN0IiwiZm9ybWF0IiwibG9uIiwiZGlzcGxheV9uYW1lIiwicGFyc2VGbG9hdCIsImJvdW5kaW5nYm94IiwiR2V0QWN0aXZlTGF5ZXJHcm91cHMiLCJsYXllckdyb3VwTGF5b3V0IiwiZmlsdGVyIiwibGF5ZXJHcm91cCIsInJlc2V0UGFuZWxTdGF0ZSIsImdldExheWVyR3JvdXBzIiwibGF5ZXJHcm91cHMiLCJtYWtlTGF5ZXJHcm91cHMiLCJtYWtlTGF5ZXJFbGVtcyIsIm1ha2VQYW5lbERyYWdnYWJsZSIsInNldFBhbmVsU2Nyb2xsSGFuZGxlciIsImJyb3dzZXJJc0ludGVybmV0RXhwbG9yZXIiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImdldEVsZW1lbnRCeUlkIiwib25zY3JvbGwiLCJ1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0Iiwib3ZlcmxheSIsImQzIiwiZHJhZyIsInBhbmVsRHJhZ0V2ZW50SGFuZGxlciIsInVwZGF0ZVBhbmVsV2lkdGgiLCJuZXdIZWlnaHQiLCJwYW5lbCIsInBhbmVsT2Zmc2V0SGVpZ2h0IiwicHJvcGVydHkiLCJwYW5lbERyYWdPdmVybGF5IiwiaGVhZGVyIiwiY2xhc3NlZCIsImdyYXBoTGlzdCIsInNjcm9sbEhlaWdodCIsImxheWVyTGlzdCIsImhlaWdodCIsInBhbmVsTWluV2lkdGgiLCJwYW5lbENsaWVudFdpZHRoIiwid3JhcHBlciIsIndyYXBwZXJXaWR0aCIsImNsaWVudFdpZHRoIiwibWFwV3JhcHBlciIsIm1vdXNlWCIsInNvdXJjZUV2ZW50IiwieERlbHRhIiwibmV3UGFuZWxXaWR0aCIsInBhZGRpbmdSaWdodCIsInNlbGVjdEFsbCIsImVudGVyIiwiYXBwZW5kIiwiYXR0ciIsImVhY2giLCJsYXllckRpdiIsIm1ha2VDaGVja2JveCIsIm1ha2VMYWJlbCIsIm1ha2VEZXNjcmlwdGlvbiIsIm5vZGUiLCJtYWtlTGF5ZXJUb29scyIsInRvZ2dsZUxheWVyIiwidG9nZ2xlTGF5ZXJUb29sc1VJIiwic2xpZGVySGFuZGxlIiwiX29wYWNpdHlTbGlkZXIiLCJzZXRPcGFjaXR5U2xpZGVyUG9zaXRpb24iLCJvcGFjaXRpeSIsImluZm8iLCJsYXllclRvb2xzRGl2Iiwib3BhY2l0eVNsaWRlciIsIm1ha2VPcGFjaXR5U2xpZGVyIiwibGVnZW5kIiwibWFrZUxlZ2VuZCIsImxheWVyVG9vbHNXcmFwcGVyIiwibGVnZW5kV3JhcHBlciIsImxlZ2VuZEltZyIsIkdldEN1cnJlbnRMYXllcnMiLCJfY3VycmVudF9sYXllcnMiLCJ0dXJuT2ZmTm9uQmFzZUxheWVycyIsIl9jdXJyZW50X2xheWVyc19vYmplY3RzIiwiZGlzYWJsZUxheWVyIiwiY2hlY2tlZCIsImRlZmF1bHRMYXllcnMiLCJqIiwiZGVmYXVsdExheWVyIiwiZm91bmRMYXllciIsImVuYWJsZUxheWVyIiwiR2V0TWFwIiwibWFwTGF5ZXIiLCJtYWtlV21zVGlsZUxheWVyIiwiYWRkTGF5ZXJUb0ludGVybmFsVHJhY2tlciIsIm1vdmVPdmVybGF5TGF5ZXJzVG9Ub3AiLCJicmluZ1RvRnJvbnQiLCJoYXNMYXllciIsInJlbW92ZUxheWVyRnJvbUludGVybmFsVHJhY2tlciIsImxvYyIsInVwZGF0ZUxheWVyT3BhY2l0eSIsIm5ld09wYWNpdHkiLCJzZXRPcGFjaXR5IiwidGlsZUxheWVyIiwid21zIiwidHJhbnNwYXJlbnQiLCJjcnMiLCJDUlMiLCJFUFNHOTAwOTEzIiwidGlsZVNpemUiLCJjbGVhck1hcCIsInJlbW92ZUFsbFBvaW50c09mSW50ZXJlc3QiLCJyZW1vdmVBbGxHcmFwaHMiLCJtYXBDb25maWciLCJzY3JvbGxXaGVlbFpvb20iLCJpbml0aWFsQ2VudGVyIiwiY2VudGVyIiwiaW5pdGlhbFpvb20iLCJ6b29tIiwiY29udHJvbCIsImF0dHJpYnV0aW9uIiwic3RyaW5naWZ5Iiwic2V0U2hhcmVVcmwiLCJtYWtlU2hhcmVVcmwiLCJtYWtlQ2VudGVyU3RyaW5nIiwibWFrZVpvb21TdHJpbmciLCJtYWtlTGF5ZXJTdHJpbmciLCJtYWtlTGF5ZXJHcm91cHNTdHJpbmciLCJtYWtlQmFzZUxheWVyU3RyaW5nIiwibWFrZVBvaW50c09mSW50ZXJlc3RTdHJpbmciLCJtYWtlQWN0aXZlVGFiU3RyaW5nIiwibWFrZUFjdGl2ZUdyYXBoVGFiU3RyaW5nIiwic2V0Q29weUxpbmtVcmwiLCJzZXRTb2NpYWxVcmxzIiwic2hhcmUiLCJwYXJzZVNoYXJlVXJsIiwiYWRkTGF5ZXJTZXR0aW5nc1RvQ29uZmlnIiwiYWRkQmFzZUxheWVyU2V0dGluZ3NUb0NvbmZpZyIsImFkZFBvaW50c09mSW50ZXJlc3RUb0NvbmZpZyIsImFkZExheWVyR3JvdXBTZXR0aW5nc1RvQ29uZmlnIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsImhhbmRsZUJvZHlDbGljayIsImhhbmRsZVNoYXJlTGlua0J1dHRvbkNsaWNrIiwiaGFuZGxlU2hhcmVMaW5rVXJsQ2xpY2siLCJoYW5kbGVTaGFyZUxpbmtDbG9zZUJ1dHRvbkNsaWNrIiwibm9kZVBhdGgiLCJnZXREb21QYXRoIiwidG9DbG9zZVBvcHVwIiwiaGFuZGxlQ29weUxpbmtDbG9zZSIsInBhdGgiLCJzaGFyZVBvcHVwIiwiaGFuZGxlQ29weUxpbmtPcGVuIiwic2VsZWN0Q29weUxpbmtVcmwiLCJ0b2dnbGUiLCJzaGFyZUlucHV0Iiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJzb2NpYWxMaW5rIiwibmV3VXJsIiwibWFuZ2xlUGFyYW1TdHJpbmciLCJzb2NpYWxMaW5rcyIsIm9wYWNpdHlWYWxzIiwiY3VycmVudExheWVycyIsImVhY2hMYXllciIsImN1cnJlbnRMYXllciIsIkJBU0VfTEFZRVJfVFlQRSIsImQiLCJHZXRBbGxQb2ludHNPZkludGVyZXN0IiwicG9pU3RyaW5nIiwicG9pIiwicGxvdHMiLCJnZXRQYXJhbXNBcnJheSIsIm1ha2VLZXllZFBhcmFtc09iamVjdCIsImZvcm1hdFBhcmFtcyIsInN1YnN0cmluZyIsInVubWFuZ2xlUGFyYW1TdHJpbmciLCJzcGxpdCIsInBhcmFtc0FyciIsInBhcmFtUGFpciIsInBhcnNlZFBhcmFtcyIsImZvcm1hdENlbnRlclBhcmFtIiwiZm9ybWF0TGF5ZXJQYXJhbSIsImZvcm1hdEJhc2VMYXllclBhcmFtIiwiZm9ybWF0UG9pbnRzT2ZJbnRlcmVzdFBhcmFtIiwiZm9ybWF0TGF5ZXJHcm91cHNQYXJhbSIsImxheWVySWQiLCJmb3JtYXR0ZWRMYXllcnMiLCJlbmFibGVkTGF5ZXJzIiwic3RyIiwiY3JlYXRlUE9JIiwibGF5ZXJHcm91cFNldHRpbmdzIiwiYWN0aXZlTGF5ZXJHcm91cElkcyIsInNoYXJlTGF5ZXJTZXR0aW5ncyIsImVuYWJsZWRMYXllciIsInNoYXJlQmFzZUxheWVyU2V0dGluZ3MiLCJiYXNlbGF5ZXIiLCJsYXllckNvbmZpZyIsIl9iYXNlbGF5ZXJzIiwiYmFzZUxheWVyIiwiY3JlYXRlQmFzZUxheWVyIiwiY3JlYXRlQmFzZUxheWVyVUkiLCJiYXNlVUkiLCJiYXNlV3JhcHBlciIsImJhc2VJbWciLCJiYXNlTGFiZWwiLCJpbWFnZSIsInRleHRDb250ZW50IiwiaGFuZGxlQmFzZUNsaWNrIiwibGF5ZXJpZCIsInRvZ2dsZUFjdGl2ZUJhc2VVSSIsInJlbW92ZUN1cnJlbnRCYXNlTGF5ZXIiLCJhZGROZXdCYXNlTGF5ZXJUb01hcCIsImJhc2VVSUVsZW0iLCJicmluZ1RvQmFjayIsIm1ha2VCYXNlTGF5ZXJPcHRpb25zIiwic3ViZG9tYWlucyIsImhhbmRsZU1hcENsaWNrIiwiX3BvaW50c19vZl9pbnRlcmVzdCIsImxhdGxuZyIsIkFkZFBvaW50T2ZJbnRlcmVzdFRvVHJhY2tlciIsIlNldHVwUG9pbnRPZkludGVyZXN0VUkiLCJhY3Rpb24iLCJsb25nIiwiY3JlYXRlR3JhcGhSZW1vdmVyIiwiZGl2IiwiZWxlbSIsImNyZWF0ZUdyYXBoUmVtb3ZlckVsZW0iLCJSZW1vdmVQb2ludE9mSW50ZXJlc3RGcm9tVHJhY2tlciIsIlJlbW92ZVBvaW50T2ZJbnRlcmVzdFVJIiwiaW5uZXJUZXh0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwibmV3UG9pcyIsIkFkZE11bHRpcGxlUG9pbnRzT2ZJbnRlcmVzdCIsInBvaVRvUmVtb3ZlIiwiY3JlYXRlR3JhcGhEaXYiLCJfbWFya2VyIiwiY3JlYXRlTWFya2VyIiwiZ3JhcGhEaXYiLCJzZXRJY29uIiwiZ2V0SWNvbiIsImhhbmRsZU1hcmtlck1vdXNlRXZlbnQiLCJvcmlnaW5hbEV2ZW50Iiwic2Nyb2xsVG9Qb2ludE9mSW50ZXJlc3RHcmFwaCIsInRyaWdnZXJHcmFwaEFuaW1hdGlvbiIsInNjcm9sbFRvcCIsIm9mZnNldFRvcCIsImhhbmRsZUdyYXBoVHlwZUJ0bkNsaWNrIiwiZXh0ZW5kRGF0ZU1vZHVsZSIsInRpcCIsImZpcnN0Q2hpbGQiLCJpc0xlYXBZZWFyIiwieWVhciIsImdldEZ1bGxZZWFyIiwiZ2V0RE9ZIiwiZGF5Q291bnQiLCJtbiIsImdldE1vbnRoIiwiZG4iLCJnZXREYXRlIiwiZGF5T2ZZZWFyIiwiaGFuZGxlR3JhcGhEYXRhUmVzcG9uc2UiLCJkcmF3R3JhcGgiLCJnZXREYXRhIiwib1JlcSIsInNwbGl0RGF0YSIsInJlcHJvY2Vzc0RhdGEiLCJvcmlnZGF0YSIsImtleXNUb0JlRGVsZXRlZCIsImRhdGFGb3JCYXNlbGluZSIsIm1lYW4iLCJjb21wdXRlQXZlcmFnZSIsImFyciIsInN1bSIsImFjdGl2ZVR5cGUiLCJncmFwaFR5cGUiLCJpc0dyYXBoTGlzdEVtcHR5Iiwib2xkQWN0aXZlR3JhcGhFbGVtSGVpZ2h0Iiwib2xkQWN0aXZlR3JhcGhJbmZvSGVpZ2h0IiwicmlnaHRQYW5lbFNjcm9sbFRvcCIsImRpc2FibGVBY3RpdmVHcmFwaFRhYiIsImVuYWJsZUdyYXBoVGFiIiwiYWRqdXN0U2Nyb2xsUG9zaXRpb24iLCJvbGRHcmFwaEluZm9IZWlnaHQiLCJvbGRHcmFwaEVsZW1IZWlnaHQiLCJvbGRSaWdodFBhbmVsU2Nyb2xsVG9wIiwibmV3R3JhcGhJbmZvSGVpZ2h0IiwibmV3R3JhcGhFbGVtSGVpZ2h0IiwibmV3R3JhcGhFbGVtSGVpZ2h0U2NhbGUiLCJuZXdSaWdodFBhbmVsU2Nyb2xsVG9wIiwiYWN0aXZlRWxlbSIsImFjdGl2ZUNsYXNzIiwibGF0U2hvcnQiLCJyb3VuZEZsb2F0IiwibG5nU2hvcnQiLCJ6b29tVG9NYXJrZXJCdXR0b24iLCJtYWtlWm9vbVRvTWFwTWFya2VyQnV0dG9uIiwiY29udGVudCIsImNyZWF0ZVRleHROb2RlIiwiY29udGVudERpdiIsImxvYWRpbmdEaXYiLCJvbmNsaWNrIiwicGFuVG8iLCJyZXByb2Nlc3NlZERhdGEiLCJtYWtlVXBEb3duTGluZUdyYXBoIiwibWFrZVVwRG93bk92ZXJsYXBpbmdMaW5lR3JhcGhXaXRoQ2hlY2tib3hlcyIsImRyYXdVcERvd25Qb2xhcldpdGhDaGVja2JveGVzQW5kVGhyZXNob2xkcyIsIm51bWJlciIsImRlY2ltYWxQbGFjZXMiLCJyb3VuZCIsInBvdyIsIm1hcmdpbiIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsIndpZHRoIiwic2NhbGVUaW1lIiwicmFuZ2UiLCJkb21haW4iLCJwYXJzZURhdGUiLCJzY2FsZUxpbmVhciIsInhBeGlzIiwiYXhpc0JvdHRvbSIsInRpY2tzIiwidGlja0Zvcm1hdCIsInlBeGlzIiwiYXhpc0xlZnQiLCJ2YWx1ZWxpbmUiLCJsaW5lIiwic3ZnIiwiZHJhd0xpbmVhclBhdGgiLCJkcmF3TGluZWFyUG9pbnRzIiwiZm9ybWF0TW9udGhUaWNrIiwiTU9OVEhfTEFCRUxTIiwiY2hhcnRzIiwiYXZlcmFnZXMiLCJiYXNlbGluZSIsInRpY2tWYWx1ZXMiLCJpc0FycmF5IiwicGFyc2VKdWxpYW5EYXkiLCJwbG90IiwicG9pbnRzIiwiaW5wdXR3cmFwcGVyIiwiY3JlYXRlQ2hlY2tib3giLCJyYWRpdXMiLCJmaW5kUG9sYXJDZW50ZXIiLCJ0aHJlc2hvbGRzIiwiZmluZFBvbGFyVGhyZXNob2xkcyIsInJhZGlhbExpbmUiLCJhbmdsZSIsIlBJIiwiZ3IiLCJnYV9hIiwidGhyZXNob2xkRWxlbSIsImRheSIsImNlbnRlckRheSIsImRyYXdQb2xhclBhdGgiLCJzaG93IiwiaGlkZSIsInRocmVzaG9sZENoZWNrYm94Iiwib2Zmb24iLCJhZGRLZXlUb1BPSSIsInJlbW92ZUtleUZyb21QT0kiLCJkaXNwYXRjaEdyYXBoQ2hlY2tib3hDbGljayIsInRvdGFsU3VtIiwiaW5jb21wbGV0ZVllYXJzIiwiYWJzIiwiY2hlY2tEaWZmIiwibGVmdEFyZWEiLCJyaWdodEFyZWEiLCJrIiwiY291bnRlciIsImFyZWFEaWZmIiwiYXJlYUluZGV4IiwiYXZncyIsImZpcnN0UmFkaXVzIiwic2Vjb25kUmFkaXVzIiwibWlkcG9pbnQiLCJmaXJzdERpZmYiLCJzdGFydERheSIsInN0YXJ0SW5kZXgiLCJmbG9vciIsImZpZnRlZW5JbmRleCIsImVpZ2h0eUluZGV4IiwiZmlmdGVlblRocmVzaG9sZCIsImVpZ2h0eVRocmVzaG9sZCIsImZpZnRlZW5JbmRleEZvdW5kIiwiZWlnaHR5SW5kZXhGb3VuZCIsImNpcmNsZUNlbnRlciIsImRhdHVtIiwicHVsbERpc3RpbmN0Q29sb3IiLCJoYW5kbGVQb2ludE1vdXNlb3ZlciIsImhhbmRsZVBvaW50TW91c2VvdXQiLCJ0aXBTdHJpbmciLCJmb3JtYXREYXRlIiwiY2hlY2tib3hXcmFwcGVyIiwibmV3WWVhciIsImhhbmRsZUNoZWNrYm94RW5hYmxlIiwiaGFuZGxlQ2hlY2tib3hEaXNhYmxlIiwiaGFuZGxlQ2hlY2tib3hTeW5jIiwiY2hlY2tlZFN0YXR1cyIsImRpc3BhdGNoIiwiY29sb3JSYW1wIiwiZGF0ZSIsIm1vbnRoIiwiZm9ybWF0TW9udGgiLCJvcmRpbmFsX3N1ZmZpeF9vZiIsIkZPUk1BVFRFRF9NT05USF9MQUJFTFMiLCIwIiwiMSIsIjIiLCIzIiwiNCIsIjUiLCI2IiwiNyIsIjgiLCI5IiwiMTAiLCIxMSIsImdyYXBoSWNvbiIsImhvdmVySWNvbiIsImJhc2VJY29uIiwiaWNvblVybCIsInNoYWRvd1VybCIsImljb25TaXplIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwic2hhZG93U2l6ZSIsImhhbmRsZVRhYkhlYWRlckJ0bkNsaWNrIiwiR2V0QWN0aXZlVGFiIiwibmV3Q2xhc3MiLCJkaXNhYmxlQWN0aXZlVGFiIiwiZW5hYmxlVGFiIiwidG9nZ2xlTWFwUGFkZGluZyIsInJlc2V0UGFuZWxXaWR0aCIsIm9mZnNldFdpZHRoIiwib3BhY2l0eVNjYWxlIiwibGF5ZXJPcGFjaXR5Iiwic2xpZGVyVHJhY2tPdmVybGF5IiwibWFrZVNsaWRlclRyYWNrIiwiaWNvbldyYXBwZXJDbG9zZWQiLCJtYWtlT3BhY2l0eUljb25XcmFwcGVyIiwidHJhY2siLCJzZXREcmFnRXZlbnRMaXN0ZW5lciIsImNhbGNPcGFjaXR5RnJvbU1vdXNlUG9zIiwieVBvcyIsIm1vdXNlIiwiaW52ZXJ0IiwiY2xhbXAiLCJDcmVhdGVMb2dvIiwibG9nb2RhdGEiLCJsb2dvV3JhcHBlciIsImNyZWF0ZUxvZ29XcmFwcGVyIiwibG9nb0ltYWdlIiwiY3JlYXRlTG9nb0ltYWdlIiwibG9nb0xpbmsiLCJsaW5rIiwiY3JlYXRlTG9nb0xpbmsiLCJpbnNlcnRFbGVtZW50IiwiZXhpc3RpbmdDaGlsZCIsImluc2VydEJlZm9yZSIsIkJpbmRNb2JpbGVNZW51RXZlbnRzIiwiaGFuZGxlTW9iaWxlVG9nZ2xlUGFuZWxCdG5DbGljayIsImhhbmRsZU1vYmlsZUNsZWFyTWFwQnRuQ2xpY2siLCJkaXNwYXRjaE1vYmlsZUNsZWFyTWFwQnRuQ2xpY2tBbmFseXRpY3MiLCJzdGF0dXMiLCJkaXNwYXRjaE1vYmlsZVRvZ2dsZVBhbmVsQnRuQ2xpY2tBbmFseXRpY3MiLCJCaW5kRGVza3RvcE1lbnVFdmVudHMiLCJoYW5kbGVEZXNrdG9wVG9nZ2xlUGFuZWxCdG5DbGljayIsImhhbmRsZURlc2t0b3BDbGVhck1hcEJ0bkNsaWNrIiwiZGlzcGF0Y2hEZXNrdG9wQ2xlYXJNYXBCdG5DbGlja0FuYWx5dGljcyIsImludmFsaWRhdGVTaXplIiwicGFuIiwiZGlzcGF0Y2hEZXNrdG9wVG9nZ2xlUGFuZWxCdG5DbGlja0FuYWx5dGljcyJdLCJtYXBwaW5ncyI6IkNBQVMsU0FBVUEsR0NJbkIsUUFBQUMsR0FBQUMsR0FHQSxHQUFBQyxFQUFBRCxHQUNBLE1BQUFDLEdBQUFELEdBQUFFLE9BR0EsSUFBQUMsR0FBQUYsRUFBQUQsSUFDQUUsV0FDQUUsR0FBQUosRUFDQUssUUFBQSxFQVVBLE9BTkFQLEdBQUFFLEdBQUFNLEtBQUFILEVBQUFELFFBQUFDLElBQUFELFFBQUFILEdBR0FJLEVBQUFFLFFBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0E0QkFGLEdBQUFRLEVBQUFULEVBR0FDLEVBQUFTLEVBQUFQLEVBR0FGLEVBQUFVLEVBQUEsR0FHQVYsRUFBQSxLRE1NLFNBQVVJLEVBQVFELEVBQVNILEdBRWhD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LE9BQU9DLGVBQWViLEVBQVMsY0FDOUJjLE9BQU8sSUFFUmQsRTZCNzZIZW9DLGM3Qjg2SGZwQyxFNkJ4Nkhla3RCLGtCN0J5NkhmbHRCLEU2QnZ5SGVxRCx1QjdCd3lIZnJELEU2QjN2SGU2MEIsZ0JBNUwyQixJQUFBM3pCLEdBQUFyQixFQUFBLElBQ2QyQixFQUFBM0IsRUFBQSxJQUNSMEIsRUFBQTFCLEVBQUEsSUFDT2tCLEVBQUFsQixFQUFBLEdBRXhCODFCLEtBKzZCQXFGLEc3QmkxSEYyRSxFNkIvMEhELE03QmcxSENDLEU2Qi8wSEQsTTdCZzFIQ0MsRTZCLzBIRCxNN0JnMUhDQyxFNkIvMEhELE03QmcxSENDLEU2Qi8wSEQsTTdCZzFIQ0MsRTZCLzBIRCxNN0JnMUhDQyxFNkIvMEhELE03QmcxSENDLEU2Qi8wSEQsTTdCZzFIQ0MsRTZCLzBIRCxNN0JnMUhDQyxFNkIvMEhELE03QmcxSENDLEc2Qi8wSEQsTTdCZzFIQ0MsRzZCaDFIRyxPQUdEWixHN0JpMUhGQyxFNkIvMEhELE83QmcxSENDLEU2Qi8wSEQsTzdCZzFIQ0MsRTZCLzBIRCxPN0JnMUhDQyxFNkIvMEhELE83QmcxSENDLEU2Qi8wSEQsTTdCZzFIQ0MsRTZCLzBIRCxPN0JnMUhDQyxFNkIvMEhELE83QmcxSENDLEU2Qi8wSEQsTzdCZzFIQ0MsRTZCLzBIRCxPN0JnMUhDQyxFNkIvMEhELE83QmcxSENDLEc2Qi8wSEQsTzdCZzFIQ0MsRzZCaDFIRyxTN0JxMUhDLFNBQVVyZ0MsRUFBUUQsR0FFdkIsWThCdHlKTSxTQUFBKzBCLEdBQXVCOU8sRUFBS0QsRzlCOHlKakMsTThCN3lKTXhmLEdBQUUrRCxRQUFRMGIsRUFBS0QsSUFBT3hiLEtBQzdCKzFCLElBRU0sUUFBQXJMLEdBQWtCalcsRzlCOHlKdkIsTThCN3lKZSxVQUFUQSxFQUFtQnVoQixFQUMxQkQsRTlCa3lKQTMvQixPQUFPQyxlQUFlYixFQUFTLGNBQzlCYyxPQUFPLElBRVJkLEU4QjN5SmUrMEIsZTlCNHlKZi8wQixFOEJ4eUplazFCLFNBSWhCLElBQUl1TCxHQUFXajZC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IjoiaW5kZXhfYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXG5cbi8qKiovIH0pLFxuLyogMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9wYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIF9zZWFyY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpO1xuXHRcblx0dmFyIF9zZWFyY2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VhcmNoKTtcblx0XG5cdHZhciBfcGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdHZhciBfYmFzZWxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX2dyYXBoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX3BvaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF90YWJzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMCk7XG5cdFxuXHR2YXIgX21hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIF9zaGFyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF9sYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9sb2dvID0gX193ZWJwYWNrX3JlcXVpcmVfXygzMik7XG5cdFxuXHR2YXIgX2xvZ28yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9nbyk7XG5cdFxuXHR2YXIgX21vYmlsZSA9IF9fd2VicGFja19yZXF1aXJlX18oMzMpO1xuXHRcblx0dmFyIF9tb2JpbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9iaWxlKTtcblx0XG5cdHZhciBfcGFuZWxUb2dnbGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM0KTtcblx0XG5cdHZhciBfcGFuZWxUb2dnbGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFuZWxUb2dnbGUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBjc3MgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDM1KTtcblx0XG5cdC8vIERvZXMgbm90IHJlbHkgb24gbWFwIG9iamVjdCBvciBjb25maWcgZmlsZVxuXHR2YXIgQmFzZSA9IGZ1bmN0aW9uIEJhc2UoY29uZmlnKSB7XG5cdFx0KDAsIF9wYXJzZXIuUGFyc2VDb25maWcpKGNvbmZpZywgY2FsbGJhY2spO1xuXHRcdCgwLCBfZ3JhcGguU2V0dXBHcmFwaHMpKCk7XG5cdFx0KDAsIF90YWJzLkJpbmRUYWJFdmVudHMpKCk7XG5cdFx0KDAsIF9zaGFyZS5CaW5kQ29weUxpbmtFdmVudHMpKCk7XG5cdFx0KDAsIF9tb2JpbGUyLmRlZmF1bHQpKCk7XG5cdFx0KDAsIF9wYW5lbFRvZ2dsZTIuZGVmYXVsdCkoKTtcblx0fTtcblx0XG5cdC8vIERvZXMgcmVseSBvbiBtYXAgb2JqZWN0IG9yIGNvbmZpZyBmaWxlXG5cdHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uIGNhbGxiYWNrKGRhdGEpIHtcblx0XHQoMCwgX3NoYXJlLkFkZFNoYXJlU2V0dGluZ3NUb0NvbmZpZykoZGF0YSk7XG5cdFx0dmFyIG1hcCA9ICgwLCBfbWFwLkNyZWF0ZU1hcCkoZGF0YS5tYXApO1xuXHRcdCgwLCBfYmFzZWxheWVyLkNyZWF0ZUJhc2VMYXllcnMpKG1hcCwgZGF0YS5iYXNlbGF5ZXJzKTtcblx0XHQoMCwgX2xheWVyLkNyZWF0ZURlZmF1bHRMYXllcnMpKGRhdGEubGF5ZXJzLCBkYXRhW1wiYWN0aXZlLWxheWVyc1wiXSk7XG5cdFx0KDAsIF9wYW5lbC5TZXR1cFBhbmVsKShkYXRhLmxheWVycywgZGF0YS5sYXlvdXQpO1xuXHRcdCgwLCBfc2VhcmNoMi5kZWZhdWx0KShtYXApO1xuXHRcdCgwLCBfbG9nbzIuZGVmYXVsdCkoZGF0YS5sb2dvKTtcblx0XHRpZiAoZGF0YS50YWIpICgwLCBfdGFicy5IYW5kbGVUYWJDaGFuZ2UpKGRhdGEudGFiKTtcblx0XHRpZiAoZGF0YS5ncmFwaCkgKDAsIF9ncmFwaC5IYW5kbGVHcmFwaFRhYkNoYW5nZSkoZGF0YS5ncmFwaCk7XG5cdFx0KDAsIF9wb2kuQmluZEdyYXBoRXZlbnRzKShtYXApO1xuXHRcdCgwLCBfc2hhcmUuQmluZFVwZGF0ZVNoYXJlVXJsKShtYXApO1xuXHRcdCgwLCBfcG9pLlNldHVwUG9pbnRzT2ZJbnRlcmVzdCkobWFwLCBkYXRhLnBvaXMpO1xuXHRcdCgwLCBfc2hhcmUudXBkYXRlU2hhcmVVcmwpKCk7XG5cdH07XG5cdFxuXHR3aW5kb3cuQmFzZSA9IEJhc2U7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSB7IEJhc2U6IEJhc2UgfTtcblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5QYXJzZUNvbmZpZyA9IFBhcnNlQ29uZmlnO1xuXHRleHBvcnRzLkdldEFqYXhPYmplY3QgPSBHZXRBamF4T2JqZWN0O1xuXHQvKipcclxuXHQgKiBQYXJzZXMgYSBjb25maWcgZmlsZS4gU2luY2UgdGhlIHByb2Nlc3MgdG8gZ2V0IGV4dGVybmFsIGZpbGVzXHJcblx0ICogdXNlcyBBSkFYIHlvdSBuZWVkIHRvIHBhc3MgYSBjYWxsYmFjayB0byBoYW5kbGUgdGhlIG5leHQgc3RlcHNcclxuXHQgKiBvZiB1c2luZyB0aGUgY29uZmlnIGZpbGUsIHNpbmNlIHdlIGRvIG5vdCBrbm93IGhvdyBsb25nIGl0XHJcblx0ICogd2lsbCB0YWtlIHRvIGdyYWIgdGhlIGZpbGUuXHJcblx0ICovXG5cdGZ1bmN0aW9uIFBhcnNlQ29uZmlnKGNvbmZpZ0ZpbGUsIGNhbGxiYWNrKSB7XG5cdFx0R2V0Q29uZmlnKGNvbmZpZ0ZpbGUsIGNhbGxiYWNrKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gR2V0QWpheE9iamVjdChyZXNwb25zZUhhbmRsZXIpIHtcblx0XHR2YXIgeG1saHR0cDtcblx0XHRpZiAoIXdpbmRvdy5YTUxIdHRwUmVxdWVzdCAmJiB3aW5kb3cuQWN0aXZlWE9iamVjdCkge1xuXHRcdFx0eG1saHR0cCA9IG5ldyB3aW5kb3cuQWN0aXZlWE9iamVjdChcIk1TWE1MMi5YTUxIVFRQLjMuMFwiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0eG1saHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXHRcdH1cblx0XHR4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh4bWxodHRwLnJlYWR5U3RhdGUgPT09IDQpIHtcblx0XHRcdFx0cmVzcG9uc2VIYW5kbGVyKHhtbGh0dHAucmVzcG9uc2UpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0cmV0dXJuIHhtbGh0dHA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEdldENvbmZpZyhjb25maWdGaWxlLCBjYWxsYmFjaykge1xuXHRcdHZhciB4bWxodHRwID0gR2V0QWpheE9iamVjdChmdW5jdGlvbiAocmVzcG9uc2UpIHtcblx0XHRcdHZhciBkYXRhID0gcmVzcG9uc2VIYW5kbGVyKHJlc3BvbnNlKTtcblx0XHRcdGNhbGxiYWNrKGRhdGEpO1xuXHRcdH0pO1xuXHRcdHhtbGh0dHAub3BlbihcIkdFVFwiLCBjb25maWdGaWxlLCB0cnVlKTtcblx0XHR4bWxodHRwLnNlbmQoKTtcblx0XHRjb25zb2xlLmxvZyhcImhpXCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXNwb25zZUhhbmRsZXIocmVzcG9uc2UpIHtcblx0XHRyZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuXHRcdGZvcm1hdE1hcChyZXNwb25zZSk7XG5cdFx0Zm9ybWF0TGF5ZXJzKHJlc3BvbnNlKTtcblx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdE1hcChkYXRhKSB7XG5cdFx0aWYgKCFkYXRhLm1hcCkgZGF0YS5tYXAgPSB7fTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0TGF5ZXJzKGRhdGEpIHtcblx0XHR2YXIgbGF5ZXJzID0gZGF0YS5sYXllcnM7XG5cdFx0dmFyIGRlZmF1bHRNYXBzZXJ2ZXJVcmwgPSBkYXRhLm1hcHNlcnZlclVybDtcblx0XHR2YXIgZGVmYXVsdEVuYWJsZWRMYXllcnMgPSBkYXRhW1wiYWN0aXZlLWxheWVyc1wiXTtcblx0XHR2YXIgbGF5ZXJncm91cDtcblx0XHR2YXIgaTtcblx0XG5cdFx0Zm9yICh2YXIgcHJvcCBpbiBsYXllcnMpIHtcblx0XHRcdGlmICghbGF5ZXJzLmhhc093blByb3BlcnR5KHByb3ApKSByZXR1cm47XG5cdFx0XHRsYXllcmdyb3VwID0gbGF5ZXJzW3Byb3BdO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxheWVyZ3JvdXAubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0c2V0TWFwc2VydmVyVXJsKGxheWVyZ3JvdXBbaV0sIGRlZmF1bHRNYXBzZXJ2ZXJVcmwpO1xuXHRcdFx0XHRzZXREZWZhdWx0TGF5ZXJPcGFjaXR5KGxheWVyZ3JvdXBbaV0sIGRhdGEuZGVmYXVsdExheWVyT3BhY2l0eSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXREZWZhdWx0TGF5ZXJPcGFjaXR5KGxheWVyLCBvcGFjaXR5KSB7XG5cdFx0bGF5ZXIub3BhY2l0eSA9IGxheWVyLm9wYWNpdHkgfHwgb3BhY2l0eTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0TWFwc2VydmVyVXJsKGxheWVyLCB1cmwpIHtcblx0XHRsYXllci51cmwgPSBsYXllci51cmwgfHwgdXJsO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBDcmVhdGVTZWFyY2g7XG5cdFxuXHR2YXIgX2xlYWZsZXRHZW9zZWFyY2ggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xuXHRcblx0ZnVuY3Rpb24gQ3JlYXRlU2VhcmNoKG1hcCkge1xuXHRcdHZhciBwcm92aWRlciA9IG5ldyBfbGVhZmxldEdlb3NlYXJjaC5PcGVuU3RyZWV0TWFwUHJvdmlkZXIoKTtcblx0XG5cdFx0dmFyIHNlYXJjaENvbnRyb2wgPSBuZXcgX2xlYWZsZXRHZW9zZWFyY2guR2VvU2VhcmNoQ29udHJvbCh7XG5cdFx0XHRwcm92aWRlcjogcHJvdmlkZXIsXG5cdFx0XHRzaG93TWFya2VyOiBmYWxzZSxcblx0XHRcdGF1dG9Db21wbGV0ZTogdHJ1ZSxcblx0XHRcdHNob3dQb3B1cDogZmFsc2Vcblx0XHR9KTtcblx0XG5cdFx0bWFwLmFkZENvbnRyb2woc2VhcmNoQ29udHJvbCk7XG5cdFxuXHRcdHZhciBzZWFyY2hFbGVtZW50cyA9IHNlYXJjaENvbnRyb2wuc2VhcmNoRWxlbWVudC5lbGVtZW50cztcblx0XG5cdFx0TC5Eb21FdmVudC5vbihzZWFyY2hFbGVtZW50cy5jb250YWluZXIsIFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2KSB7XG5cdFx0XHRMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihldik7XG5cdFxuXHRcdFx0dmFyIHNlYXJjaEVudHJpZXMgPSBzZWFyY2hFbGVtZW50cy5mb3JtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Jlc3VsdHMnKVswXS5jaGlsZHJlbjtcblx0XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNlYXJjaEVudHJpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKGV2LnRhcmdldCA9PT0gc2VhcmNoRW50cmllc1tpXSkge1xuXHRcdFx0XHRcdHNlYXJjaEVsZW1lbnRzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGZvciBzZWFyY2ggYnkgYWRkcmVzc1xuXHRcdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XG5cdFx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxuXHRcdFx0XHRldmVudEFjdGlvbjogJ3NlYXJjaCcsXG5cdFx0XHRcdGV2ZW50TGFiZWw6ICdjbGljaycsXG5cdFx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFxuXHRcdEwuRG9tRXZlbnQub24oc2VhcmNoRWxlbWVudHMuY29udGFpbmVyLCBcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2KSB7XG5cdFx0XHRMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihldik7XG5cdFxuXHRcdFx0aWYgKGV2LndoaWNoID09IDEzIHx8IGV2LmtleUNvZGUgPT0gMTMpIHtcblx0XHRcdFx0c2VhcmNoRWxlbWVudHMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuXHRcblx0XHRcdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZm9yIHNlYWNyY2ggYnkgYWRkcmVzc1xuXHRcdFx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdFx0XHRldmVudENhdGVnb3J5OiAnbWFwJyxcblx0XHRcdFx0XHRldmVudEFjdGlvbjogJ3NlYXJjaCBhZGRyZXNzJyxcblx0XHRcdFx0XHRldmVudExhYmVsOiBldi50YXJnZXQudmFsdWUsXG5cdFx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9sZWFmbGV0Q29udHJvbCA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0dlb1NlYXJjaENvbnRyb2wnLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sZWFmbGV0Q29udHJvbCkuZGVmYXVsdDtcblx0ICB9XG5cdH0pO1xuXHRcblx0dmFyIF9zZWFyY2hFbGVtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMyk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ1NlYXJjaEVsZW1lbnQnLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWFyY2hFbGVtZW50KS5kZWZhdWx0O1xuXHQgIH1cblx0fSk7XG5cdFxuXHR2YXIgX2JpbmdQcm92aWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdCaW5nUHJvdmlkZXInLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaW5nUHJvdmlkZXIpLmRlZmF1bHQ7XG5cdCAgfVxuXHR9KTtcblx0XG5cdHZhciBfZXNyaVByb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0VzcmlQcm92aWRlcicsIHtcblx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VzcmlQcm92aWRlcikuZGVmYXVsdDtcblx0ICB9XG5cdH0pO1xuXHRcblx0dmFyIF9nb29nbGVQcm92aWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjApO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHb29nbGVQcm92aWRlcicsIHtcblx0ICBlbnVtZXJhYmxlOiB0cnVlLFxuXHQgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuXHQgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dvb2dsZVByb3ZpZGVyKS5kZWZhdWx0O1xuXHQgIH1cblx0fSk7XG5cdFxuXHR2YXIgX29wZW5TdHJlZXRNYXBQcm92aWRlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjEpO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPcGVuU3RyZWV0TWFwUHJvdmlkZXInLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vcGVuU3RyZWV0TWFwUHJvdmlkZXIpLmRlZmF1bHQ7XG5cdCAgfVxuXHR9KTtcblx0XG5cdHZhciBfcHJvdmlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnUHJvdmlkZXInLCB7XG5cdCAgZW51bWVyYWJsZTogdHJ1ZSxcblx0ICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcblx0ICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm92aWRlcikuZGVmYXVsdDtcblx0ICB9XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcblx0ICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcblx0fVxuXG4vKioqLyB9KSxcbi8qIDUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfbm9kZW50UnVudGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX25vZGVudFJ1bnRpbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9kZW50UnVudGltZSk7XG5cdFxuXHR2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcblx0ICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHQgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG5cdCAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG5cdCAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgIH1yZXR1cm4gdGFyZ2V0O1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gTGVhZmxldENvbnRyb2w7XG5cdFxuXHR2YXIgX2xvZGFzaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuXHRcblx0dmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblx0XG5cdHZhciBfc2VhcmNoRWxlbWVudCA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXHRcblx0dmFyIF9zZWFyY2hFbGVtZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlYXJjaEVsZW1lbnQpO1xuXHRcblx0dmFyIF9yZXN1bHRMaXN0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNik7XG5cdFxuXHR2YXIgX3Jlc3VsdExpc3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzdWx0TGlzdCk7XG5cdFxuXHR2YXIgX2RvbVV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG5cdFxuXHR2YXIgX2NvbnN0YW50cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcblx0ICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcblx0fVxuXHRcblx0dmFyIGRlZmF1bHRPcHRpb25zID0gZnVuY3Rpb24gZGVmYXVsdE9wdGlvbnMoKSB7XG5cdCAgcmV0dXJuIHtcblx0ICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXG5cdCAgICBzdHlsZTogJ2J1dHRvbicsXG5cdCAgICBzaG93TWFya2VyOiB0cnVlLFxuXHQgICAgc2hvd1BvcHVwOiBmYWxzZSxcblx0ICAgIHBvcHVwRm9ybWF0OiBmdW5jdGlvbiBwb3B1cEZvcm1hdChfcmVmKSB7XG5cdCAgICAgIHZhciByZXN1bHQgPSBfcmVmLnJlc3VsdDtcblx0ICAgICAgcmV0dXJuICcnICsgcmVzdWx0LmxhYmVsO1xuXHQgICAgfSxcblx0ICAgIG1hcmtlcjoge1xuXHQgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKSxcblx0ICAgICAgZHJhZ2dhYmxlOiBmYWxzZVxuXHQgICAgfSxcblx0ICAgIG1heE1hcmtlcnM6IDEsXG5cdCAgICByZXRhaW5ab29tTGV2ZWw6IGZhbHNlLFxuXHQgICAgYW5pbWF0ZVpvb206IHRydWUsXG5cdCAgICBzZWFyY2hMYWJlbDogJ0VudGVyIGFkZHJlc3MnLFxuXHQgICAgbm90Rm91bmRNZXNzYWdlOiAnU29ycnksIHRoYXQgYWRkcmVzcyBjb3VsZCBub3QgYmUgZm91bmQuJyxcblx0ICAgIG1lc3NhZ2VIaWRlRGVsYXk6IDMwMDAsXG5cdCAgICB6b29tTGV2ZWw6IDE4LFxuXHQgICAgY2xhc3NOYW1lczoge1xuXHQgICAgICBjb250YWluZXI6ICdsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2wgbGVhZmxldC1jb250cm9sLWdlb3NlYXJjaCcsXG5cdCAgICAgIGJ1dHRvbjogJ2xlYWZsZXQtYmFyLXBhcnQgbGVhZmxldC1iYXItcGFydC1zaW5nbGUnLFxuXHQgICAgICBtc2dib3g6ICdsZWFmbGV0LWJhciBtZXNzYWdlJyxcblx0ICAgICAgZm9ybTogJycsXG5cdCAgICAgIGlucHV0OiAnJ1xuXHQgICAgfSxcblx0ICAgIGF1dG9Db21wbGV0ZTogdHJ1ZSxcblx0ICAgIGF1dG9Db21wbGV0ZURlbGF5OiAyNTAsXG5cdCAgICBhdXRvQ2xvc2U6IGZhbHNlXG5cdCAgfTtcblx0fTtcblx0XG5cdHZhciBDb250cm9sID0ge1xuXHQgIGluaXRpYWxpemU6IGZ1bmN0aW9uIGluaXRpYWxpemUob3B0aW9ucykge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB0aGlzLm1hcmtlcnMgPSBuZXcgTC5GZWF0dXJlR3JvdXAoKTtcblx0XG5cdCAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdE9wdGlvbnMoKSwgb3B0aW9ucyk7XG5cdFxuXHQgICAgdmFyIF9vcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHQgICAgICAgIHN0eWxlID0gX29wdGlvbnMuc3R5bGUsXG5cdCAgICAgICAgY2xhc3NOYW1lcyA9IF9vcHRpb25zLmNsYXNzTmFtZXMsXG5cdCAgICAgICAgc2VhcmNoTGFiZWwgPSBfb3B0aW9ucy5zZWFyY2hMYWJlbCxcblx0ICAgICAgICBhdXRvQ29tcGxldGUgPSBfb3B0aW9ucy5hdXRvQ29tcGxldGUsXG5cdCAgICAgICAgYXV0b0NvbXBsZXRlRGVsYXkgPSBfb3B0aW9ucy5hdXRvQ29tcGxldGVEZWxheTtcblx0XG5cdCAgICBpZiAoc3R5bGUgIT09ICdidXR0b24nKSB7XG5cdCAgICAgIHRoaXMub3B0aW9ucy5jbGFzc05hbWVzLmNvbnRhaW5lciArPSAnICcgKyBvcHRpb25zLnN0eWxlO1xuXHQgICAgfVxuXHRcblx0ICAgIHRoaXMuc2VhcmNoRWxlbWVudCA9IG5ldyBfc2VhcmNoRWxlbWVudDIuZGVmYXVsdChfZXh0ZW5kcyh7fSwgdGhpcy5vcHRpb25zLCB7XG5cdCAgICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KHF1ZXJ5KSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLm9uU3VibWl0KHF1ZXJ5KTtcblx0ICAgICAgfVxuXHQgICAgfSkpO1xuXHRcblx0ICAgIHZhciBfc2VhcmNoRWxlbWVudCRlbGVtZW4gPSB0aGlzLnNlYXJjaEVsZW1lbnQuZWxlbWVudHMsXG5cdCAgICAgICAgY29udGFpbmVyID0gX3NlYXJjaEVsZW1lbnQkZWxlbWVuLmNvbnRhaW5lcixcblx0ICAgICAgICBmb3JtID0gX3NlYXJjaEVsZW1lbnQkZWxlbWVuLmZvcm0sXG5cdCAgICAgICAgaW5wdXQgPSBfc2VhcmNoRWxlbWVudCRlbGVtZW4uaW5wdXQ7XG5cdFxuXHQgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHZhciBidXR0b24gPSAoMCwgX2RvbVV0aWxzLmNyZWF0ZUVsZW1lbnQpKCdhJywgY2xhc3NOYW1lcy5idXR0b24sIGNvbnRhaW5lcik7XG5cdCAgICBidXR0b24udGl0bGUgPSBzZWFyY2hMYWJlbDtcblx0ICAgIGJ1dHRvbi5ocmVmID0gJyMnO1xuXHRcblx0ICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF90aGlzLm9uQ2xpY2soZSk7XG5cdCAgICB9LCBmYWxzZSk7XG5cdFxuXHQgICAgaWYgKGF1dG9Db21wbGV0ZSkge1xuXHQgICAgICB0aGlzLnJlc3VsdExpc3QgPSBuZXcgX3Jlc3VsdExpc3QyLmRlZmF1bHQoe1xuXHQgICAgICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVDbGljayhfcmVmMikge1xuXHQgICAgICAgICAgdmFyIHJlc3VsdCA9IF9yZWYyLnJlc3VsdDtcblx0XG5cdCAgICAgICAgICBpbnB1dC52YWx1ZSA9IHJlc3VsdC5sYWJlbDtcblx0ICAgICAgICAgIF90aGlzLm9uU3VibWl0KHsgcXVlcnk6IHJlc3VsdC5sYWJlbCB9KTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgZm9ybS5hcHBlbmRDaGlsZCh0aGlzLnJlc3VsdExpc3QuZWxlbWVudHMuY29udGFpbmVyKTtcblx0XG5cdCAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKDAsIF9sb2Rhc2gyLmRlZmF1bHQpKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgcmV0dXJuIF90aGlzLmF1dG9TZWFyY2goZSk7XG5cdCAgICAgIH0sIGF1dG9Db21wbGV0ZURlbGF5KSwgdHJ1ZSk7XG5cdCAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICAgIHJldHVybiBfdGhpcy5zZWxlY3RSZXN1bHQoZSk7XG5cdCAgICAgIH0sIHRydWUpO1xuXHQgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICByZXR1cm4gX3RoaXMuY2xlYXJSZXN1bHRzKGUpO1xuXHQgICAgICB9LCB0cnVlKTtcblx0ICAgIH1cblx0XG5cdCAgICB0aGlzLmVsZW1lbnRzID0geyBidXR0b246IGJ1dHRvbiB9O1xuXHQgIH0sXG5cdCAgb25BZGQ6IGZ1bmN0aW9uIG9uQWRkKG1hcCkge1xuXHQgICAgdmFyIF9vcHRpb25zMiA9IHRoaXMub3B0aW9ucyxcblx0ICAgICAgICBzaG93TWFya2VyID0gX29wdGlvbnMyLnNob3dNYXJrZXIsXG5cdCAgICAgICAgc3R5bGUgPSBfb3B0aW9uczIuc3R5bGU7XG5cdFxuXHQgICAgdGhpcy5tYXAgPSBtYXA7XG5cdCAgICBpZiAoc2hvd01hcmtlcikge1xuXHQgICAgICB0aGlzLm1hcmtlcnMuYWRkVG8obWFwKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoc3R5bGUgPT09ICdiYXInKSB7XG5cdCAgICAgIHZhciBmb3JtID0gdGhpcy5zZWFyY2hFbGVtZW50LmVsZW1lbnRzLmZvcm07XG5cdFxuXHQgICAgICB2YXIgcm9vdCA9IG1hcC5nZXRDb250YWluZXIoKS5xdWVyeVNlbGVjdG9yKCcubGVhZmxldC1jb250cm9sLWNvbnRhaW5lcicpO1xuXHRcblx0ICAgICAgdmFyIGNvbnRhaW5lciA9ICgwLCBfZG9tVXRpbHMuY3JlYXRlRWxlbWVudCkoJ2RpdicsICdsZWFmbGV0LWNvbnRyb2wtZ2Vvc2VhcmNoIGJhcicpO1xuXHQgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZm9ybSk7XG5cdCAgICAgIHJvb3QuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblx0ICAgICAgdGhpcy5lbGVtZW50cy5jb250YWluZXIgPSBjb250YWluZXI7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXMuc2VhcmNoRWxlbWVudC5lbGVtZW50cy5jb250YWluZXI7XG5cdCAgfSxcblx0ICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoKSB7XG5cdCAgICB2YXIgY29udGFpbmVyID0gdGhpcy5lbGVtZW50cy5jb250YWluZXI7XG5cdFxuXHQgICAgaWYgKGNvbnRhaW5lcikge1xuXHQgICAgICBjb250YWluZXIucmVtb3ZlKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgcmV0dXJuIHRoaXM7XG5cdCAgfSxcblx0ICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGV2ZW50KSB7XG5cdCAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcblx0ICAgIHZhciBfc2VhcmNoRWxlbWVudCRlbGVtZW4yID0gdGhpcy5zZWFyY2hFbGVtZW50LmVsZW1lbnRzLFxuXHQgICAgICAgIGNvbnRhaW5lciA9IF9zZWFyY2hFbGVtZW50JGVsZW1lbjIuY29udGFpbmVyLFxuXHQgICAgICAgIGlucHV0ID0gX3NlYXJjaEVsZW1lbnQkZWxlbWVuMi5pbnB1dDtcblx0XG5cdCAgICBpZiAoY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcblx0ICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2FjdGl2ZScpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgKDAsIF9kb21VdGlscy5hZGRDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2FjdGl2ZScpO1xuXHQgICAgICBpbnB1dC5mb2N1cygpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgc2VsZWN0UmVzdWx0OiBmdW5jdGlvbiBzZWxlY3RSZXN1bHQoZXZlbnQpIHtcblx0ICAgIGlmICghW19jb25zdGFudHMuRU5URVJfS0VZLCBfY29uc3RhbnRzLkFSUk9XX0RPV05fS0VZLCBfY29uc3RhbnRzLkFSUk9XX1VQX0tFWV0uaW5jbHVkZXMoZXZlbnQua2V5Q29kZSkpIHtcblx0ICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHQgICAgdmFyIGlucHV0ID0gdGhpcy5zZWFyY2hFbGVtZW50LmVsZW1lbnRzLmlucHV0O1xuXHRcblx0ICAgIHZhciBsaXN0ID0gdGhpcy5yZXN1bHRMaXN0O1xuXHQgICAgdmFyIG1heCA9IHRoaXMucmVzdWx0TGlzdC5jb3VudCgpIC0gMTtcblx0ICAgIGlmIChtYXggPCAwKSB7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuXHQgICAgdmFyIG5leHQgPSBldmVudC5jb2RlID09PSAnQXJyb3dEb3duJyA/IH5+bGlzdC5zZWxlY3RlZCArIDEgOiB+fmxpc3Quc2VsZWN0ZWQgLSAxO1xuXHQgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG5cdCAgICB2YXIgaWR4ID0gbmV4dCA8IDAgPyBtYXggOiBuZXh0ID4gbWF4ID8gMCA6IG5leHQ7XG5cdFxuXHQgICAgdmFyIGl0ZW0gPSBsaXN0LnNlbGVjdChpZHgpO1xuXHQgICAgaW5wdXQudmFsdWUgPSBpdGVtLmxhYmVsO1xuXHRcblx0ICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfY29uc3RhbnRzLkVOVEVSX0tFWSkge1xuXHQgICAgICB0aGlzLm9uU3VibWl0KHsgcXVlcnk6IGl0ZW0ubGFiZWwgfSk7XG5cdCAgICB9XG5cdCAgfSxcblx0ICBjbGVhclJlc3VsdHM6IGZ1bmN0aW9uIGNsZWFyUmVzdWx0cyhldmVudCkge1xuXHQgICAgaWYgKGV2ZW50LmtleUNvZGUgIT09IF9jb25zdGFudHMuRVNDQVBFX0tFWSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdGhpcy5yZXN1bHRMaXN0LmNsZWFyKCk7XG5cdCAgfSxcblx0ICBhdXRvU2VhcmNoOiBmdW5jdGlvbiBhdXRvU2VhcmNoKGV2ZW50KSB7XG5cdCAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKCRyZXR1cm4sICRlcnJvcikge1xuXHQgICAgICB2YXIgcXVlcnksIHByb3ZpZGVyLCByZXN1bHRzO1xuXHRcblx0ICAgICAgaWYgKF9jb25zdGFudHMuU1BFQ0lBTF9LRVlTLmluY2x1ZGVzKGV2ZW50LmtleUNvZGUpKSB7XG5cdCAgICAgICAgcmV0dXJuICRyZXR1cm4oKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgcXVlcnkgPSBldmVudC50YXJnZXQudmFsdWU7XG5cdCAgICAgIHByb3ZpZGVyID0gdGhpcy5vcHRpb25zLnByb3ZpZGVyO1xuXHRcblx0ICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCkge1xuXHQgICAgICAgIHJldHVybiBwcm92aWRlci5zZWFyY2goeyBxdWVyeTogcXVlcnkgfSkudGhlbihmdW5jdGlvbiAoJGF3YWl0XzIpIHtcblx0ICAgICAgICAgIHJlc3VsdHMgPSAkYXdhaXRfMjtcblx0ICAgICAgICAgIHRoaXMucmVzdWx0TGlzdC5yZW5kZXIocmVzdWx0cyk7XG5cdCAgICAgICAgICByZXR1cm4gJElmXzEuY2FsbCh0aGlzKTtcblx0ICAgICAgICB9LiRhc3luY2JpbmQodGhpcywgJGVycm9yKSwgJGVycm9yKTtcblx0ICAgICAgfSBlbHNlIHtcblx0ICAgICAgICB0aGlzLnJlc3VsdExpc3QuY2xlYXIoKTtcblx0ICAgICAgICByZXR1cm4gJElmXzEuY2FsbCh0aGlzKTtcblx0ICAgICAgfVxuXHRcblx0ICAgICAgZnVuY3Rpb24gJElmXzEoKSB7XG5cdCAgICAgICAgcmV0dXJuICRyZXR1cm4oKTtcblx0ICAgICAgfVxuXHQgICAgfS4kYXN5bmNiaW5kKHRoaXMpKTtcblx0ICB9LFxuXHQgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChxdWVyeSkge1xuXHQgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgkcmV0dXJuLCAkZXJyb3IpIHtcblx0ICAgICAgdmFyIHByb3ZpZGVyLCByZXN1bHRzO1xuXHQgICAgICBwcm92aWRlciA9IHRoaXMub3B0aW9ucy5wcm92aWRlcjtcblx0ICAgICAgcmV0dXJuIHByb3ZpZGVyLnNlYXJjaChxdWVyeSkudGhlbihmdW5jdGlvbiAoJGF3YWl0XzMpIHtcblx0XG5cdCAgICAgICAgcmVzdWx0cyA9ICRhd2FpdF8zO1xuXHRcblx0ICAgICAgICBpZiAocmVzdWx0cyAmJiByZXN1bHRzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAgIHRoaXMuc2hvd1Jlc3VsdChyZXN1bHRzWzBdLCBxdWVyeSk7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHJldHVybiAkcmV0dXJuKCk7XG5cdCAgICAgIH0uJGFzeW5jYmluZCh0aGlzLCAkZXJyb3IpLCAkZXJyb3IpO1xuXHQgICAgfS4kYXN5bmNiaW5kKHRoaXMpKTtcblx0ICB9LFxuXHQgIHNob3dSZXN1bHQ6IGZ1bmN0aW9uIHNob3dSZXN1bHQocmVzdWx0LCBxdWVyeSkge1xuXHQgICAgdmFyIGF1dG9DbG9zZSA9IHRoaXMub3B0aW9ucy5hdXRvQ2xvc2U7XG5cdFxuXHQgICAgdmFyIG1hcmtlcnMgPSBPYmplY3Qua2V5cyh0aGlzLm1hcmtlcnMuX2xheWVycyk7XG5cdCAgICBpZiAobWFya2Vycy5sZW5ndGggPj0gdGhpcy5vcHRpb25zLm1heE1hcmtlcnMpIHtcblx0ICAgICAgdGhpcy5tYXJrZXJzLnJlbW92ZUxheWVyKG1hcmtlcnNbMF0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBtYXJrZXIgPSB0aGlzLmFkZE1hcmtlcihyZXN1bHQsIHF1ZXJ5KTtcblx0ICAgIHRoaXMuY2VudGVyTWFwKHJlc3VsdCk7XG5cdFxuXHQgICAgdGhpcy5tYXAuZmlyZUV2ZW50KCdnZW9zZWFyY2gvc2hvd2xvY2F0aW9uJywge1xuXHQgICAgICBsb2NhdGlvbjogcmVzdWx0LFxuXHQgICAgICBtYXJrZXI6IG1hcmtlclxuXHQgICAgfSk7XG5cdFxuXHQgICAgaWYgKGF1dG9DbG9zZSkge1xuXHQgICAgICB0aGlzLmNsb3NlUmVzdWx0cygpO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgY2xvc2VSZXN1bHRzOiBmdW5jdGlvbiBjbG9zZVJlc3VsdHMoKSB7XG5cdCAgICB2YXIgX3NlYXJjaEVsZW1lbnQkZWxlbWVuMyA9IHRoaXMuc2VhcmNoRWxlbWVudC5lbGVtZW50cyxcblx0ICAgICAgICBjb250YWluZXIgPSBfc2VhcmNoRWxlbWVudCRlbGVtZW4zLmNvbnRhaW5lcixcblx0ICAgICAgICBpbnB1dCA9IF9zZWFyY2hFbGVtZW50JGVsZW1lbjMuaW5wdXQ7XG5cdFxuXHQgICAgaWYgKGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG5cdCAgICAgICgwLCBfZG9tVXRpbHMucmVtb3ZlQ2xhc3NOYW1lKShjb250YWluZXIsICdhY3RpdmUnKTtcblx0ICAgIH1cblx0XG5cdCAgICBpbnB1dC52YWx1ZSA9ICcnO1xuXHQgICAgdGhpcy5yZXN1bHRMaXN0LmNsZWFyKCk7XG5cdCAgfSxcblx0ICBhZGRNYXJrZXI6IGZ1bmN0aW9uIGFkZE1hcmtlcihyZXN1bHQsIHF1ZXJ5KSB7XG5cdCAgICB2YXIgX3RoaXMyID0gdGhpcztcblx0XG5cdCAgICB2YXIgX29wdGlvbnMzID0gdGhpcy5vcHRpb25zLFxuXHQgICAgICAgIG9wdGlvbnMgPSBfb3B0aW9uczMubWFya2VyLFxuXHQgICAgICAgIHNob3dQb3B1cCA9IF9vcHRpb25zMy5zaG93UG9wdXAsXG5cdCAgICAgICAgcG9wdXBGb3JtYXQgPSBfb3B0aW9uczMucG9wdXBGb3JtYXQ7XG5cdFxuXHQgICAgdmFyIG1hcmtlciA9IG5ldyBMLk1hcmtlcihbcmVzdWx0LnksIHJlc3VsdC54XSwgb3B0aW9ucyk7XG5cdCAgICB2YXIgcG9wdXBMYWJlbCA9IHJlc3VsdC5sYWJlbDtcblx0XG5cdCAgICBpZiAodHlwZW9mIHBvcHVwRm9ybWF0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgIHBvcHVwTGFiZWwgPSBwb3B1cEZvcm1hdCh7IHF1ZXJ5OiBxdWVyeSwgcmVzdWx0OiByZXN1bHQgfSk7XG5cdCAgICB9XG5cdFxuXHQgICAgbWFya2VyLmJpbmRQb3B1cChwb3B1cExhYmVsKTtcblx0XG5cdCAgICB0aGlzLm1hcmtlcnMuYWRkTGF5ZXIobWFya2VyKTtcblx0XG5cdCAgICBpZiAoc2hvd1BvcHVwKSB7XG5cdCAgICAgIG1hcmtlci5vcGVuUG9wdXAoKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAob3B0aW9ucy5kcmFnZ2FibGUpIHtcblx0ICAgICAgbWFya2VyLm9uKCdkcmFnZW5kJywgZnVuY3Rpb24gKGFyZ3MpIHtcblx0ICAgICAgICBfdGhpczIubWFwLmZpcmVFdmVudCgnZ2Vvc2VhcmNoL21hcmtlci9kcmFnZW5kJywge1xuXHQgICAgICAgICAgbG9jYXRpb246IG1hcmtlci5nZXRMYXRMbmcoKSxcblx0ICAgICAgICAgIGV2ZW50OiBhcmdzXG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHRcblx0ICAgIHJldHVybiBtYXJrZXI7XG5cdCAgfSxcblx0ICBjZW50ZXJNYXA6IGZ1bmN0aW9uIGNlbnRlck1hcChyZXN1bHQpIHtcblx0ICAgIHZhciBfb3B0aW9uczQgPSB0aGlzLm9wdGlvbnMsXG5cdCAgICAgICAgcmV0YWluWm9vbUxldmVsID0gX29wdGlvbnM0LnJldGFpblpvb21MZXZlbCxcblx0ICAgICAgICBhbmltYXRlWm9vbSA9IF9vcHRpb25zNC5hbmltYXRlWm9vbTtcblx0XG5cdCAgICB2YXIgcmVzdWx0Qm91bmRzID0gbmV3IEwuTGF0TG5nQm91bmRzKHJlc3VsdC5ib3VuZHMpO1xuXHQgICAgdmFyIGJvdW5kcyA9IHJlc3VsdEJvdW5kcy5pc1ZhbGlkKCkgPyByZXN1bHRCb3VuZHMgOiB0aGlzLm1hcmtlcnMuZ2V0Qm91bmRzKCk7XG5cdFxuXHQgICAgaWYgKCFyZXRhaW5ab29tTGV2ZWwgJiYgcmVzdWx0Qm91bmRzLmlzVmFsaWQoKSkge1xuXHQgICAgICB0aGlzLm1hcC5maXRCb3VuZHMoYm91bmRzLCB7IGFuaW1hdGU6IGFuaW1hdGVab29tIH0pO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgdGhpcy5tYXAuc2V0Vmlldyhib3VuZHMuZ2V0Q2VudGVyKCksIHRoaXMuZ2V0Wm9vbSgpLCB7IGFuaW1hdGU6IGFuaW1hdGVab29tIH0pO1xuXHQgICAgfVxuXHQgIH0sXG5cdCAgZ2V0Wm9vbTogZnVuY3Rpb24gZ2V0Wm9vbSgpIHtcblx0ICAgIHZhciBfb3B0aW9uczUgPSB0aGlzLm9wdGlvbnMsXG5cdCAgICAgICAgcmV0YWluWm9vbUxldmVsID0gX29wdGlvbnM1LnJldGFpblpvb21MZXZlbCxcblx0ICAgICAgICB6b29tTGV2ZWwgPSBfb3B0aW9uczUuem9vbUxldmVsO1xuXHRcblx0ICAgIHJldHVybiByZXRhaW5ab29tTGV2ZWwgPyB0aGlzLm1hcC5nZXRab29tKCkgOiB6b29tTGV2ZWw7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gTGVhZmxldENvbnRyb2woKSB7XG5cdCAgaWYgKCFMIHx8ICFMLkNvbnRyb2wgfHwgIUwuQ29udHJvbC5leHRlbmQpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignTGVhZmxldCBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgaW5zdGFudGlhdGluZyB0aGUgR2VvU2VhcmNoIGNvbnRyb2wnKTtcblx0ICB9XG5cdFxuXHQgIHZhciBMQ29udHJvbCA9IEwuQ29udHJvbC5leHRlbmQoQ29udHJvbCk7XG5cdFxuXHQgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBvcHRpb25zID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG5cdCAgICBvcHRpb25zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuXHQgIH1cblx0XG5cdCAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoTENvbnRyb2wsIFtudWxsXS5jb25jYXQob3B0aW9ucykpKSgpO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHQvKlxuXHQgKiAkYXN5bmNiaW5kIGhhcyBtdWx0aXBsZSB1c2VzLCBkZXBlbmRpbmcgb24gdGhlIHBhcmFtZXRlciBsaXN0LiBJdCBpcyBpbiBGdW5jdGlvbi5wcm90b3R5cGUsIHNvICd0aGlzJyBpcyBhbHdheXMgYSBmdW5jdGlvblxuXHQgKlxuXHQgKiAxKSBJZiBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCAodGhpcyksIGl0IGlzIHVzZWQgd2hlbiBkZWZpbmluZyBhbiBhc3luYyBmdW5jdGlvbiB0byBlbnN1cmUgd2hlblxuXHQgKiAgICAgIGl0IGlzIGludm9rZWQsIHRoZSBjb3JyZWN0ICd0aGlzJyBpcyBwcmVzZW50LCBqdXN0IGxpa2UgXCJiaW5kXCIuIEZvciBsZWdhY3kgcmVhc29ucywgJ3RoaXMnIGlzIGdpdmVuXG5cdCAqICAgICAgYSBtZW1lYmVyICd0aGVuJyB3aGljaCByZWZlcnMgdG8gaXRzZWxmLlxuXHQgKiAyKSBJZiBjYWxsZWQgd2l0aCBhIHNlY29uZCBwYXJhbWV0ZXIgKFwiY2F0Y2hlclwiKSBhbmQgY2F0Y2hlciE9PXRydWUgaXQgaXMgYmVpbmcgdXNlZCB0byBpbnZva2UgYW4gYXN5bmNcblx0ICogICAgICBmdW5jdGlvbiB3aGVyZSB0aGUgc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgZXJyb3IgY2FsbGJhY2sgKGZvciBzeW5jIGV4Y2VwdGlvbnMgYW5kIHRvIGJlIHBhc3NlZCB0b1xuXHQgKiAgICAgIG5lc3RlZCBhc3luYyBjYWxscylcblx0ICogMykgSWYgY2FsbGVkIHdpdGggdGhlIHNlY29uZCBwYXJhbWV0ZXI9PT10cnVlLCBpdCBpcyB0aGUgc2FtZSB1c2UgYXMgKDEpLCBidXQgdGhlIGZ1bmN0aW9uIGlzIHdyYXBwZWRcblx0ICogICAgICBpbiBhbiAnUHJvbWlzZScgYXMgd2VsbCBib3VuZCB0byAndGhpcycuXG5cdCAqICAgICAgSXQgaXMgdGhlIHNhbWUgYXMgY2FsbGluZyAnbmV3IFByb21pc2UodGhpcyknLCB3aGVyZSAndGhpcycgaXMgdGhlIGZ1bmN0aW9uIGJlaW5nIGJvdW5kL3dyYXBwZWRcblx0ICogNCkgSWYgY2FsbGVkIHdpdGggdGhlIHNlY29uZCBwYXJhbWV0ZXI9PT0wLCBpdCBpcyB0aGUgc2FtZSB1c2UgYXMgKDEpLCBidXQgdGhlIGZ1bmN0aW9uIGlzIHdyYXBwZWRcblx0ICogICAgICBpbiBhICdMYXp5VGhlbmFibGUnLCB3aGljaCBleGVjdXRlcyBsYXppbHkgYW5kIGNhbiByZXNvbHZlIHN5bmNocm9ub3VzbHkuXG5cdCAqICAgICAgSXQgaXMgdGhlIHNhbWUgYXMgY2FsbGluZyAnbmV3IExhenlUaGVuYWJsZSh0aGlzKScgKGlmIHN1Y2ggYSB0eXBlIHdlcmUgZXhwb3NlZCksIHdoZXJlICd0aGlzJyBpc1xuXHQgKiAgICAgIHRoZSBmdW5jdGlvbiBiZWluZyBib3VuZC93cmFwcGVkXG5cdCAqL1xuXHRcblx0ZnVuY3Rpb24gcHJvY2Vzc0luY2x1ZGVzKGluY2x1ZGVzLCBpbnB1dCkge1xuXHQgICAgdmFyIHNyYyA9IGlucHV0LnRvU3RyaW5nKCk7XG5cdCAgICB2YXIgdCA9IFwicmV0dXJuIFwiICsgc3JjO1xuXHQgICAgdmFyIGFyZ3MgPSBzcmMubWF0Y2goLy4qXFwoKFteKV0qKVxcKS8pWzFdO1xuXHQgICAgdmFyIHJlID0gL1snXCJdISEhKFteJ1wiXSopWydcIl0vZztcblx0ICAgIHZhciBtID0gW107XG5cdCAgICB3aGlsZSAoMSkge1xuXHQgICAgICAgIHZhciBteCA9IHJlLmV4ZWModCk7XG5cdCAgICAgICAgaWYgKG14KSBtLnB1c2gobXgpO2Vsc2UgYnJlYWs7XG5cdCAgICB9XG5cdCAgICBtLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgICAgdCA9IHQuc2xpY2UoMCwgZS5pbmRleCkgKyBpbmNsdWRlc1tlWzFdXSArIHQuc3Vic3RyKGUuaW5kZXggKyBlWzBdLmxlbmd0aCk7XG5cdCAgICB9KTtcblx0ICAgIHQgPSB0LnJlcGxhY2UoL1xcL1xcKlteKl0qXFwqXFwvL2csICcgJykucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuXHQgICAgcmV0dXJuIG5ldyBGdW5jdGlvbihhcmdzLCB0KSgpO1xuXHR9XG5cdFxuXHR2YXIgJGFzeW5jYmluZCA9IHByb2Nlc3NJbmNsdWRlcyh7XG5cdCAgICB6b3VzYW46IF9fd2VicGFja19yZXF1aXJlX18oNykudG9TdHJpbmcoKSxcblx0ICAgIHRoZW5hYmxlOiBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKS50b1N0cmluZygpXG5cdH0sIGZ1bmN0aW9uICRhc3luY2JpbmQoc2VsZiwgY2F0Y2hlcikge1xuXHQgICAgXCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHQgICAgaWYgKCFGdW5jdGlvbi5wcm90b3R5cGUuJGFzeW5jYmluZCkge1xuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsIFwiJGFzeW5jYmluZFwiLCB7IHZhbHVlOiAkYXN5bmNiaW5kLCBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoISRhc3luY2JpbmQudHJhbXBvbGluZSkge1xuXHQgICAgICAgICRhc3luY2JpbmQudHJhbXBvbGluZSA9IGZ1bmN0aW9uIHRyYW1wb2xpbmUodCwgeCwgcywgZSwgdSkge1xuXHQgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gYihxKSB7XG5cdCAgICAgICAgICAgICAgICB3aGlsZSAocSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChxLnRoZW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcSA9IHEudGhlbihiLCBlKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHUgPyB1bmRlZmluZWQgOiBxO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5wb3ApIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxLmxlbmd0aCkgcmV0dXJuIHEucG9wKCkgPyB4LmNhbGwodCkgOiBxO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcSA9IHM7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBxID0gcS5jYWxsKHQpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHIpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUocik7XG5cdCAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9O1xuXHQgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBpZiAoISRhc3luY2JpbmQuTGF6eVRoZW5hYmxlKSB7XG5cdCAgICAgICAgJGFzeW5jYmluZC5MYXp5VGhlbmFibGUgPSAnISEhdGhlbmFibGUnKCk7XG5cdCAgICAgICAgJGFzeW5jYmluZC5FYWdlclRoZW5hYmxlID0gJGFzeW5jYmluZC5UaGVuYWJsZSA9ICgkYXN5bmNiaW5kLkVhZ2VyVGhlbmFibGVGYWN0b3J5ID0gJyEhIXpvdXNhbicpKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIHJlc29sdmVyID0gdGhpcztcblx0ICAgIHN3aXRjaCAoY2F0Y2hlcikge1xuXHQgICAgICAgIGNhc2UgdHJ1ZTpcblx0ICAgICAgICAgICAgcmV0dXJuIG5ldyAkYXN5bmNiaW5kLlRoZW5hYmxlKGJvdW5kVGhlbik7XG5cdCAgICAgICAgY2FzZSAwOlxuXHQgICAgICAgICAgICByZXR1cm4gbmV3ICRhc3luY2JpbmQuTGF6eVRoZW5hYmxlKGJvdW5kVGhlbik7XG5cdCAgICAgICAgY2FzZSB1bmRlZmluZWQ6XG5cdCAgICAgICAgICAgIC8qIEZvciBydW50aW1lIGNvbXBhdGliaWxpdHkgd2l0aCBOb2RlbnQgdjIueCwgcHJvdmlkZSBhIHRoZW5hYmxlICovXG5cdCAgICAgICAgICAgIGJvdW5kVGhlbi50aGVuID0gYm91bmRUaGVuO1xuXHQgICAgICAgICAgICByZXR1cm4gYm91bmRUaGVuO1xuXHQgICAgICAgIGRlZmF1bHQ6XG5cdCAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlci5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0Y2hlcihleCk7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH07XG5cdCAgICB9XG5cdCAgICBmdW5jdGlvbiBib3VuZFRoZW4oKSB7XG5cdCAgICAgICAgcmV0dXJuIHJlc29sdmVyLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG5cdCAgICB9XG5cdH0pO1xuXHRcblx0ZnVuY3Rpb24gJGFzeW5jc3Bhd24ocHJvbWlzZVByb3ZpZGVyLCBzZWxmKSB7XG5cdCAgICBpZiAoIUZ1bmN0aW9uLnByb3RvdHlwZS4kYXN5bmNzcGF3bikge1xuXHQgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsIFwiJGFzeW5jc3Bhd25cIiwgeyB2YWx1ZTogJGFzeW5jc3Bhd24sIGVudW1lcmFibGU6IGZhbHNlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xuXHQgICAgfVxuXHQgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSkgcmV0dXJuO1xuXHRcblx0ICAgIHZhciBnZW5GID0gdGhpcztcblx0ICAgIHJldHVybiBuZXcgcHJvbWlzZVByb3ZpZGVyKGZ1bmN0aW9uIGVub3VnaChyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICB2YXIgZ2VuID0gZ2VuRi5jYWxsKHNlbGYsIHJlc29sdmUsIHJlamVjdCk7XG5cdCAgICAgICAgZnVuY3Rpb24gc3RlcChmbiwgYXJnKSB7XG5cdCAgICAgICAgICAgIHZhciBuZXh0O1xuXHQgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgbmV4dCA9IGZuLmNhbGwoZ2VuLCBhcmcpO1xuXHQgICAgICAgICAgICAgICAgaWYgKG5leHQuZG9uZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlICE9PSByZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlICYmIG5leHQudmFsdWUgPT09IG5leHQudmFsdWUudGhlbikgcmV0dXJuIG5leHQudmFsdWUocmVzb2x2ZSwgcmVqZWN0KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSAmJiByZXNvbHZlKG5leHQudmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgfVxuXHRcblx0ICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlLnRoZW4pIHtcblx0ICAgICAgICAgICAgICAgICAgICBuZXh0LnZhbHVlLnRoZW4oZnVuY3Rpb24gKHYpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RlcChnZW4ubmV4dCwgdik7XG5cdCAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgc3RlcChnZW4udGhyb3csIGUpO1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbi5uZXh0LCBuZXh0LnZhbHVlKTtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAgICAgcmVqZWN0ICYmIHJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgIHJlamVjdCA9IG51bGw7XG5cdCAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICAgICAgc3RlcChnZW4ubmV4dCk7XG5cdCAgICB9KTtcblx0fVxuXHRcblx0Ly8gSW5pdGlhbGl6ZSBhc3luYyBiaW5kaW5nc1xuXHQkYXN5bmNiaW5kKCk7XG5cdCRhc3luY3NwYXduKCk7XG5cdFxuXHQvLyBFeHBvcnQgYXN5bmMgYmluZGluZ3Ncblx0bW9kdWxlLmV4cG9ydHMgPSB7XG5cdCAgICAkYXN5bmNiaW5kOiAkYXN5bmNiaW5kLFxuXHQgICAgJGFzeW5jc3Bhd246ICRhc3luY3NwYXduXG5cdH07XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihwcm9jZXNzLCBzZXRJbW1lZGlhdGUpIHsvKiBUaGlzIGNvZGUgaXMgYmFzZWQgb246XG5cdHpvdXNhbiAtIEEgTGlnaHRuaW5nIEZhc3QsIFlldCBWZXJ5IFNtYWxsIFByb21pc2UgQSsgQ29tcGxpYW50IEltcGxlbWVudGF0aW9uXG5cdGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlamF2YS96b3VzYW5cblx0QXV0aG9yOiBHbGVubiBDcm93bm92ZXIgPGdsZW5uQGJsdWVqYXZhLmNvbT4gKGh0dHA6Ly93d3cuYmx1ZWphdmEuY29tKVxuXHRWZXJzaW9uIDIuMy4zXG5cdExpY2Vuc2U6IE1JVCAqL1xuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRpY2spIHtcblx0ICAgIHRpY2sgPSB0aWNrIHx8ICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHByb2Nlc3MpKSA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzLm5leHRUaWNrIHx8IHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09IFwiZnVuY3Rpb25cIiAmJiBzZXRJbW1lZGlhdGUgfHwgZnVuY3Rpb24gKGYpIHtcblx0ICAgICAgICBzZXRUaW1lb3V0KGYsIDApO1xuXHQgICAgfTtcblx0ICAgIHZhciBzb29uID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHZhciBmcSA9IFtdLFxuXHQgICAgICAgICAgICBmcVN0YXJ0ID0gMCxcblx0ICAgICAgICAgICAgYnVmZmVyU2l6ZSA9IDEwMjQ7XG5cdCAgICAgICAgZnVuY3Rpb24gY2FsbFF1ZXVlKCkge1xuXHQgICAgICAgICAgICB3aGlsZSAoZnEubGVuZ3RoIC0gZnFTdGFydCkge1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBmcVtmcVN0YXJ0XSgpO1xuXHQgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHsvKiBjb25zb2xlLmVycm9yKGV4KSAqL31cblx0ICAgICAgICAgICAgICAgIGZxW2ZxU3RhcnQrK10gPSB1bmRlZmluZWQ7XG5cdCAgICAgICAgICAgICAgICBpZiAoZnFTdGFydCA9PT0gYnVmZmVyU2l6ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgIGZxLnNwbGljZSgwLCBidWZmZXJTaXplKTtcblx0ICAgICAgICAgICAgICAgICAgICBmcVN0YXJ0ID0gMDtcblx0ICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH1cblx0XG5cdCAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmbikge1xuXHQgICAgICAgICAgICBmcS5wdXNoKGZuKTtcblx0ICAgICAgICAgICAgaWYgKGZxLmxlbmd0aCAtIGZxU3RhcnQgPT09IDEpIHRpY2soY2FsbFF1ZXVlKTtcblx0ICAgICAgICB9O1xuXHQgICAgfSgpO1xuXHRcblx0ICAgIGZ1bmN0aW9uIFpvdXNhbihmdW5jKSB7XG5cdCAgICAgICAgaWYgKGZ1bmMpIHtcblx0ICAgICAgICAgICAgdmFyIG1lID0gdGhpcztcblx0ICAgICAgICAgICAgZnVuYyhmdW5jdGlvbiAoYXJnKSB7XG5cdCAgICAgICAgICAgICAgICBtZS5yZXNvbHZlKGFyZyk7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChhcmcpIHtcblx0ICAgICAgICAgICAgICAgIG1lLnJlamVjdChhcmcpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgWm91c2FuLnByb3RvdHlwZSA9IHtcblx0ICAgICAgICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG5cdCAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSB1bmRlZmluZWQpIHJldHVybjtcblx0ICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzKSByZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIkF0dGVtcHQgdG8gcmVzb2x2ZSBwcm9taXNlIHdpdGggc2VsZlwiKSk7XG5cdCAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7XG5cdCAgICAgICAgICAgIGlmICh2YWx1ZSAmJiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHwgKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkgPT09IFwib2JqZWN0XCIpKSB7XG5cdCAgICAgICAgICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdCA9IDA7XG5cdCAgICAgICAgICAgICAgICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuO1xuXHQgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgZnVuY3Rpb24gKHJhKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0KyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5yZXNvbHZlKHJhKTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJyKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0KyspIHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5yZWplY3QocnIpO1xuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgICAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0KSB0aGlzLnJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZVTEZJTExFRDtcblx0ICAgICAgICAgICAgdGhpcy52ID0gdmFsdWU7XG5cdCAgICAgICAgICAgIGlmIChtZS5jKSBzb29uKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwLCBsID0gbWUuYy5sZW5ndGg7IG4gPCBsOyBuKyspIHtcblx0ICAgICAgICAgICAgICAgICAgICBTVEFURV9GVUxGSUxMRUQobWUuY1tuXSwgdmFsdWUpO1xuXHQgICAgICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuXHQgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdCAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9SRUpFQ1RFRDtcblx0ICAgICAgICAgICAgdGhpcy52ID0gcmVhc29uO1xuXHQgICAgICAgICAgICB2YXIgY2xpZW50cyA9IHRoaXMuYztcblx0ICAgICAgICAgICAgaWYgKGNsaWVudHMpIHNvb24oZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDAsIGwgPSBjbGllbnRzLmxlbmd0aDsgbiA8IGw7IG4rKykge1xuXHQgICAgICAgICAgICAgICAgICAgIFNUQVRFX1JFSkVDVEVEKGNsaWVudHNbbl0sIHJlYXNvbik7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkYsIG9uUikge1xuXHQgICAgICAgICAgICB2YXIgcCA9IG5ldyBab3VzYW4oKTtcblx0ICAgICAgICAgICAgdmFyIGNsaWVudCA9IHtcblx0ICAgICAgICAgICAgICAgIHk6IG9uRixcblx0ICAgICAgICAgICAgICAgIG46IG9uUixcblx0ICAgICAgICAgICAgICAgIHA6IHBcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgICAgICAgICAgaWYgKHRoaXMuYykgdGhpcy5jLnB1c2goY2xpZW50KTtlbHNlIHRoaXMuYyA9IFtjbGllbnRdO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnN0YXRlLFxuXHQgICAgICAgICAgICAgICAgICAgIGEgPSB0aGlzLnY7XG5cdCAgICAgICAgICAgICAgICBzb29uKGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgICAgICBzKGNsaWVudCwgYSk7XG5cdCAgICAgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgICAgICByZXR1cm4gcDtcblx0ICAgICAgICB9XG5cdCAgICB9O1xuXHRcblx0ICAgIGZ1bmN0aW9uIFNUQVRFX0ZVTEZJTExFRChjLCBhcmcpIHtcblx0ICAgICAgICBpZiAodHlwZW9mIGMueSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cdCAgICAgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgICAgICB2YXIgeXJldCA9IGMueS5jYWxsKHVuZGVmaW5lZCwgYXJnKTtcblx0ICAgICAgICAgICAgICAgIGMucC5yZXNvbHZlKHlyZXQpO1xuXHQgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcblx0ICAgICAgICAgICAgICAgIGMucC5yZWplY3QoZXJyKTtcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSBjLnAucmVzb2x2ZShhcmcpO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIFNUQVRFX1JFSkVDVEVEKGMsIHJlYXNvbikge1xuXHQgICAgICAgIGlmICh0eXBlb2YgYy5uID09PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgIHZhciB5cmV0ID0gYy5uLmNhbGwodW5kZWZpbmVkLCByZWFzb24pO1xuXHQgICAgICAgICAgICAgICAgYy5wLnJlc29sdmUoeXJldCk7XG5cdCAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuXHQgICAgICAgICAgICAgICAgYy5wLnJlamVjdChlcnIpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBlbHNlIGMucC5yZWplY3QocmVhc29uKTtcblx0ICAgIH1cblx0XG5cdCAgICBab3VzYW4ucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWwpIHtcblx0ICAgICAgICBpZiAodmFsICYmIHZhbCBpbnN0YW5jZW9mIFpvdXNhbikgcmV0dXJuIHZhbDtcblx0ICAgICAgICB2YXIgeiA9IG5ldyBab3VzYW4oKTtcblx0ICAgICAgICB6LnJlc29sdmUodmFsKTtcblx0ICAgICAgICByZXR1cm4gejtcblx0ICAgIH07XG5cdCAgICBab3VzYW4ucmVqZWN0ID0gZnVuY3Rpb24gKGVycikge1xuXHQgICAgICAgIGlmIChlcnIgJiYgZXJyIGluc3RhbmNlb2YgWm91c2FuKSByZXR1cm4gZXJyO1xuXHQgICAgICAgIHZhciB6ID0gbmV3IFpvdXNhbigpO1xuXHQgICAgICAgIHoucmVqZWN0KGVycik7XG5cdCAgICAgICAgcmV0dXJuIHo7XG5cdCAgICB9O1xuXHRcblx0ICAgIFpvdXNhbi52ZXJzaW9uID0gXCIyLjMuMy1ub2RlbnRcIjtcblx0ICAgIHJldHVybiBab3VzYW47XG5cdH07XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpLnNldEltbWVkaWF0ZSkpXG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdC8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXHR2YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cdFxuXHQvLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcblx0Ly8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG5cdC8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcblx0Ly8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblx0XG5cdHZhciBjYWNoZWRTZXRUaW1lb3V0O1xuXHR2YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXHRcblx0ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdGZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKSB7XG5cdCAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xuXHR9XG5cdChmdW5jdGlvbiAoKSB7XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcblx0ICAgICAgICB9XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgICAgIH1cblx0ICAgIH0gY2F0Y2ggKGUpIHtcblx0ICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuXHQgICAgfVxuXHR9KSgpO1xuXHRmdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuXHQgICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcblx0ICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcblx0ICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfVxuXHQgICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuXHQgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuXHQgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgIHRyeSB7XG5cdCAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG5cdCAgICAgICAgfSBjYXRjaCAoZSkge1xuXHQgICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHR9XG5cdGZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcblx0ICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuXHQgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcblx0ICAgIH1cblx0ICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcblx0ICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuXHQgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcblx0ICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9XG5cdCAgICB0cnkge1xuXHQgICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3Ncblx0ICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG5cdCAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuXHQgICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcblx0ICAgICAgICB9IGNhdGNoIChlKSB7XG5cdCAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuXHQgICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG5cdCAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0fVxuXHR2YXIgcXVldWUgPSBbXTtcblx0dmFyIGRyYWluaW5nID0gZmFsc2U7XG5cdHZhciBjdXJyZW50UXVldWU7XG5cdHZhciBxdWV1ZUluZGV4ID0gLTE7XG5cdFxuXHRmdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG5cdCAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcblx0ICAgICAgICByZXR1cm47XG5cdCAgICB9XG5cdCAgICBkcmFpbmluZyA9IGZhbHNlO1xuXHQgICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcblx0ICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG5cdCAgICB9XG5cdCAgICBpZiAocXVldWUubGVuZ3RoKSB7XG5cdCAgICAgICAgZHJhaW5RdWV1ZSgpO1xuXHQgICAgfVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuXHQgICAgaWYgKGRyYWluaW5nKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHQgICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG5cdCAgICBkcmFpbmluZyA9IHRydWU7XG5cdFxuXHQgICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcblx0ICAgIHdoaWxlIChsZW4pIHtcblx0ICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcblx0ICAgICAgICBxdWV1ZSA9IFtdO1xuXHQgICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcblx0ICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuXHQgICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfVxuXHQgICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcblx0ICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG5cdCAgICB9XG5cdCAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuXHQgICAgZHJhaW5pbmcgPSBmYWxzZTtcblx0ICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0fVxuXHRcblx0cHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcblx0ICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcblx0ICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuXHQgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuXHQgICAgICAgIH1cblx0ICAgIH1cblx0ICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG5cdCAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuXHQgICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG5cdCAgICB9XG5cdH07XG5cdFxuXHQvLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5cdGZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuXHQgICAgdGhpcy5mdW4gPSBmdW47XG5cdCAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG5cdH1cblx0SXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuXHQgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG5cdH07XG5cdHByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5cdHByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5cdHByb2Nlc3MuZW52ID0ge307XG5cdHByb2Nlc3MuYXJndiA9IFtdO1xuXHRwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcblx0cHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gbm9vcCgpIHt9XG5cdFxuXHRwcm9jZXNzLm9uID0gbm9vcDtcblx0cHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3Mub25jZSA9IG5vb3A7XG5cdHByb2Nlc3Mub2ZmID0gbm9vcDtcblx0cHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5cdHByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcblx0cHJvY2Vzcy5lbWl0ID0gbm9vcDtcblx0cHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xuXHRwcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXHRcblx0cHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkge1xuXHQgICAgcmV0dXJuIFtdO1xuXHR9O1xuXHRcblx0cHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcblx0fTtcblx0XG5cdHByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkge1xuXHQgICAgcmV0dXJuICcvJztcblx0fTtcblx0cHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcblx0ICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG5cdH07XG5cdHByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICByZXR1cm4gMDtcblx0fTtcblxuLyoqKi8gfSksXG4vKiA5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHR2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cdFxuXHQvLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXHRcblx0ZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuXHQgIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcblx0fTtcblx0ZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uICgpIHtcblx0ICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcblx0fTtcblx0ZXhwb3J0cy5jbGVhclRpbWVvdXQgPSBleHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbiAodGltZW91dCkge1xuXHQgIGlmICh0aW1lb3V0KSB7XG5cdCAgICB0aW1lb3V0LmNsb3NlKCk7XG5cdCAgfVxuXHR9O1xuXHRcblx0ZnVuY3Rpb24gVGltZW91dChpZCwgY2xlYXJGbikge1xuXHQgIHRoaXMuX2lkID0gaWQ7XG5cdCAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG5cdH1cblx0VGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbiAoKSB7fTtcblx0VGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG5cdCAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xuXHR9O1xuXHRcblx0Ly8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5cdGV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24gKGl0ZW0sIG1zZWNzKSB7XG5cdCAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXHQgIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG5cdH07XG5cdFxuXHRleHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24gKGl0ZW0pIHtcblx0ICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cdCAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcblx0fTtcblx0XG5cdGV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbiAoaXRlbSkge1xuXHQgIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblx0XG5cdCAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG5cdCAgaWYgKG1zZWNzID49IDApIHtcblx0ICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcblx0ICAgICAgaWYgKGl0ZW0uX29uVGltZW91dCkgaXRlbS5fb25UaW1lb3V0KCk7XG5cdCAgICB9LCBtc2Vjcyk7XG5cdCAgfVxuXHR9O1xuXHRcblx0Ly8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxuXHRfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtcblx0ZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG5cdGV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwsIHByb2Nlc3MpIHtcInVzZSBzdHJpY3RcIjtcblx0XG5cdChmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcblx0ICAgIFwidXNlIHN0cmljdFwiO1xuXHRcblx0ICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG5cdCAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuXHQgICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuXHQgICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcblx0ICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblx0XG5cdCAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcblx0ICAgICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcblx0ICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcblx0ICAgICAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcblx0ICAgICAgICB9XG5cdCAgICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcblx0ICAgICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG5cdCAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcblx0ICAgICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG5cdCAgICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG5cdCAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG5cdCAgICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcblx0ICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG5cdCAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcblx0ICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcblx0ICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG5cdCAgICAgICAgICAgIGNhc2UgMDpcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgY2FzZSAxOlxuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgY2FzZSAyOlxuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgY2FzZSAzOlxuXHQgICAgICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICAgICAgZGVmYXVsdDpcblx0ICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG5cdCAgICAgICAgICAgICAgICBicmVhaztcblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuXHQgICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcblx0ICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuXHQgICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcblx0ICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcblx0ICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cblx0ICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG5cdCAgICAgICAgfSBlbHNlIHtcblx0ICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG5cdCAgICAgICAgICAgIGlmICh0YXNrKSB7XG5cdCAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuXHQgICAgICAgICAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG5cdCAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuXHQgICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG5cdCAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG5cdCAgICAgICAgICAgICAgICB9XG5cdCAgICAgICAgICAgIH1cblx0ICAgICAgICB9XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG5cdCAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbiByZWdpc3RlckltbWVkaWF0ZShoYW5kbGUpIHtcblx0ICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcblx0ICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG5cdCAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG5cdCAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcblx0ICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuXHQgICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcblx0ICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcblx0ICAgICAgICAgICAgfTtcblx0ICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcblx0ICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcblx0ICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuXHQgICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuXHQgICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuXHQgICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblx0XG5cdCAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcblx0ICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24gb25HbG9iYWxNZXNzYWdlKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJiB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJiBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcblx0ICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfTtcblx0XG5cdCAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcblx0ICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcblx0ICAgICAgICB9XG5cdFxuXHQgICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24gcmVnaXN0ZXJJbW1lZGlhdGUoaGFuZGxlKSB7XG5cdCAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcblx0ICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuXHQgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdCAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuXHQgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcblx0ICAgICAgICB9O1xuXHRcblx0ICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uIHJlZ2lzdGVySW1tZWRpYXRlKGhhbmRsZSkge1xuXHQgICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuXHQgICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblx0ICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uIHJlZ2lzdGVySW1tZWRpYXRlKGhhbmRsZSkge1xuXHQgICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcblx0ICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cblx0ICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuXHQgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG5cdCAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcblx0ICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcblx0ICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG5cdCAgICAgICAgICAgIH07XG5cdCAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0ICAgICAgICB9O1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG5cdCAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbiByZWdpc3RlckltbWVkaWF0ZShoYW5kbGUpIHtcblx0ICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG5cdCAgICAgICAgfTtcblx0ICAgIH1cblx0XG5cdCAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cblx0ICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcblx0ICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXHRcblx0ICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cblx0ICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcblx0ICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG5cdCAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblx0ICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuXHQgICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcblx0ICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXHQgICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcblx0ICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuXHQgICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cdCAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG5cdCAgICAgICAgLy8gRm9yIElFIDbigJM4XG5cdCAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcblx0ICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuXHQgICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcblx0fSkodHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdW5kZWZpbmVkIDogZ2xvYmFsIDogc2VsZik7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDgpKSlcblxuLyoqKi8gfSksXG4vKiAxMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0bW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICBmdW5jdGlvbiBpc1RoZW5hYmxlKG9iaikge1xuXHQgICAgICAgIHJldHVybiBvYmogJiYgb2JqIGluc3RhbmNlb2YgT2JqZWN0ICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIHJlc29sdXRpb24ocCwgciwgaG93KSB7XG5cdCAgICAgICAgdHJ5IHtcblx0ICAgICAgICAgICAgLyogMi4yLjcuMSAqL1xuXHQgICAgICAgICAgICB2YXIgeCA9IGhvdyA/IGhvdyhyKSA6IHI7XG5cdFxuXHQgICAgICAgICAgICBpZiAocCA9PT0geCkgLyogMi4zLjEgKi9cblx0ICAgICAgICAgICAgICAgIHJldHVybiBwLnJlamVjdChuZXcgVHlwZUVycm9yKFwiUHJvbWlzZSByZXNvbHV0aW9uIGxvb3BcIikpO1xuXHRcblx0ICAgICAgICAgICAgaWYgKGlzVGhlbmFibGUoeCkpIHtcblx0ICAgICAgICAgICAgICAgIC8qIDIuMy4zICovXG5cdCAgICAgICAgICAgICAgICB4LnRoZW4oZnVuY3Rpb24gKHkpIHtcblx0ICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uKHAsIHkpO1xuXHQgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcblx0ICAgICAgICAgICAgICAgICAgICBwLnJlamVjdChlKTtcblx0ICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgICAgICAgICAgcC5yZXNvbHZlKHgpO1xuXHQgICAgICAgICAgICB9XG5cdCAgICAgICAgfSBjYXRjaCAoZXgpIHtcblx0ICAgICAgICAgICAgLyogMi4yLjcuMiAqL1xuXHQgICAgICAgICAgICBwLnJlamVjdChleCk7XG5cdCAgICAgICAgfVxuXHQgICAgfVxuXHRcblx0ICAgIGZ1bmN0aW9uIENoYWluZWQoKSB7fTtcblx0ICAgIENoYWluZWQucHJvdG90eXBlID0ge1xuXHQgICAgICAgIHJlc29sdmU6IF91bmNoYWluZWQsXG5cdCAgICAgICAgcmVqZWN0OiBfdW5jaGFpbmVkLFxuXHQgICAgICAgIHRoZW46IHRoZW5DaGFpblxuXHQgICAgfTtcblx0ICAgIGZ1bmN0aW9uIF91bmNoYWluZWQodikge31cblx0ICAgIGZ1bmN0aW9uIHRoZW5DaGFpbihyZXMsIHJlaikge1xuXHQgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlcztcblx0ICAgICAgICB0aGlzLnJlamVjdCA9IHJlajtcblx0ICAgIH1cblx0XG5cdCAgICBmdW5jdGlvbiB0aGVuKHJlcywgcmVqKSB7XG5cdCAgICAgICAgdmFyIGNoYWluID0gbmV3IENoYWluZWQoKTtcblx0ICAgICAgICB0cnkge1xuXHQgICAgICAgICAgICB0aGlzLl9yZXNvbHZlcihmdW5jdGlvbiAodmFsdWUpIHtcblx0ICAgICAgICAgICAgICAgIHJldHVybiBpc1RoZW5hYmxlKHZhbHVlKSA/IHZhbHVlLnRoZW4ocmVzLCByZWopIDogcmVzb2x1dGlvbihjaGFpbiwgdmFsdWUsIHJlcyk7XG5cdCAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChleCkge1xuXHQgICAgICAgICAgICAgICAgcmVzb2x1dGlvbihjaGFpbiwgZXgsIHJlaik7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG5cdCAgICAgICAgICAgIHJlc29sdXRpb24oY2hhaW4sIGV4LCByZWopO1xuXHQgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gY2hhaW47XG5cdCAgICB9XG5cdFxuXHQgICAgZnVuY3Rpb24gVGhlbmFibGUocmVzb2x2ZXIpIHtcblx0ICAgICAgICB0aGlzLl9yZXNvbHZlciA9IHJlc29sdmVyO1xuXHQgICAgICAgIHRoaXMudGhlbiA9IHRoZW47XG5cdCAgICB9O1xuXHRcblx0ICAgIFRoZW5hYmxlLnJlc29sdmUgPSBmdW5jdGlvbiAodikge1xuXHQgICAgICAgIHJldHVybiBUaGVuYWJsZS5pc1RoZW5hYmxlKHYpID8gdiA6IHsgdGhlbjogZnVuY3Rpb24gdGhlbihyZXNvbHZlKSB7XG5cdCAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh2KTtcblx0ICAgICAgICAgICAgfSB9O1xuXHQgICAgfTtcblx0XG5cdCAgICBUaGVuYWJsZS5pc1RoZW5hYmxlID0gaXNUaGVuYWJsZTtcblx0XG5cdCAgICByZXR1cm4gVGhlbmFibGU7XG5cdH07XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7J3VzZSBzdHJpY3QnO1xuXHRcblx0dmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXHRcblx0LyoqXG5cdCAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cblx0ICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG5cdCAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuXHQgKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG5cdCAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG5cdCAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuXHQgKi9cblx0XG5cdC8qKiBVc2VkIGFzIHRoZSBgVHlwZUVycm9yYCBtZXNzYWdlIGZvciBcIkZ1bmN0aW9uc1wiIG1ldGhvZHMuICovXG5cdHZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cdFxuXHQvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cblx0dmFyIE5BTiA9IDAgLyAwO1xuXHRcblx0LyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xuXHR2YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cdFxuXHQvKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlLiAqL1xuXHR2YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cdFxuXHQvKiogVXNlZCB0byBkZXRlY3QgYmFkIHNpZ25lZCBoZXhhZGVjaW1hbCBzdHJpbmcgdmFsdWVzLiAqL1xuXHR2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXHRcblx0LyoqIFVzZWQgdG8gZGV0ZWN0IGJpbmFyeSBzdHJpbmcgdmFsdWVzLiAqL1xuXHR2YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblx0XG5cdC8qKiBVc2VkIHRvIGRldGVjdCBvY3RhbCBzdHJpbmcgdmFsdWVzLiAqL1xuXHR2YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblx0XG5cdC8qKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB3aXRob3V0IGEgZGVwZW5kZW5jeSBvbiBgcm9vdGAuICovXG5cdHZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblx0XG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG5cdHZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiBnbG9iYWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGdsb2JhbCkpID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXHRcblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cblx0dmFyIGZyZWVTZWxmID0gKHR5cGVvZiBzZWxmID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzZWxmKSkgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cdFxuXHQvKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cblx0dmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdFxuXHQvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG5cdHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cdFxuXHQvKipcblx0ICogVXNlZCB0byByZXNvbHZlIHRoZVxuXHQgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcblx0ICogb2YgdmFsdWVzLlxuXHQgKi9cblx0dmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cdFxuXHQvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG5cdHZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcblx0ICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXHRcblx0LyoqXG5cdCAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuXHQgKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgMi40LjBcblx0ICogQGNhdGVnb3J5IERhdGVcblx0ICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG5cdCAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcblx0ICogfSwgXy5ub3coKSk7XG5cdCAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG5cdCAqL1xuXHR2YXIgbm93ID0gZnVuY3Rpb24gbm93KCkge1xuXHQgIHJldHVybiByb290LkRhdGUubm93KCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG5cdCAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuXHQgKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG5cdCAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuXHQgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcblx0ICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuXHQgKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG5cdCAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG5cdCAqIGludm9jYXRpb24uXG5cdCAqXG5cdCAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcblx0ICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cblx0ICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuXHQgKlxuXHQgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcblx0ICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuXHQgKlxuXHQgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcblx0ICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgMC4xLjBcblx0ICogQGNhdGVnb3J5IEZ1bmN0aW9uXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuXHQgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG5cdCAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuXHQgKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cblx0ICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG5cdCAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cblx0ICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcblx0ICpcblx0ICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG5cdCAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcblx0ICogICAnbGVhZGluZyc6IHRydWUsXG5cdCAqICAgJ3RyYWlsaW5nJzogZmFsc2Vcblx0ICogfSkpO1xuXHQgKlxuXHQgKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuXHQgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcblx0ICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuXHQgKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG5cdCAqXG5cdCAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG5cdCAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuXHQgKi9cblx0ZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuXHQgIHZhciBsYXN0QXJncyxcblx0ICAgICAgbGFzdFRoaXMsXG5cdCAgICAgIG1heFdhaXQsXG5cdCAgICAgIHJlc3VsdCxcblx0ICAgICAgdGltZXJJZCxcblx0ICAgICAgbGFzdENhbGxUaW1lLFxuXHQgICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG5cdCAgICAgIGxlYWRpbmcgPSBmYWxzZSxcblx0ICAgICAgbWF4aW5nID0gZmFsc2UsXG5cdCAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblx0XG5cdCAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcblx0ICB9XG5cdCAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG5cdCAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG5cdCAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG5cdCAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcblx0ICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG5cdCAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG5cdCAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuXHQgICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblx0XG5cdCAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuXHQgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuXHQgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG5cdCAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuXHQgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuXHQgICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cblx0ICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG5cdCAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cblx0ICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuXHQgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcblx0ICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuXHQgICAgICAgIHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblx0XG5cdCAgICByZXR1cm4gbWF4aW5nID8gbmF0aXZlTWluKHJlc3VsdCwgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpIDogcmVzdWx0O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcblx0ICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG5cdCAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblx0XG5cdCAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuXHQgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcblx0ICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cblx0ICAgIHJldHVybiBsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCB0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0IHx8IHRpbWVTaW5jZUxhc3RDYWxsIDwgMCB8fCBtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0O1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuXHQgICAgdmFyIHRpbWUgPSBub3coKTtcblx0ICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcblx0ICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcblx0ICAgIH1cblx0ICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuXHQgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG5cdCAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXHRcblx0ICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cblx0ICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuXHQgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG5cdCAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuXHQgICAgfVxuXHQgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcblx0ICAgIHJldHVybiByZXN1bHQ7XG5cdCAgfVxuXHRcblx0ICBmdW5jdGlvbiBjYW5jZWwoKSB7XG5cdCAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG5cdCAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcblx0ICAgIH1cblx0ICAgIGxhc3RJbnZva2VUaW1lID0gMDtcblx0ICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuXHQgIH1cblx0XG5cdCAgZnVuY3Rpb24gZmx1c2goKSB7XG5cdCAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcblx0ICB9XG5cdFxuXHQgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcblx0ICAgIHZhciB0aW1lID0gbm93KCksXG5cdCAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblx0XG5cdCAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcblx0ICAgIGxhc3RUaGlzID0gdGhpcztcblx0ICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cdFxuXHQgICAgaWYgKGlzSW52b2tpbmcpIHtcblx0ICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuXHQgICAgICB9XG5cdCAgICAgIGlmIChtYXhpbmcpIHtcblx0ICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuXHQgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG5cdCAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcblx0ICAgICAgfVxuXHQgICAgfVxuXHQgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuXHQgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIHJlc3VsdDtcblx0ICB9XG5cdCAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcblx0ICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcblx0ICByZXR1cm4gZGVib3VuY2VkO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG5cdCAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcblx0ICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBzaW5jZSAwLjEuMFxuXHQgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3Qoe30pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG5cdCAqIC8vID0+IHRydWVcblx0ICpcblx0ICogXy5pc09iamVjdChudWxsKTtcblx0ICogLy8gPT4gZmFsc2Vcblx0ICovXG5cdGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG5cdCAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhbHVlKTtcblx0ICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG5cdCAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cblx0ICpcblx0ICogQHN0YXRpY1xuXHQgKiBAbWVtYmVyT2YgX1xuXHQgKiBAc2luY2UgNC4wLjBcblx0ICogQGNhdGVnb3J5IExhbmdcblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKHt9KTtcblx0ICogLy8gPT4gdHJ1ZVxuXHQgKlxuXHQgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG5cdCAqIC8vID0+IGZhbHNlXG5cdCAqXG5cdCAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG5cdCAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsdWUpKSA9PSAnb2JqZWN0Jztcblx0fVxuXHRcblx0LyoqXG5cdCAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuXHQgKlxuXHQgKiBAc3RhdGljXG5cdCAqIEBtZW1iZXJPZiBfXG5cdCAqIEBzaW5jZSA0LjAuMFxuXHQgKiBAY2F0ZWdvcnkgTGFuZ1xuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuXHQgKiAvLyA9PiB0cnVlXG5cdCAqXG5cdCAqIF8uaXNTeW1ib2woJ2FiYycpO1xuXHQgKiAvLyA9PiBmYWxzZVxuXHQgKi9cblx0ZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcblx0ICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsdWUpKSA9PSAnc3ltYm9sJyB8fCBpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZztcblx0fVxuXHRcblx0LyoqXG5cdCAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG5cdCAqXG5cdCAqIEBzdGF0aWNcblx0ICogQG1lbWJlck9mIF9cblx0ICogQHNpbmNlIDQuMC4wXG5cdCAqIEBjYXRlZ29yeSBMYW5nXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogXy50b051bWJlcigzLjIpO1xuXHQgKiAvLyA9PiAzLjJcblx0ICpcblx0ICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcblx0ICogLy8gPT4gNWUtMzI0XG5cdCAqXG5cdCAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuXHQgKiAvLyA9PiBJbmZpbml0eVxuXHQgKlxuXHQgKiBfLnRvTnVtYmVyKCczLjInKTtcblx0ICogLy8gPT4gMy4yXG5cdCAqL1xuXHRmdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuXHQgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcblx0ICAgIHJldHVybiB2YWx1ZTtcblx0ICB9XG5cdCAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuXHQgICAgcmV0dXJuIE5BTjtcblx0ICB9XG5cdCAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuXHQgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuXHQgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyBvdGhlciArICcnIDogb3RoZXI7XG5cdCAgfVxuXHQgIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcblx0ICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuXHQgIH1cblx0ICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UocmVUcmltLCAnJyk7XG5cdCAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcblx0ICByZXR1cm4gaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpID8gZnJlZVBhcnNlSW50KHZhbHVlLnNsaWNlKDIpLCBpc0JpbmFyeSA/IDIgOiA4KSA6IHJlSXNCYWRIZXgudGVzdCh2YWx1ZSkgPyBOQU4gOiArdmFsdWU7XG5cdH1cblx0XG5cdG1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG5cdC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCAoZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KCkpKSlcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9ub2RlbnRSdW50aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbm9kZW50UnVudGltZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2RlbnRSdW50aW1lKTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICAgIH1cblx0ICB9cmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcblx0ICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7aWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO1xuXHQgIH07XG5cdH0oKTtcblx0XG5cdHZhciBfZG9tVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0XG5cdHZhciBfY29uc3RhbnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNSk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdCAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgU2VhcmNoRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBTZWFyY2hFbGVtZW50KCkge1xuXHQgICAgdmFyIF90aGlzID0gdGhpcztcblx0XG5cdCAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG5cdCAgICAgICAgX3JlZiRoYW5kbGVTdWJtaXQgPSBfcmVmLmhhbmRsZVN1Ym1pdCxcblx0ICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmJGhhbmRsZVN1Ym1pdCA9PT0gdW5kZWZpbmVkID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJGhhbmRsZVN1Ym1pdCxcblx0ICAgICAgICBfcmVmJHNlYXJjaExhYmVsID0gX3JlZi5zZWFyY2hMYWJlbCxcblx0ICAgICAgICBzZWFyY2hMYWJlbCA9IF9yZWYkc2VhcmNoTGFiZWwgPT09IHVuZGVmaW5lZCA/ICdzZWFyY2gnIDogX3JlZiRzZWFyY2hMYWJlbCxcblx0ICAgICAgICBfcmVmJGNsYXNzTmFtZXMgPSBfcmVmLmNsYXNzTmFtZXMsXG5cdCAgICAgICAgY2xhc3NOYW1lcyA9IF9yZWYkY2xhc3NOYW1lcyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGNsYXNzTmFtZXM7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlYXJjaEVsZW1lbnQpO1xuXHRcblx0ICAgIHZhciBjb250YWluZXIgPSAoMCwgX2RvbVV0aWxzLmNyZWF0ZUVsZW1lbnQpKCdkaXYnLCBbJ2dlb3NlYXJjaCcsIGNsYXNzTmFtZXMuY29udGFpbmVyXS5qb2luKCcgJykpO1xuXHQgICAgdmFyIGZvcm0gPSAoMCwgX2RvbVV0aWxzLmNyZWF0ZUVsZW1lbnQpKCdmb3JtJywgWycnLCBjbGFzc05hbWVzLmZvcm1dLmpvaW4oJyAnKSwgY29udGFpbmVyKTtcblx0ICAgIHZhciBpbnB1dCA9ICgwLCBfZG9tVXRpbHMuY3JlYXRlRWxlbWVudCkoJ2lucHV0JywgWydnbGFzcycsIGNsYXNzTmFtZXMuaW5wdXRdLmpvaW4oJyAnKSwgZm9ybSk7XG5cdFxuXHQgICAgaW5wdXQudHlwZSA9ICd0ZXh0Jztcblx0ICAgIGlucHV0LnBsYWNlaG9sZGVyID0gc2VhcmNoTGFiZWw7XG5cdFxuXHQgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5vbklucHV0KGUpO1xuXHQgICAgfSwgZmFsc2UpO1xuXHQgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5vbktleVVwKGUpO1xuXHQgICAgfSwgZmFsc2UpO1xuXHQgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5vbktleVByZXNzKGUpO1xuXHQgICAgfSwgZmFsc2UpO1xuXHQgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xuXHQgICAgICBfdGhpcy5vbkZvY3VzKGUpO1xuXHQgICAgfSwgZmFsc2UpO1xuXHQgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uIChlKSB7XG5cdCAgICAgIF90aGlzLm9uQmx1cihlKTtcblx0ICAgIH0sIGZhbHNlKTtcblx0XG5cdCAgICB0aGlzLmVsZW1lbnRzID0geyBjb250YWluZXI6IGNvbnRhaW5lciwgZm9ybTogZm9ybSwgaW5wdXQ6IGlucHV0IH07XG5cdCAgICB0aGlzLmhhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhTZWFyY2hFbGVtZW50LCBbe1xuXHQgICAga2V5OiAnb25Gb2N1cycsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25Gb2N1cygpIHtcblx0ICAgICAgKDAsIF9kb21VdGlscy5hZGRDbGFzc05hbWUpKHRoaXMuZWxlbWVudHMuZm9ybSwgJ2FjdGl2ZScpO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ29uQmx1cicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKCkge1xuXHQgICAgICAoMCwgX2RvbVV0aWxzLnJlbW92ZUNsYXNzTmFtZSkodGhpcy5lbGVtZW50cy5mb3JtLCAnYWN0aXZlJyk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnb25TdWJtaXQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3VibWl0KGV2ZW50KSB7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoJHJldHVybiwgJGVycm9yKSB7XG5cdCAgICAgICAgdmFyIF9lbGVtZW50cywgaW5wdXQsIGNvbnRhaW5lcjtcblx0XG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0ICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XG5cdCAgICAgICAgX2VsZW1lbnRzID0gdGhpcy5lbGVtZW50cywgaW5wdXQgPSBfZWxlbWVudHMuaW5wdXQsIGNvbnRhaW5lciA9IF9lbGVtZW50cy5jb250YWluZXI7XG5cdFxuXHQgICAgICAgICgwLCBfZG9tVXRpbHMucmVtb3ZlQ2xhc3NOYW1lKShjb250YWluZXIsICdlcnJvcicpO1xuXHQgICAgICAgICgwLCBfZG9tVXRpbHMuYWRkQ2xhc3NOYW1lKShjb250YWluZXIsICdwZW5kaW5nJyk7XG5cdFxuXHQgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVN1Ym1pdCh7IHF1ZXJ5OiBpbnB1dC52YWx1ZSB9KS50aGVuKGZ1bmN0aW9uICgkYXdhaXRfMSkge1xuXHQgICAgICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ3BlbmRpbmcnKTtcblx0ICAgICAgICAgIHJldHVybiAkcmV0dXJuKCk7XG5cdCAgICAgICAgfS4kYXN5bmNiaW5kKHRoaXMsICRlcnJvciksICRlcnJvcik7XG5cdCAgICAgIH0uJGFzeW5jYmluZCh0aGlzKSk7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnb25JbnB1dCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnB1dCgpIHtcblx0ICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudHMuY29udGFpbmVyO1xuXHRcblx0ICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcblx0ICAgICAgICAoMCwgX2RvbVV0aWxzLnJlbW92ZUNsYXNzTmFtZSkoY29udGFpbmVyLCAnZXJyb3InKTtcblx0ICAgICAgICB0aGlzLmhhc0Vycm9yID0gZmFsc2U7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdvbktleVVwJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleVVwKGV2ZW50KSB7XG5cdCAgICAgIHZhciBfZWxlbWVudHMyID0gdGhpcy5lbGVtZW50cyxcblx0ICAgICAgICAgIGNvbnRhaW5lciA9IF9lbGVtZW50czIuY29udGFpbmVyLFxuXHQgICAgICAgICAgaW5wdXQgPSBfZWxlbWVudHMyLmlucHV0O1xuXHRcblx0ICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9jb25zdGFudHMuRVNDQVBFX0tFWSkge1xuXHQgICAgICAgICgwLCBfZG9tVXRpbHMucmVtb3ZlQ2xhc3NOYW1lKShjb250YWluZXIsICdwZW5kaW5nJyk7XG5cdCAgICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2FjdGl2ZScpO1xuXHRcblx0ICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuXHRcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmZvY3VzKCk7XG5cdCAgICAgICAgZG9jdW1lbnQuYm9keS5ibHVyKCk7XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdvbktleVByZXNzJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBvbktleVByZXNzKGV2ZW50KSB7XG5cdCAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfY29uc3RhbnRzLkVOVEVSX0tFWSkge1xuXHQgICAgICAgIHRoaXMub25TdWJtaXQoZXZlbnQpO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2V0UXVlcnknLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFF1ZXJ5KHF1ZXJ5KSB7XG5cdCAgICAgIHZhciBpbnB1dCA9IHRoaXMuZWxlbWVudHMuaW5wdXQ7XG5cdFxuXHQgICAgICBpbnB1dC52YWx1ZSA9IHF1ZXJ5O1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFNlYXJjaEVsZW1lbnQ7XG5cdH0oKTtcblx0XG5cdGV4cG9ydHMuZGVmYXVsdCA9IFNlYXJjaEVsZW1lbnQ7XG5cbi8qKiovIH0pLFxuLyogMTQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0LyogZXNsaW50LWRpc2FibGUgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydCAqL1xuXHR2YXIgY3JlYXRlRWxlbWVudCA9IGV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoZWxlbWVudCkge1xuXHQgIHZhciBjbGFzc05hbWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcblx0ICB2YXIgcGFyZW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXHRcblx0ICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVsZW1lbnQpO1xuXHQgIGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZXM7XG5cdFxuXHQgIGlmIChwYXJlbnQpIHtcblx0ICAgIHBhcmVudC5hcHBlbmRDaGlsZChlbCk7XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gZWw7XG5cdH07XG5cdFxuXHR2YXIgY3JlYXRlU2NyaXB0RWxlbWVudCA9IGV4cG9ydHMuY3JlYXRlU2NyaXB0RWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZVNjcmlwdEVsZW1lbnQodXJsLCBjYikge1xuXHQgIHZhciBzY3JpcHQgPSBjcmVhdGVFbGVtZW50KCdzY3JpcHQnLCBudWxsLCBkb2N1bWVudC5ib2R5KTtcblx0ICBzY3JpcHQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQvamF2YXNjcmlwdCcpO1xuXHRcblx0ICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0ICAgIHdpbmRvd1tjYl0gPSBmdW5jdGlvbiAoanNvbikge1xuXHQgICAgICBzY3JpcHQucmVtb3ZlKCk7XG5cdCAgICAgIGRlbGV0ZSB3aW5kb3dbY2JdO1xuXHQgICAgICByZXNvbHZlKGpzb24pO1xuXHQgICAgfTtcblx0XG5cdCAgICBzY3JpcHQuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuXHQgIH0pO1xuXHR9O1xuXHRcblx0dmFyIGFkZENsYXNzTmFtZSA9IGV4cG9ydHMuYWRkQ2xhc3NOYW1lID0gZnVuY3Rpb24gYWRkQ2xhc3NOYW1lKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuXHQgIGlmIChlbGVtZW50ICYmICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG5cdCAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcblx0ICB9XG5cdH07XG5cdFxuXHR2YXIgcmVtb3ZlQ2xhc3NOYW1lID0gZXhwb3J0cy5yZW1vdmVDbGFzc05hbWUgPSBmdW5jdGlvbiByZW1vdmVDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG5cdCAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuXHQgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG5cdCAgfVxuXHR9O1xuXG4vKioqLyB9KSxcbi8qIDE1ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIEVOVEVSX0tFWSA9IGV4cG9ydHMuRU5URVJfS0VZID0gMTM7XG5cdHZhciBFU0NBUEVfS0VZID0gZXhwb3J0cy5FU0NBUEVfS0VZID0gMjc7XG5cdHZhciBBUlJPV19ET1dOX0tFWSA9IGV4cG9ydHMuQVJST1dfRE9XTl9LRVkgPSA0MDtcblx0dmFyIEFSUk9XX1VQX0tFWSA9IGV4cG9ydHMuQVJST1dfVVBfS0VZID0gMzg7XG5cdHZhciBBUlJPV19MRUZUX0tFWSA9IGV4cG9ydHMuQVJST1dfTEVGVF9LRVkgPSAzNztcblx0dmFyIEFSUk9XX1JJR0hUX0tFWSA9IGV4cG9ydHMuQVJST1dfUklHSFRfS0VZID0gMzk7XG5cdFxuXHR2YXIgU1BFQ0lBTF9LRVlTID0gZXhwb3J0cy5TUEVDSUFMX0tFWVMgPSBbRU5URVJfS0VZLCBFU0NBUEVfS0VZLCBBUlJPV19ET1dOX0tFWSwgQVJST1dfVVBfS0VZLCBBUlJPV19MRUZUX0tFWSwgQVJST1dfUklHSFRfS0VZXTtcblxuLyoqKi8gfSksXG4vKiAxNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcblx0ICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcblx0ICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcblx0ICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7ZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO2lmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuXHQgICAgfVxuXHQgIH1yZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuXHQgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtyZXR1cm4gQ29uc3RydWN0b3I7XG5cdCAgfTtcblx0fSgpO1xuXHRcblx0dmFyIF9kb21VdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTQpO1xuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fVxuXHRcblx0dmFyIGN4ID0gZnVuY3Rpb24gY3goKSB7XG5cdCAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzbmFtZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcblx0ICAgIGNsYXNzbmFtZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG5cdCAgfVxuXHRcblx0ICByZXR1cm4gY2xhc3NuYW1lcy5qb2luKCcgJykudHJpbSgpO1xuXHR9O1xuXHRcblx0dmFyIFJlc3VsdExpc3QgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gUmVzdWx0TGlzdCgpIHtcblx0ICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcblx0ICAgICAgICBfcmVmJGhhbmRsZUNsaWNrID0gX3JlZi5oYW5kbGVDbGljayxcblx0ICAgICAgICBoYW5kbGVDbGljayA9IF9yZWYkaGFuZGxlQ2xpY2sgPT09IHVuZGVmaW5lZCA/IGZ1bmN0aW9uICgpIHt9IDogX3JlZiRoYW5kbGVDbGljayxcblx0ICAgICAgICBfcmVmJGNsYXNzTmFtZXMgPSBfcmVmLmNsYXNzTmFtZXMsXG5cdCAgICAgICAgY2xhc3NOYW1lcyA9IF9yZWYkY2xhc3NOYW1lcyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGNsYXNzTmFtZXM7XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc3VsdExpc3QpO1xuXHRcblx0ICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbCh0aGlzKTtcblx0XG5cdCAgICB0aGlzLnByb3BzID0geyBoYW5kbGVDbGljazogaGFuZGxlQ2xpY2ssIGNsYXNzTmFtZXM6IGNsYXNzTmFtZXMgfTtcblx0ICAgIHRoaXMuc2VsZWN0ZWQgPSAtMTtcblx0XG5cdCAgICB2YXIgY29udGFpbmVyID0gKDAsIF9kb21VdGlscy5jcmVhdGVFbGVtZW50KSgnZGl2JywgY3goJ3Jlc3VsdHMnLCBjbGFzc05hbWVzLmNvbnRhaW5lcikpO1xuXHQgICAgdmFyIHJlc3VsdEl0ZW0gPSAoMCwgX2RvbVV0aWxzLmNyZWF0ZUVsZW1lbnQpKCdkaXYnLCBjeChjbGFzc05hbWVzLml0ZW0pKTtcblx0XG5cdCAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuXHQgICAgdGhpcy5lbGVtZW50cyA9IHsgY29udGFpbmVyOiBjb250YWluZXIsIHJlc3VsdEl0ZW06IHJlc3VsdEl0ZW0gfTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhSZXN1bHRMaXN0LCBbe1xuXHQgICAga2V5OiAncmVuZGVyJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdCAgICAgIHZhciByZXN1bHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblx0ICAgICAgdmFyIF9lbGVtZW50cyA9IHRoaXMuZWxlbWVudHMsXG5cdCAgICAgICAgICBjb250YWluZXIgPSBfZWxlbWVudHMuY29udGFpbmVyLFxuXHQgICAgICAgICAgcmVzdWx0SXRlbSA9IF9lbGVtZW50cy5yZXN1bHRJdGVtO1xuXHRcblx0ICAgICAgdGhpcy5jbGVhcigpO1xuXHRcblx0ICAgICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXN1bHQsIGlkeCkge1xuXHQgICAgICAgIHZhciBjaGlsZCA9IHJlc3VsdEl0ZW0uY2xvbmVOb2RlKHRydWUpO1xuXHQgICAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnZGF0YS1rZXknLCBpZHgpO1xuXHQgICAgICAgIGNoaWxkLmlubmVySFRNTCA9IHJlc3VsdC5sYWJlbDtcblx0ICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuXHQgICAgICB9KTtcblx0XG5cdCAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcblx0ICAgICAgICAoMCwgX2RvbVV0aWxzLmFkZENsYXNzTmFtZSkoY29udGFpbmVyLCAnYWN0aXZlJyk7XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHRoaXMucmVzdWx0cyA9IHJlc3VsdHM7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAnc2VsZWN0Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3QoaW5kZXgpIHtcblx0ICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudHMuY29udGFpbmVyO1xuXHRcblx0ICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuXHRcblx0ICAgICAgQXJyYXkuZnJvbShjb250YWluZXIuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpZHgpIHtcblx0ICAgICAgICByZXR1cm4gaWR4ID09PSBpbmRleCA/ICgwLCBfZG9tVXRpbHMuYWRkQ2xhc3NOYW1lKShjaGlsZCwgJ2FjdGl2ZScpIDogKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNoaWxkLCAnYWN0aXZlJyk7XG5cdCAgICAgIH0pO1xuXHRcblx0ICAgICAgdGhpcy5zZWxlY3RlZCA9IGluZGV4O1xuXHQgICAgICByZXR1cm4gdGhpcy5yZXN1bHRzW2luZGV4XTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjb3VudCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY291bnQoKSB7XG5cdCAgICAgIHJldHVybiB0aGlzLnJlc3VsdHMgPyB0aGlzLnJlc3VsdHMubGVuZ3RoIDogMDtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdjbGVhcicsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG5cdCAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmVsZW1lbnRzLmNvbnRhaW5lcjtcblx0XG5cdCAgICAgIHRoaXMuc2VsZWN0ZWQgPSAtMTtcblx0XG5cdCAgICAgIHdoaWxlIChjb250YWluZXIubGFzdENoaWxkKSB7XG5cdCAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5sYXN0Q2hpbGQpO1xuXHQgICAgICB9XG5cdFxuXHQgICAgICAoMCwgX2RvbVV0aWxzLnJlbW92ZUNsYXNzTmFtZSkoY29udGFpbmVyLCAnYWN0aXZlJyk7XG5cdCAgICB9XG5cdCAgfV0pO1xuXHRcblx0ICByZXR1cm4gUmVzdWx0TGlzdDtcblx0fSgpO1xuXHRcblx0dmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuXHQgIHZhciBfdGhpcyA9IHRoaXM7XG5cdFxuXHQgIHRoaXMub25DbGljayA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBfcmVmMiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG5cdCAgICAgICAgdGFyZ2V0ID0gX3JlZjIudGFyZ2V0O1xuXHRcblx0ICAgIHZhciBoYW5kbGVDbGljayA9IF90aGlzLnByb3BzLmhhbmRsZUNsaWNrO1xuXHQgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzLmVsZW1lbnRzLmNvbnRhaW5lcjtcblx0XG5cdCAgICBpZiAodGFyZ2V0LnBhcmVudE5vZGUgIT09IGNvbnRhaW5lciB8fCAhdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1rZXknKSkge1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cdFxuXHQgICAgdmFyIGlkeCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XG5cdCAgICB2YXIgcmVzdWx0ID0gX3RoaXMucmVzdWx0c1tpZHhdO1xuXHQgICAgaGFuZGxlQ2xpY2soeyByZXN1bHQ6IHJlc3VsdCB9KTtcblx0ICB9O1xuXHR9O1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUmVzdWx0TGlzdDtcblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9ub2RlbnRSdW50aW1lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbm9kZW50UnVudGltZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2RlbnRSdW50aW1lKTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuXHQgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO2ZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcblx0ICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcblx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfXJldHVybiB0YXJnZXQ7XG5cdH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7aWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG5cdCAgICB9XG5cdCAgfXJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO2lmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHR2YXIgX3Byb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX3Byb3ZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3ZpZGVyKTtcblx0XG5cdHZhciBfZG9tVXRpbHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcblx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcblx0ICBpZiAoIXNlbGYpIHtcblx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0ICB9cmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHQgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihzdXBlckNsYXNzKSkpO1xuXHQgIH1zdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pO2lmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcblx0fVxuXHRcblx0dmFyIFByb3ZpZGVyID0gZnVuY3Rpb24gKF9CYXNlUHJvdmlkZXIpIHtcblx0ICBfaW5oZXJpdHMoUHJvdmlkZXIsIF9CYXNlUHJvdmlkZXIpO1xuXHRcblx0ICBmdW5jdGlvbiBQcm92aWRlcigpIHtcblx0ICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm92aWRlcik7XG5cdFxuXHQgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQcm92aWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3ZpZGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cdCAgfVxuXHRcblx0ICBfY3JlYXRlQ2xhc3MoUHJvdmlkZXIsIFt7XG5cdCAgICBrZXk6ICdlbmRwb2ludCcsXG5cdCAgICB2YWx1ZTogZnVuY3Rpb24gZW5kcG9pbnQoKSB7XG5cdCAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcblx0ICAgICAgICAgIHF1ZXJ5ID0gX3JlZi5xdWVyeSxcblx0ICAgICAgICAgIHByb3RvY29sID0gX3JlZi5wcm90b2NvbCxcblx0ICAgICAgICAgIGpzb25wID0gX3JlZi5qc29ucDtcblx0XG5cdCAgICAgIHZhciBwYXJhbXMgPSB0aGlzLm9wdGlvbnMucGFyYW1zO1xuXHRcblx0ICAgICAgdmFyIHBhcmFtU3RyaW5nID0gdGhpcy5nZXRQYXJhbVN0cmluZyhfZXh0ZW5kcyh7fSwgcGFyYW1zLCB7XG5cdCAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuXHQgICAgICAgIGpzb25wOiBqc29ucFxuXHQgICAgICB9KSk7XG5cdFxuXHQgICAgICByZXR1cm4gcHJvdG9jb2wgKyAnLy9kZXYudmlydHVhbGVhcnRoLm5ldC9SRVNUL3YxL0xvY2F0aW9ucz8nICsgcGFyYW1TdHJpbmc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGFyc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKF9yZWYyKSB7XG5cdCAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTtcblx0XG5cdCAgICAgIGlmIChkYXRhLnJlc291cmNlU2V0cy5sZW5ndGggPT09IDApIHtcblx0ICAgICAgICByZXR1cm4gW107XG5cdCAgICAgIH1cblx0XG5cdCAgICAgIHJldHVybiBkYXRhLnJlc291cmNlU2V0c1swXS5yZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChyKSB7XG5cdCAgICAgICAgcmV0dXJuIHtcblx0ICAgICAgICAgIHg6IHIucG9pbnQuY29vcmRpbmF0ZXNbMV0sXG5cdCAgICAgICAgICB5OiByLnBvaW50LmNvb3JkaW5hdGVzWzBdLFxuXHQgICAgICAgICAgbGFiZWw6IHIuYWRkcmVzcy5mb3JtYXR0ZWRBZGRyZXNzLFxuXHQgICAgICAgICAgYm91bmRzOiBbW3IuYmJveFswXSwgci5iYm94WzFdXSwgLy8gcywgd1xuXHQgICAgICAgICAgW3IuYmJveFsyXSwgci5iYm94WzNdXV0sXG5cdCAgICAgICAgICByYXc6IHJcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2gnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaChfcmVmMykge1xuXHQgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKCRyZXR1cm4sICRlcnJvcikge1xuXHQgICAgICAgIHZhciBxdWVyeSwgcHJvdG9jb2wsIGpzb25wLCB1cmwsIGpzb247XG5cdCAgICAgICAgcXVlcnkgPSBfcmVmMy5xdWVyeTtcblx0XG5cdCAgICAgICAgcHJvdG9jb2wgPSB+bG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZignaHR0cCcpID8gbG9jYXRpb24ucHJvdG9jb2wgOiAnaHR0cHM6Jztcblx0XG5cdCAgICAgICAganNvbnAgPSAnQklOR19KU09OUF9DQl8nICsgRGF0ZS5ub3coKTtcblx0ICAgICAgICB1cmwgPSB0aGlzLmVuZHBvaW50KHsgcXVlcnk6IHF1ZXJ5LCBwcm90b2NvbDogcHJvdG9jb2wsIGpzb25wOiBqc29ucCB9KTtcblx0XG5cdCAgICAgICAgcmV0dXJuICgwLCBfZG9tVXRpbHMuY3JlYXRlU2NyaXB0RWxlbWVudCkodXJsLCBqc29ucCkudGhlbihmdW5jdGlvbiAoJGF3YWl0XzEpIHtcblx0ICAgICAgICAgIGpzb24gPSAkYXdhaXRfMTtcblx0ICAgICAgICAgIHJldHVybiAkcmV0dXJuKHRoaXMucGFyc2UoeyBkYXRhOiBqc29uIH0pKTtcblx0ICAgICAgICB9LiRhc3luY2JpbmQodGhpcywgJGVycm9yKSwgJGVycm9yKTtcblx0ICAgICAgfS4kYXN5bmNiaW5kKHRoaXMpKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBQcm92aWRlcjtcblx0fShfcHJvdmlkZXIyLmRlZmF1bHQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUHJvdmlkZXI7XG5cbi8qKiovIH0pLFxuLyogMTggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfbm9kZW50UnVudGltZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX25vZGVudFJ1bnRpbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbm9kZW50UnVudGltZSk7XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7aWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG5cdCAgICB9XG5cdCAgfXJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO2lmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuXHQgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG5cdCAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG5cdCAgfVxuXHR9XG5cdFxuXHR2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gUHJvdmlkZXIoKSB7XG5cdCAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cdFxuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblx0XG5cdCAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFByb3ZpZGVyLCBbe1xuXHQgICAga2V5OiAnZ2V0UGFyYW1TdHJpbmcnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBhcmFtU3RyaW5nKHBhcmFtcykge1xuXHQgICAgICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuXHQgICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba2V5XSk7XG5cdCAgICAgIH0pLmpvaW4oJyYnKTtcblx0ICAgIH1cblx0ICB9LCB7XG5cdCAgICBrZXk6ICdzZWFyY2gnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaChfcmVmKSB7XG5cdCAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoJHJldHVybiwgJGVycm9yKSB7XG5cdCAgICAgICAgdmFyIHF1ZXJ5LCBwcm90b2NvbCwgdXJsLCByZXF1ZXN0LCBqc29uO1xuXHQgICAgICAgIHF1ZXJ5ID0gX3JlZi5xdWVyeTtcblx0XG5cdCAgICAgICAgcHJvdG9jb2wgPSB+bG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZignaHR0cCcpID8gbG9jYXRpb24ucHJvdG9jb2wgOiAnaHR0cHM6Jztcblx0ICAgICAgICB1cmwgPSB0aGlzLmVuZHBvaW50KHsgcXVlcnk6IHF1ZXJ5LCBwcm90b2NvbDogcHJvdG9jb2wgfSk7XG5cdFxuXHQgICAgICAgIHJldHVybiBmZXRjaCh1cmwpLnRoZW4oZnVuY3Rpb24gKCRhd2FpdF8xKSB7XG5cdCAgICAgICAgICByZXF1ZXN0ID0gJGF3YWl0XzE7XG5cdCAgICAgICAgICByZXR1cm4gcmVxdWVzdC5qc29uKCkudGhlbihmdW5jdGlvbiAoJGF3YWl0XzIpIHtcblx0ICAgICAgICAgICAganNvbiA9ICRhd2FpdF8yO1xuXHQgICAgICAgICAgICByZXR1cm4gJHJldHVybih0aGlzLnBhcnNlKHsgZGF0YToganNvbiB9KSk7XG5cdCAgICAgICAgICB9LiRhc3luY2JpbmQodGhpcywgJGVycm9yKSwgJGVycm9yKTtcblx0ICAgICAgICB9LiRhc3luY2JpbmQodGhpcywgJGVycm9yKSwgJGVycm9yKTtcblx0ICAgICAgfS4kYXN5bmNiaW5kKHRoaXMpKTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBQcm92aWRlcjtcblx0fSgpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUHJvdmlkZXI7XG5cbi8qKiovIH0pLFxuLyogMTkgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuXHQgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO2ZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcblx0ICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcblx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfXJldHVybiB0YXJnZXQ7XG5cdH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7aWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG5cdCAgICB9XG5cdCAgfXJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO2lmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHR2YXIgX3Byb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX3Byb3ZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3ZpZGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcblx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcblx0ICBpZiAoIXNlbGYpIHtcblx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0ICB9cmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcblx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHN1cGVyQ2xhc3MpKSk7XG5cdCAgfXN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7aWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuXHR9XG5cdFxuXHR2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0Jhc2VQcm92aWRlcikge1xuXHQgIF9pbmhlcml0cyhQcm92aWRlciwgX0Jhc2VQcm92aWRlcik7XG5cdFxuXHQgIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJvdmlkZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhQcm92aWRlciwgW3tcblx0ICAgIGtleTogJ2VuZHBvaW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlbmRwb2ludCgpIHtcblx0ICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuXHQgICAgICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5LFxuXHQgICAgICAgICAgcHJvdG9jb2wgPSBfcmVmLnByb3RvY29sO1xuXHRcblx0ICAgICAgdmFyIHBhcmFtcyA9IHRoaXMub3B0aW9ucy5wYXJhbXM7XG5cdFxuXHQgICAgICB2YXIgcGFyYW1TdHJpbmcgPSB0aGlzLmdldFBhcmFtU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJhbXMsIHtcblx0ICAgICAgICBmOiAnanNvbicsXG5cdCAgICAgICAgdGV4dDogcXVlcnlcblx0ICAgICAgfSkpO1xuXHRcblx0ICAgICAgcmV0dXJuIHByb3RvY29sICsgJy8vZ2VvY29kZS5hcmNnaXMuY29tL2FyY2dpcy9yZXN0L3NlcnZpY2VzL1dvcmxkL0dlb2NvZGVTZXJ2ZXIvZmluZD8nICsgcGFyYW1TdHJpbmc7XG5cdCAgICB9XG5cdCAgfSwge1xuXHQgICAga2V5OiAncGFyc2UnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKF9yZWYyKSB7XG5cdCAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTtcblx0XG5cdCAgICAgIHJldHVybiBkYXRhLmxvY2F0aW9ucy5tYXAoZnVuY3Rpb24gKHIpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgeDogci5mZWF0dXJlLmdlb21ldHJ5LngsXG5cdCAgICAgICAgICB5OiByLmZlYXR1cmUuZ2VvbWV0cnkueSxcblx0ICAgICAgICAgIGxhYmVsOiByLm5hbWUsXG5cdCAgICAgICAgICBib3VuZHM6IFtbci5leHRlbnQueW1pbiwgci5leHRlbnQueG1pbl0sIC8vIHMsIHdcblx0ICAgICAgICAgIFtyLmV4dGVudC55bWF4LCByLmV4dGVudC54bWF4XV0sXG5cdCAgICAgICAgICByYXc6IHJcblx0ICAgICAgICB9O1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XSk7XG5cdFxuXHQgIHJldHVybiBQcm92aWRlcjtcblx0fShfcHJvdmlkZXIyLmRlZmF1bHQpO1xuXHRcblx0ZXhwb3J0cy5kZWZhdWx0ID0gUHJvdmlkZXI7XG5cbi8qKiovIH0pLFxuLyogMjAgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHR2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0XG5cdHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuXHQgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO2ZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcblx0ICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcblx0ICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHQgICAgICB9XG5cdCAgICB9XG5cdCAgfXJldHVybiB0YXJnZXQ7XG5cdH07XG5cdFxuXHR2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuXHQgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuXHQgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuXHQgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO2Rlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7aWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG5cdCAgICB9XG5cdCAgfXJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG5cdCAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO2lmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjtcblx0ICB9O1xuXHR9KCk7XG5cdFxuXHR2YXIgX3Byb3ZpZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG5cdFxuXHR2YXIgX3Byb3ZpZGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3ZpZGVyKTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG5cdCAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcblx0ICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuXHQgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcblx0ICB9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcblx0ICBpZiAoIXNlbGYpIHtcblx0ICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcblx0ICB9cmV0dXJuIGNhbGwgJiYgKCh0eXBlb2YgY2FsbCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKGNhbGwpKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcblx0ICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArICh0eXBlb2Ygc3VwZXJDbGFzcyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHN1cGVyQ2xhc3MpKSk7XG5cdCAgfXN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7aWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuXHR9XG5cdFxuXHR2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0Jhc2VQcm92aWRlcikge1xuXHQgIF9pbmhlcml0cyhQcm92aWRlciwgX0Jhc2VQcm92aWRlcik7XG5cdFxuXHQgIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuXHQgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblx0XG5cdCAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUHJvdmlkZXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblx0ICB9XG5cdFxuXHQgIF9jcmVhdGVDbGFzcyhQcm92aWRlciwgW3tcblx0ICAgIGtleTogJ2VuZHBvaW50Jyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBlbmRwb2ludCgpIHtcblx0ICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuXHQgICAgICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5LFxuXHQgICAgICAgICAgcHJvdG9jb2wgPSBfcmVmLnByb3RvY29sO1xuXHRcblx0ICAgICAgdmFyIHBhcmFtcyA9IHRoaXMub3B0aW9ucy5wYXJhbXM7XG5cdFxuXHQgICAgICB2YXIgcGFyYW1TdHJpbmcgPSB0aGlzLmdldFBhcmFtU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJhbXMsIHtcblx0ICAgICAgICBhZGRyZXNzOiBxdWVyeVxuXHQgICAgICB9KSk7XG5cdFxuXHQgICAgICAvLyBnb29nbGUgcmVxdWlyZXMgYSBzZWN1cmUgY29ubmVjdGlvbiB3aGVuIHVzaW5nIGFwaSBrZXlzXG5cdCAgICAgIHZhciBwcm90byA9IHBhcmFtcyAmJiBwYXJhbXMua2V5ID8gJ2h0dHBzOicgOiBwcm90b2NvbDtcblx0ICAgICAgcmV0dXJuIHByb3RvICsgJy8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9nZW9jb2RlL2pzb24/JyArIHBhcmFtU3RyaW5nO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3BhcnNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZShfcmVmMikge1xuXHQgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7XG5cdFxuXHQgICAgICByZXR1cm4gZGF0YS5yZXN1bHRzLm1hcChmdW5jdGlvbiAocikge1xuXHQgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICB4OiByLmdlb21ldHJ5LmxvY2F0aW9uLmxuZyxcblx0ICAgICAgICAgIHk6IHIuZ2VvbWV0cnkubG9jYXRpb24ubGF0LFxuXHQgICAgICAgICAgbGFiZWw6IHIuZm9ybWF0dGVkX2FkZHJlc3MsXG5cdCAgICAgICAgICBib3VuZHM6IFtbci5nZW9tZXRyeS52aWV3cG9ydC5zb3V0aHdlc3QubGF0LCByLmdlb21ldHJ5LnZpZXdwb3J0LnNvdXRod2VzdC5sbmddLCAvLyBzLCB3XG5cdCAgICAgICAgICBbci5nZW9tZXRyeS52aWV3cG9ydC5ub3J0aGVhc3QubGF0LCByLmdlb21ldHJ5LnZpZXdwb3J0Lm5vcnRoZWFzdC5sbmddXSxcblx0ICAgICAgICAgIHJhdzogclxuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFByb3ZpZGVyO1xuXHR9KF9wcm92aWRlcjIuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQcm92aWRlcjtcblxuLyoqKi8gfSksXG4vKiAyMSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdHZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRcblx0dmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG5cdCAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0ICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07Zm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuXHQgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuXHQgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG5cdCAgICAgIH1cblx0ICAgIH1cblx0ICB9cmV0dXJuIHRhcmdldDtcblx0fTtcblx0XG5cdHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG5cdCAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG5cdCAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG5cdCAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07ZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO2Rlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcblx0ICAgIH1cblx0ICB9cmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcblx0ICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7aWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7cmV0dXJuIENvbnN0cnVjdG9yO1xuXHQgIH07XG5cdH0oKTtcblx0XG5cdHZhciBfcHJvdmlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE4KTtcblx0XG5cdHZhciBfcHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvdmlkZXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcblx0ICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuXHQgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG5cdCAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuXHQgIH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xuXHQgIGlmICghc2VsZikge1xuXHQgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuXHQgIH1yZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoY2FsbCkpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuXHQgIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHtcblx0ICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgKHR5cGVvZiBzdXBlckNsYXNzID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yoc3VwZXJDbGFzcykpKTtcblx0ICB9c3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTtpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG5cdH1cblx0XG5cdHZhciBQcm92aWRlciA9IGZ1bmN0aW9uIChfQmFzZVByb3ZpZGVyKSB7XG5cdCAgX2luaGVyaXRzKFByb3ZpZGVyLCBfQmFzZVByb3ZpZGVyKTtcblx0XG5cdCAgZnVuY3Rpb24gUHJvdmlkZXIoKSB7XG5cdCAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuXHRcblx0ICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQcm92aWRlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXHQgIH1cblx0XG5cdCAgX2NyZWF0ZUNsYXNzKFByb3ZpZGVyLCBbe1xuXHQgICAga2V5OiAnZW5kcG9pbnQnLFxuXHQgICAgdmFsdWU6IGZ1bmN0aW9uIGVuZHBvaW50KCkge1xuXHQgICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG5cdCAgICAgICAgICBxdWVyeSA9IF9yZWYucXVlcnksXG5cdCAgICAgICAgICBwcm90b2NvbCA9IF9yZWYucHJvdG9jb2w7XG5cdFxuXHQgICAgICB2YXIgcGFyYW1zID0gdGhpcy5vcHRpb25zLnBhcmFtcztcblx0XG5cdCAgICAgIHZhciBwYXJhbVN0cmluZyA9IHRoaXMuZ2V0UGFyYW1TdHJpbmcoX2V4dGVuZHMoe30sIHBhcmFtcywge1xuXHQgICAgICAgIGZvcm1hdDogJ2pzb24nLFxuXHQgICAgICAgIHE6IHF1ZXJ5XG5cdCAgICAgIH0pKTtcblx0XG5cdCAgICAgIHJldHVybiBwcm90b2NvbCArICcvL25vbWluYXRpbS5vcGVuc3RyZWV0bWFwLm9yZy9zZWFyY2g/JyArIHBhcmFtU3RyaW5nO1xuXHQgICAgfVxuXHQgIH0sIHtcblx0ICAgIGtleTogJ3BhcnNlJyxcblx0ICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZShfcmVmMikge1xuXHQgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7XG5cdFxuXHQgICAgICByZXR1cm4gZGF0YS5tYXAoZnVuY3Rpb24gKHIpIHtcblx0ICAgICAgICByZXR1cm4ge1xuXHQgICAgICAgICAgeDogci5sb24sXG5cdCAgICAgICAgICB5OiByLmxhdCxcblx0ICAgICAgICAgIGxhYmVsOiByLmRpc3BsYXlfbmFtZSxcblx0ICAgICAgICAgIGJvdW5kczogW1twYXJzZUZsb2F0KHIuYm91bmRpbmdib3hbMF0pLCBwYXJzZUZsb2F0KHIuYm91bmRpbmdib3hbMl0pXSwgLy8gcywgd1xuXHQgICAgICAgICAgW3BhcnNlRmxvYXQoci5ib3VuZGluZ2JveFsxXSksIHBhcnNlRmxvYXQoci5ib3VuZGluZ2JveFszXSldXSxcblx0ICAgICAgICAgIHJhdzogclxuXHQgICAgICAgIH07XG5cdCAgICAgIH0pO1xuXHQgICAgfVxuXHQgIH1dKTtcblx0XG5cdCAgcmV0dXJuIFByb3ZpZGVyO1xuXHR9KF9wcm92aWRlcjIuZGVmYXVsdCk7XG5cdFxuXHRleHBvcnRzLmRlZmF1bHQgPSBQcm92aWRlcjtcblxuLyoqKi8gfSksXG4vKiAyMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuR2V0QWN0aXZlTGF5ZXJHcm91cHMgPSBHZXRBY3RpdmVMYXllckdyb3Vwcztcblx0ZXhwb3J0cy5yZXNldFBhbmVsU3RhdGUgPSByZXNldFBhbmVsU3RhdGU7XG5cdGV4cG9ydHMuZ2V0TGF5ZXJHcm91cHMgPSBnZXRMYXllckdyb3Vwcztcblx0ZXhwb3J0cy5TZXR1cFBhbmVsID0gU2V0dXBQYW5lbDtcblx0ZXhwb3J0cy51cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0ID0gdXBkYXRlUGFuZWxEcmFnT3ZlcmxheUhlaWdodDtcblx0ZXhwb3J0cy50b2dnbGVMYXllclRvb2xzVUkgPSB0b2dnbGVMYXllclRvb2xzVUk7XG5cdFxuXHR2YXIgX2xheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX29wYWNpdHlTbGlkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMxKTtcblx0XG5cdHZhciBfc2hhcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBsYXllckdyb3VwTGF5b3V0ID0gW107XG5cdHZhciBsYXllckdyb3Vwcztcblx0XG5cdGZ1bmN0aW9uIEdldEFjdGl2ZUxheWVyR3JvdXBzKCkge1xuXHRcdHJldHVybiBsYXllckdyb3VwTGF5b3V0LmZpbHRlcihmdW5jdGlvbiAobGF5ZXJHcm91cCkge1xuXHRcdFx0cmV0dXJuIGxheWVyR3JvdXAuYWN0aXZlO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZXNldFBhbmVsU3RhdGUoKSB7fVxuXHRcblx0ZnVuY3Rpb24gZ2V0TGF5ZXJHcm91cHMoKSB7XG5cdFx0cmV0dXJuIGxheWVyR3JvdXBzO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBTZXR1cFBhbmVsKGxheWVycywgbGF5b3V0KSB7XG5cdFx0bGF5ZXJHcm91cExheW91dCA9IGxheW91dFsnbGF5ZXItZ3JvdXBzLW9yZGVyJ107XG5cdFx0bGF5ZXJHcm91cHMgPSBtYWtlTGF5ZXJHcm91cHMobGF5b3V0WydsYXllci1ncm91cHMtb3JkZXInXSk7XG5cdFx0bWFrZUxheWVyRWxlbXMobGF5ZXJHcm91cHMsIGxheWVycyk7XG5cdFx0bWFrZVBhbmVsRHJhZ2dhYmxlKCk7XG5cdFx0c2V0UGFuZWxTY3JvbGxIYW5kbGVyKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGJyb3dzZXJJc0ludGVybmV0RXhwbG9yZXIoKSB7XG5cdFx0dmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cdFx0cmV0dXJuIHVhLmluZGV4T2YoJ01TSUUnKSA+IC0xIHx8IHVhLmluZGV4T2YoJ3J2OjExLjAnKSA+IC0xO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXRQYW5lbFNjcm9sbEhhbmRsZXIoKSB7XG5cdFx0dmFyIHBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXBhbmVsJyk7XG5cdFx0cGFuZWwub25zY3JvbGwgPSB1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlUGFuZWxEcmFnZ2FibGUoKSB7XG5cdFx0aWYgKGJyb3dzZXJJc0ludGVybmV0RXhwbG9yZXIoKSkgcmV0dXJuO1xuXHRcblx0XHR2YXIgb3ZlcmxheSA9IGQzLnNlbGVjdCgnI3JpZ2h0LXBhbmVsLWRyYWctb3ZlcmxheScpO1xuXHRcblx0XHRvdmVybGF5LnN0eWxlKCdjdXJzb3InLCAnZXctcmVzaXplJyk7XG5cdFxuXHRcdG92ZXJsYXkuY2FsbChkMy5kcmFnKCkub24oJ2RyYWcnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRwYW5lbERyYWdFdmVudEhhbmRsZXIuY2FsbCh0aGlzKTtcblx0XHR9KSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhbmVsRHJhZ0V2ZW50SGFuZGxlcigpIHtcblx0XHR1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0KCk7XG5cdFx0dXBkYXRlUGFuZWxXaWR0aCgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0KCkge1xuXHRcdHZhciBwYW5lbCA9IGQzLnNlbGVjdCgnI3JpZ2h0LXBhbmVsJyk7XG5cdFx0dmFyIHBhbmVsT2Zmc2V0SGVpZ2h0ID0gcGFuZWwucHJvcGVydHkoJ29mZnNldEhlaWdodCcpO1xuXHRcdHZhciBwYW5lbERyYWdPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXBhbmVsLWRyYWctb3ZlcmxheScpO1xuXHRcdHZhciBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtcGFuZWwtaGVhZGVyJyk7XG5cdFxuXHRcdHZhciBuZXdIZWlnaHQ7XG5cdFxuXHRcdGlmIChwYW5lbC5jbGFzc2VkKCdncmFwaHMtYWN0aXZlJykpIHtcblx0XHRcdHZhciBncmFwaExpc3RFeHRyYVNwYWNlID0gNzAwO1xuXHRcdFx0dmFyIGdyYXBoTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFwaC1saXN0Jyk7XG5cdFx0XHRuZXdIZWlnaHQgPSBoZWFkZXIuc2Nyb2xsSGVpZ2h0ICsgZ3JhcGhMaXN0LnNjcm9sbEhlaWdodCArIGdyYXBoTGlzdEV4dHJhU3BhY2U7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhbmVsLmNsYXNzZWQoJ2xheWVycy1hY3RpdmUnKVxuXHRcdFx0dmFyIGxheWVyTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYXllci1saXN0Jyk7XG5cdFx0XHRuZXdIZWlnaHQgPSBoZWFkZXIuc2Nyb2xsSGVpZ2h0ICsgbGF5ZXJMaXN0LnNjcm9sbEhlaWdodDtcblx0XHR9XG5cdFx0bmV3SGVpZ2h0ID0gbmV3SGVpZ2h0ID4gcGFuZWxPZmZzZXRIZWlnaHQgPyBcIlwiICsgbmV3SGVpZ2h0ICsgJ3B4JyA6IG51bGw7XG5cdFx0cGFuZWxEcmFnT3ZlcmxheS5zdHlsZS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHVwZGF0ZVBhbmVsV2lkdGgoKSB7XG5cdFx0dmFyIHBhbmVsID0gZDMuc2VsZWN0KCcjcmlnaHQtcGFuZWwnKTtcblx0XHR2YXIgcGFuZWxNaW5XaWR0aCA9ICtwYW5lbC5zdHlsZSgnbWluLXdpZHRoJykuc2xpY2UoMCwgLTIpO1xuXHRcdHZhciBwYW5lbENsaWVudFdpZHRoID0gcGFuZWwucHJvcGVydHkoJ2NsaWVudFdpZHRoJyk7XG5cdFxuXHRcdHZhciB3cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXBwZXInKTtcblx0XHR2YXIgd3JhcHBlcldpZHRoID0gd3JhcHBlci5jbGllbnRXaWR0aDtcblx0XG5cdFx0dmFyIG1hcFdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLXdyYXBwZXInKTtcblx0XG5cdFx0dmFyIG1vdXNlWCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50Lng7XG5cdFx0dmFyIHhEZWx0YSA9IHdyYXBwZXJXaWR0aCAtIG1vdXNlWCAtIHBhbmVsQ2xpZW50V2lkdGg7XG5cdFxuXHRcdHZhciBuZXdQYW5lbFdpZHRoID0gcGFuZWxDbGllbnRXaWR0aCArIHhEZWx0YTtcblx0XHRuZXdQYW5lbFdpZHRoID0gbmV3UGFuZWxXaWR0aCA8IHBhbmVsTWluV2lkdGggPyBwYW5lbE1pbldpZHRoIDogbmV3UGFuZWxXaWR0aCA+IHdyYXBwZXJXaWR0aCA/IHdyYXBwZXJXaWR0aCA6IG5ld1BhbmVsV2lkdGg7XG5cdFx0bWFwV3JhcHBlci5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcIlwiICsgbmV3UGFuZWxXaWR0aCArICdweCc7XG5cdFx0cGFuZWwuc3R5bGUoJ3dpZHRoJywgXCJcIiArIG5ld1BhbmVsV2lkdGggKyAncHgnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUxheWVyR3JvdXBzKGxheW91dCkge1xuXHRcdHJldHVybiBkMy5zZWxlY3QoJyNsYXllci1saXN0Jykuc2VsZWN0QWxsKCcubGF5ZXItZ3JvdXAtd3JhcHBlcicpLmRhdGEobGF5b3V0KS5lbnRlcigpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnbGF5ZXItZ3JvdXAtd3JhcHBlcicpLmF0dHIoJ2lkJywgZnVuY3Rpb24gKGxheWVyR3JvdXApIHtcblx0XHRcdHJldHVybiBsYXllckdyb3VwLmlkO1xuXHRcdH0pLmNsYXNzZWQoJ2FjdGl2ZScsIGZ1bmN0aW9uIChsYXllckdyb3VwKSB7XG5cdFx0XHRyZXR1cm4gbGF5ZXJHcm91cC5hY3RpdmU7XG5cdFx0fSkuZWFjaChmdW5jdGlvbiAobGF5ZXJHcm91cCkge1xuXHRcdFx0ZDMuc2VsZWN0KHRoaXMpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnbGF5ZXItZ3JvdXAtYnRuIGJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChsYXllckdyb3VwKSB7XG5cdFxuXHRcdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyB0b2dnbGUgdGhlIGxheWVyIGxpc3QgYWNjb3JkaWFuc1xuXHRcdFx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdFx0XHRldmVudENhdGVnb3J5OiAnbGF5ZXIgbGlzdCcsXG5cdFx0XHRcdFx0ZXZlbnRBY3Rpb246ICd0b2dnbGUgJyArICFsYXllckdyb3VwLmFjdGl2ZSxcblx0XHRcdFx0XHRldmVudExhYmVsOiBsYXllckdyb3VwLm5hbWUsXG5cdFx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0bGF5ZXJHcm91cC5hY3RpdmUgPSAhbGF5ZXJHcm91cC5hY3RpdmU7XG5cdFx0XHRcdGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLmNsYXNzZWQoJ2FjdGl2ZScsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gbGF5ZXJHcm91cC5hY3RpdmU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0KCk7XG5cdFx0XHRcdCgwLCBfc2hhcmUudXBkYXRlU2hhcmVVcmwpKCk7XG5cdFx0XHR9KS50ZXh0KGxheWVyR3JvdXAubmFtZSk7XG5cdFx0fSkuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdsYXllci1ncm91cCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlTGF5ZXJFbGVtcyhsYXllckdyb3VwcywgbGF5ZXJzKSB7XG5cdFx0bGF5ZXJHcm91cHMuc2VsZWN0QWxsKCcubGF5ZXItc2VsZWN0JykuZGF0YShmdW5jdGlvbiAobGF5ZXJHcm91cCkge1xuXHRcdFx0cmV0dXJuIGxheWVyc1tsYXllckdyb3VwLmlkXTtcblx0XHR9KS5lbnRlcigpLmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnbGF5ZXItc2VsZWN0JykuZWFjaChmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRcdHZhciBncm91cE5hbWUgPSB0aGlzLnBhcmVudE5vZGUucGFyZW50Tm9kZS5pZDtcblx0XHRcdHZhciBsYXllckRpdiA9IGQzLnNlbGVjdCh0aGlzKTtcblx0XHRcdGxheWVyLmxheWVyRGl2ID0gbGF5ZXJEaXY7XG5cdFx0XHRtYWtlQ2hlY2tib3gobGF5ZXIsIGxheWVyRGl2KTtcblx0XHRcdG1ha2VMYWJlbChsYXllciwgbGF5ZXJEaXYpO1xuXHRcdFx0bWFrZURlc2NyaXB0aW9uKGxheWVyLCBsYXllckRpdik7XG5cdFx0XHRsYXllckRpdi5ub2RlKCkuYXBwZW5kQ2hpbGQobWFrZUxheWVyVG9vbHMobGF5ZXIpKTtcblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUNoZWNrYm94KGxheWVyLCBsYXllckRpdikge1xuXHRcdGxheWVyRGl2LmFwcGVuZCgnaW5wdXQnKS5hdHRyKCd0eXBlJywgJ2NoZWNrYm94JykuYXR0cignaWQnLCBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRcdHJldHVybiBsYXllci5pZDtcblx0XHR9KS5hdHRyKCdjaGVja2VkJywgZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0XHRyZXR1cm4gbGF5ZXIuYWN0aXZlID8gJ2NoZWNrZWQnIDogbnVsbDtcblx0XHR9KS5vbignY2xpY2snLCBmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRcdCgwLCBfbGF5ZXIudG9nZ2xlTGF5ZXIpKGxheWVyKTtcblx0XHRcdHRvZ2dsZUxheWVyVG9vbHNVSShsYXllcik7XG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvZ2dsZUxheWVyVG9vbHNVSShsYXllcikge1xuXHRcdGxheWVyLmxheWVyRGl2LnNlbGVjdCgnLmxheWVyLXRvb2xzLXdyYXBwZXInKS5jbGFzc2VkKCdhY3RpdmUnLCBsYXllci5hY3RpdmUpO1xuXHRcdGlmIChsYXllci5hY3RpdmUpIHtcblx0XHRcdHZhciBzbGlkZXJIYW5kbGUgPSBsYXllci5sYXllckRpdi5zZWxlY3QoJy5vcGFjaXR5LXNsaWRlci1oYW5kbGUnKS5ub2RlKCk7XG5cdFx0XHQoMCwgX29wYWNpdHlTbGlkZXIuc2V0T3BhY2l0eVNsaWRlclBvc2l0aW9uKShsYXllciwgc2xpZGVySGFuZGxlLCBsYXllci5vcGFjaXRpeSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlTGFiZWwobGF5ZXIsIGxheWVyRGl2KSB7XG5cdFx0bGF5ZXJEaXYuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdsYXllci1sYWJlbC13cmFwcGVyJykuYXBwZW5kKCdsYWJlbCcpLmF0dHIoJ2ZvcicsIGZ1bmN0aW9uIChsYXllcikge1xuXHRcdFx0cmV0dXJuIGxheWVyLmlkO1xuXHRcdH0pLmF0dHIoJ2NsYXNzJywgJ2xheWVyLWxhYmVsJykuaHRtbChmdW5jdGlvbiAobGF5ZXIpIHtcblx0XHRcdHJldHVybiBsYXllci5uYW1lO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlRGVzY3JpcHRpb24obGF5ZXIsIGxheWVyRGl2KSB7XG5cdFx0aWYgKGxheWVyLmluZm8gJiYgbGF5ZXIuaW5mbyAhPT0gJycpIHtcblx0XHRcdGxheWVyRGl2LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnbGF5ZXItaW5mby1idG4td3JhcHBlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0ZDMuc2VsZWN0KHRoaXMucGFyZW50Tm9kZSkuc2VsZWN0KCcubGF5ZXItaW5mby13cmFwcGVyJykuY2xhc3NlZCgnYWN0aXZlJywgZnVuY3Rpb24gKCkge1xuXHRcblx0XHRcdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBjbGljayBvbiBsYXllciBpbmZvXG5cdFx0XHRcdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XG5cdFx0XHRcdFx0XHRldmVudENhdGVnb3J5OiAnbGF5ZXIgaW5mbycsXG5cdFx0XHRcdFx0XHRldmVudEFjdGlvbjogJ2NsaWNrZWQnLFxuXHRcdFx0XHRcdFx0ZXZlbnRMYWJlbDogbGF5ZXIubmFtZSArIFwiIFwiICsgIWQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdhY3RpdmUnKSxcblx0XHRcdFx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxuXHRcdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0XHRyZXR1cm4gIWQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdhY3RpdmUnKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KS5hcHBlbmQoJ2ltZycpLmF0dHIoJ2NsYXNzJywgJ2xheWVyLWluZm8taWNvbicpLmF0dHIoJ3NyYycsICdpbWdzL21vcmUtaW5mby1pY29uLTY0eDY0LnBuZycpLmF0dHIoXCJhbHRcIiwgXCJSZWFkIG1vcmUgYWJvdXQgdGhlIFwiICsgbGF5ZXIubmFtZSArIFwiIGxheWVyXCIpLmF0dHIoXCJ0aXRsZVwiLCBcIlJlYWQgbW9yZSBhYm91dCB0aGUgXCIgKyBsYXllci5uYW1lICsgXCIgbGF5ZXJcIik7XG5cdFxuXHRcdFx0bGF5ZXJEaXYuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdsYXllci1pbmZvLXdyYXBwZXInKS50ZXh0KGZ1bmN0aW9uIChsYXllcikge1xuXHRcdFx0XHRyZXR1cm4gbGF5ZXIuaW5mbztcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUxheWVyVG9vbHMobGF5ZXIsIGxheWVyRGl2KSB7XG5cdFx0dmFyIGxheWVyVG9vbHNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRsYXllclRvb2xzRGl2LmNsYXNzTGlzdC5hZGQoJ2xheWVyLXRvb2xzLXdyYXBwZXInKTtcblx0XHRpZiAobGF5ZXIuYWN0aXZlKSBsYXllclRvb2xzRGl2LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHRcblx0XHR2YXIgb3BhY2l0eVNsaWRlciA9ICgwLCBfb3BhY2l0eVNsaWRlci5tYWtlT3BhY2l0eVNsaWRlcikobGF5ZXIpO1xuXHRcdHZhciBsZWdlbmQgPSBtYWtlTGVnZW5kKGxheWVyKTtcblx0XG5cdFx0bGF5ZXJUb29sc0Rpdi5hcHBlbmRDaGlsZChsZWdlbmQpO1xuXHRcdGxheWVyVG9vbHNEaXYuYXBwZW5kQ2hpbGQob3BhY2l0eVNsaWRlcik7XG5cdFxuXHRcdHJldHVybiBsYXllclRvb2xzRGl2O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlTGVnZW5kKGxheWVyLCBsYXllclRvb2xzV3JhcHBlcikge1xuXHRcdHZhciBsZWdlbmRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dmFyIGxlZ2VuZEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXHRcdGxlZ2VuZFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbGVnZW5kLXdyYXBwZXInKTtcblx0XHRsZWdlbmRJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBsYXllci5sZWdlbmQpO1xuXHRcdGxlZ2VuZFdyYXBwZXIuYXBwZW5kQ2hpbGQobGVnZW5kSW1nKTtcblx0XHRyZXR1cm4gbGVnZW5kV3JhcHBlcjtcblx0fVxuXG4vKioqLyB9KSxcbi8qIDIzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5HZXRDdXJyZW50TGF5ZXJzID0gR2V0Q3VycmVudExheWVycztcblx0ZXhwb3J0cy50dXJuT2ZmTm9uQmFzZUxheWVycyA9IHR1cm5PZmZOb25CYXNlTGF5ZXJzO1xuXHRleHBvcnRzLkNyZWF0ZURlZmF1bHRMYXllcnMgPSBDcmVhdGVEZWZhdWx0TGF5ZXJzO1xuXHRleHBvcnRzLnRvZ2dsZUxheWVyID0gdG9nZ2xlTGF5ZXI7XG5cdGV4cG9ydHMuZW5hYmxlTGF5ZXIgPSBlbmFibGVMYXllcjtcblx0ZXhwb3J0cy5kaXNhYmxlTGF5ZXIgPSBkaXNhYmxlTGF5ZXI7XG5cdGV4cG9ydHMudXBkYXRlTGF5ZXJPcGFjaXR5ID0gdXBkYXRlTGF5ZXJPcGFjaXR5O1xuXHRcblx0dmFyIF9tYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdHZhciBfc2hhcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBfcGFuZWwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtcblx0XG5cdC8qKlxyXG5cdCAqIE5lZWRlZCBmb3IgdGhlIHNoYXJlIHVybCBzaW5jZSBMZWFmbGV0IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IHdheSB0byBzdXJmYWNlXHJcblx0ICogdGhlIG9yZGVyIG9mIGxheWVycyBpbiB0aGUgbWFwXHJcblx0ICovXG5cdHZhciBfY3VycmVudF9sYXllcnMgPSBbXTtcblx0dmFyIF9jdXJyZW50X2xheWVyc19vYmplY3RzID0gW107XG5cdFxuXHQvKipcclxuXHQgKiBOb3RlOiBsYXllciBpcyBub3QgdGhlIGxlYWZsZXQgY29uY2VwdCBvZiBhIGxheWVyLCBidXQgcmF0aGVyIHRoZSBpbnRlcm5hbFxyXG5cdCAqICAgICAgIG9iamVjdCB3aGljaCB0cmFja3MgdGhlbS4gbGF5ZXIubWFwTGF5ZXIgaXMgdGhlIHBvaW50ZXIgdG8gdGhlXHJcblx0ICogICAgICAgbGVhZmxldCBsYXllci5cclxuXHQgKi9cblx0XG5cdGZ1bmN0aW9uIEdldEN1cnJlbnRMYXllcnMoKSB7XG5cdFx0cmV0dXJuIF9jdXJyZW50X2xheWVycztcblx0fVxuXHRcblx0ZnVuY3Rpb24gdHVybk9mZk5vbkJhc2VMYXllcnMoKSB7XG5cdFx0d2hpbGUgKF9jdXJyZW50X2xheWVyc19vYmplY3RzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGxheWVyID0gX2N1cnJlbnRfbGF5ZXJzX29iamVjdHMucG9wKCk7XG5cdFx0XHRsYXllci5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdGRpc2FibGVMYXllcihsYXllcik7XG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsYXllci5pZCkuY2hlY2tlZCA9IGZhbHNlO1xuXHRcdFx0KDAsIF9wYW5lbC50b2dnbGVMYXllclRvb2xzVUkpKGxheWVyKTtcblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIENyZWF0ZURlZmF1bHRMYXllcnMobGF5ZXJzLCBkZWZhdWx0TGF5ZXJzKSB7XG5cdFx0dmFyIGksIGosIHByb3AsIGxheWVyZ3JvdXA7XG5cdFx0dmFyIGRlZmF1bHRMYXllcjtcblx0XHR2YXIgZm91bmRMYXllcjtcblx0XG5cdFx0aWYgKCFkZWZhdWx0TGF5ZXJzIHx8IGRlZmF1bHRMYXllcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cdFxuXHRcdGZvciAoaSA9IDA7IGkgPCBkZWZhdWx0TGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRmb3VuZExheWVyID0gZmFsc2U7XG5cdFx0XHRkZWZhdWx0TGF5ZXIgPSBkZWZhdWx0TGF5ZXJzW2ldO1xuXHRcdFx0Zm9yIChwcm9wIGluIGxheWVycykge1xuXHRcdFx0XHRpZiAoIWxheWVycy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgcmV0dXJuO1xuXHRcdFx0XHRsYXllcmdyb3VwID0gbGF5ZXJzW3Byb3BdO1xuXHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbGF5ZXJncm91cC5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRcdGlmIChsYXllcmdyb3VwW2pdLmlkID09PSBkZWZhdWx0TGF5ZXIpIHtcblx0XHRcdFx0XHRcdGVuYWJsZUxheWVyKGxheWVyZ3JvdXBbal0pO1xuXHRcdFx0XHRcdFx0Zm91bmRMYXllciA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGZvdW5kTGF5ZXIpIGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gdG9nZ2xlTGF5ZXIobGF5ZXIpIHtcblx0XHRpZiAoIWxheWVyLmFjdGl2ZSkge1xuXHRcdFx0ZW5hYmxlTGF5ZXIobGF5ZXIpO1xuXHRcblx0XHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIHRvZ2dsZSB0aGUgbGF5ZXIgb25cblx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0XHRldmVudENhdGVnb3J5OiAnbGF5ZXInLFxuXHRcdFx0XHRldmVudEFjdGlvbjogJ3RvZ2dsZSBvbicsXG5cdFx0XHRcdGV2ZW50TGFiZWw6IGxheWVyLm5hbWUsXG5cdFx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRpc2FibGVMYXllcihsYXllcik7XG5cdFxuXHRcdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgdG9nZ2xlIHRoZSBsYXllciBvZmZcblx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0XHRldmVudENhdGVnb3J5OiAnbGF5ZXInLFxuXHRcdFx0XHRldmVudEFjdGlvbjogJ3RvZ2dsZSBvZmYnLFxuXHRcdFx0XHRldmVudExhYmVsOiBsYXllci5uYW1lLFxuXHRcdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2Vcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZW5hYmxlTGF5ZXIobGF5ZXIpIHtcblx0XHR2YXIgbWFwID0gKDAsIF9tYXAuR2V0TWFwKSgpO1xuXHRcblx0XHRsYXllci5hY3RpdmUgPSB0cnVlO1xuXHRcdGxheWVyLm1hcExheWVyID0gbGF5ZXIubWFwTGF5ZXIgfHwgbWFrZVdtc1RpbGVMYXllcihsYXllcik7XG5cdFx0bWFwLmFkZExheWVyKGxheWVyLm1hcExheWVyKTtcblx0XHRhZGRMYXllclRvSW50ZXJuYWxUcmFja2VyKGxheWVyKTtcblx0XHRtb3ZlT3ZlcmxheUxheWVyc1RvVG9wKCk7XG5cdFx0KDAsIF9zaGFyZS51cGRhdGVTaGFyZVVybCkoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbW92ZU92ZXJsYXlMYXllcnNUb1RvcCgpIHtcblx0XHR2YXIgbGF5ZXI7XG5cdFx0dmFyIGksIGw7XG5cdFxuXHRcdGZvciAoaSA9IDAsIGwgPSBfY3VycmVudF9sYXllcnNfb2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdGxheWVyID0gX2N1cnJlbnRfbGF5ZXJzX29iamVjdHNbaV07XG5cdFx0XHRpZiAobGF5ZXIudHlwZSA9PT0gXCJvdmVybGF5XCIpIGxheWVyLm1hcExheWVyLmJyaW5nVG9Gcm9udCgpO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkTGF5ZXJUb0ludGVybmFsVHJhY2tlcihsYXllcikge1xuXHRcdF9jdXJyZW50X2xheWVycy5wdXNoKGxheWVyLmlkKTtcblx0XHRfY3VycmVudF9sYXllcnNfb2JqZWN0cy5wdXNoKGxheWVyKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlzYWJsZUxheWVyKGxheWVyKSB7XG5cdFx0dmFyIG1hcCA9ICgwLCBfbWFwLkdldE1hcCkoKTtcblx0XG5cdFx0bGF5ZXIuYWN0aXZlID0gZmFsc2U7XG5cdFx0aWYgKGxheWVyLm1hcExheWVyICYmIG1hcC5oYXNMYXllcihsYXllci5tYXBMYXllcikpIHtcblx0XHRcdG1hcC5yZW1vdmVMYXllcihsYXllci5tYXBMYXllcik7XG5cdFx0fVxuXHRcdHJlbW92ZUxheWVyRnJvbUludGVybmFsVHJhY2tlcihsYXllcik7XG5cdFx0KDAsIF9zaGFyZS51cGRhdGVTaGFyZVVybCkoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlTGF5ZXJGcm9tSW50ZXJuYWxUcmFja2VyKGxheWVyKSB7XG5cdFx0dmFyIGxvYyA9IF9jdXJyZW50X2xheWVycy5pbmRleE9mKGxheWVyLmlkKTtcblx0XHRpZiAobG9jID09PSAtMSkgcmV0dXJuO1xuXHRcdF9jdXJyZW50X2xheWVycy5zcGxpY2UobG9jLCAxKTtcblx0XHRfY3VycmVudF9sYXllcnNfb2JqZWN0cy5zcGxpY2UobG9jLCAxKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gdXBkYXRlTGF5ZXJPcGFjaXR5KGxheWVyLCBuZXdPcGFjaXR5KSB7XG5cdFx0bGF5ZXIub3BhY2l0eSA9IG5ld09wYWNpdHk7XG5cdFx0bGF5ZXIubWFwTGF5ZXIuc2V0T3BhY2l0eShuZXdPcGFjaXR5KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZVdtc1RpbGVMYXllcihsYXllcikge1xuXHRcdHJldHVybiBMLnRpbGVMYXllci53bXMobGF5ZXIudXJsLCB7XG5cdFx0XHRsYXllcnM6IGxheWVyLmlkLFxuXHRcdFx0dHJhbnNwYXJlbnQ6IGxheWVyLnRyYW5zcGFyZW50IHx8IHRydWUsXG5cdFx0XHR2ZXJzaW9uOiBsYXllci52ZXJzaW9uIHx8ICcxLjMuMCcsXG5cdFx0XHRjcnM6IGxheWVyLmNycyB8fCBMLkNSUy5FUFNHOTAwOTEzLFxuXHRcdFx0Zm9ybWF0OiBsYXllci5mb3JtYXQgfHwgJ2ltYWdlL3BuZycsXG5cdFx0XHRvcGFjaXR5OiBsYXllci5vcGFjaXR5IHx8IC43NSxcblx0XHRcdHRpbGVTaXplOiBsYXllci50aWxlU2l6ZSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5jbGllbnRXaWR0aFxuXHRcdH0pO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMjQgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5jbGVhck1hcCA9IGNsZWFyTWFwO1xuXHRleHBvcnRzLkNyZWF0ZU1hcCA9IENyZWF0ZU1hcDtcblx0ZXhwb3J0cy5HZXRNYXAgPSBHZXRNYXA7XG5cdFxuXHR2YXIgX3BvaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9sYXllciA9IF9fd2VicGFja19yZXF1aXJlX18oMjMpO1xuXHRcblx0dmFyIF9ncmFwaCA9IF9fd2VicGFja19yZXF1aXJlX18oMjgpO1xuXHRcblx0dmFyIF9wYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9zaGFyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIG1hcDtcblx0XG5cdGZ1bmN0aW9uIGNsZWFyTWFwKCkge1xuXHRcdCgwLCBfcG9pLnJlbW92ZUFsbFBvaW50c09mSW50ZXJlc3QpKCk7XG5cdFx0KDAsIF9ncmFwaC5yZW1vdmVBbGxHcmFwaHMpKCk7XG5cdFx0KDAsIF9sYXllci50dXJuT2ZmTm9uQmFzZUxheWVycykoKTtcblx0XHQoMCwgX3BhbmVsLnJlc2V0UGFuZWxTdGF0ZSkoKTtcblx0XHQoMCwgX3BhbmVsLnVwZGF0ZVBhbmVsRHJhZ092ZXJsYXlIZWlnaHQpKCk7XG5cdFx0KDAsIF9zaGFyZS51cGRhdGVTaGFyZVVybCkoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gQ3JlYXRlTWFwKG1hcENvbmZpZykge1xuXHRcdHZhciBpZCA9IG1hcENvbmZpZy5pZCB8fCBcIm1hcFwiO1xuXHRcdHZhciBvcHRpb25zID0gbWFwQ29uZmlnLm9wdGlvbnMgfHwgeyBcInNjcm9sbFdoZWVsWm9vbVwiOiBmYWxzZSB9O1xuXHRcdHZhciBpbml0aWFsQ2VudGVyID0gbWFwQ29uZmlnLmNlbnRlciB8fCBbXCIzOC41XCIsIFwiLTgxXCJdO1xuXHRcdHZhciBpbml0aWFsWm9vbSA9IG1hcENvbmZpZy56b29tIHx8IDY7XG5cdFxuXHRcdG1hcCA9IEwubWFwKGlkLCBvcHRpb25zKS5zZXRWaWV3KGluaXRpYWxDZW50ZXIsIGluaXRpYWxab29tKTtcblx0XHRMLmNvbnRyb2wuYXR0cmlidXRpb24oKS5hZGRUbyhtYXApO1xuXHRcblx0XHR2YXIgbGVhZmxldFpvb21JbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsZWFmbGV0LWNvbnRyb2wtem9vbS1pblwiKVswXTtcblx0XG5cdFx0bGVhZmxldFpvb21Jbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZm9yIHNlYWNyY2ggYnkgYWRkcmVzc1xuXHRcdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XG5cdFx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxuXHRcdFx0XHRldmVudEFjdGlvbjogJ2NsaWNrIGJ1dHRvbicsXG5cdFx0XHRcdGV2ZW50TGFiZWw6ICd6b29tIGluJyxcblx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGxlYWZsZXRab29tT3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxlYWZsZXQtY29udHJvbC16b29tLW91dFwiKVswXTtcblx0XG5cdFx0bGVhZmxldFpvb21PdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGZvciBzZWFjcmNoIGJ5IGFkZHJlc3Ncblx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0XHRldmVudENhdGVnb3J5OiAnbWFwJyxcblx0XHRcdFx0ZXZlbnRBY3Rpb246ICdjbGljayBidXR0b24nLFxuXHRcdFx0XHRldmVudExhYmVsOiAnem9vbSBvdXQnLFxuXHRcdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2Vcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcblx0XHRtYXAub24oXCJkcmFnZW5kXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBmb3IgZHJhZyAocGFuKSBlbmRcblx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0XHRldmVudENhdGVnb3J5OiAnbWFwJyxcblx0XHRcdFx0ZXZlbnRBY3Rpb246ICdkcmFnJyxcblx0XHRcdFx0ZXZlbnRMYWJlbDogSlNPTi5zdHJpbmdpZnkobWFwLmdldEJvdW5kcygpKSxcblx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IHRydWVcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcblx0XHRtYXAub24oXCJ6b29tZW5kXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBmb3Igem9vbSBlbmRcblx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0XHRldmVudENhdGVnb3J5OiAnbWFwJyxcblx0XHRcdFx0ZXZlbnRBY3Rpb246ICd6b29tJyxcblx0XHRcdFx0ZXZlbnRMYWJlbDogSlNPTi5zdHJpbmdpZnkobWFwLmdldEJvdW5kcygpKSxcblx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IHRydWVcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHJldHVybiBtYXA7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEdldE1hcCgpIHtcblx0XHRyZXR1cm4gbWFwO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMjUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5CaW5kVXBkYXRlU2hhcmVVcmwgPSBCaW5kVXBkYXRlU2hhcmVVcmw7XG5cdGV4cG9ydHMudXBkYXRlU2hhcmVVcmwgPSB1cGRhdGVTaGFyZVVybDtcblx0ZXhwb3J0cy5BZGRTaGFyZVNldHRpbmdzVG9Db25maWcgPSBBZGRTaGFyZVNldHRpbmdzVG9Db25maWc7XG5cdGV4cG9ydHMuQmluZENvcHlMaW5rRXZlbnRzID0gQmluZENvcHlMaW5rRXZlbnRzO1xuXHRcblx0dmFyIF9tYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdHZhciBfYmFzZWxheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNik7XG5cdFxuXHR2YXIgX2xheWVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMyk7XG5cdFxuXHR2YXIgX3BvaSA9IF9fd2VicGFja19yZXF1aXJlX18oMjcpO1xuXHRcblx0dmFyIF9wYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0ZnVuY3Rpb24gQmluZFVwZGF0ZVNoYXJlVXJsKG1hcCkge1xuXHRcdG1hcC5vbihcIm1vdmVlbmRcIiwgdXBkYXRlU2hhcmVVcmwpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVTaGFyZVVybChlKSB7XG5cdFx0dmFyIG1hcCA9ICgwLCBfbWFwLkdldE1hcCkoKTtcblx0XG5cdFx0dmFyIHBhcmFtcyA9IFttYWtlQ2VudGVyU3RyaW5nKG1hcCksIG1ha2Vab29tU3RyaW5nKG1hcCksIG1ha2VMYXllclN0cmluZyhtYXApLCBtYWtlTGF5ZXJHcm91cHNTdHJpbmcoKSwgbWFrZUJhc2VMYXllclN0cmluZyhtYXApLCBtYWtlUG9pbnRzT2ZJbnRlcmVzdFN0cmluZygpLCBtYWtlQWN0aXZlVGFiU3RyaW5nKCksIG1ha2VBY3RpdmVHcmFwaFRhYlN0cmluZygpXTtcblx0XG5cdFx0c2V0U2hhcmVVcmwobWFrZVNoYXJlVXJsKHBhcmFtcykpO1xuXHRcdHNldENvcHlMaW5rVXJsKCk7XG5cdFx0c2V0U29jaWFsVXJscygpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBBZGRTaGFyZVNldHRpbmdzVG9Db25maWcoY29uZmlnKSB7XG5cdFx0dmFyIHNoYXJlID0gcGFyc2VTaGFyZVVybCgpO1xuXHRcdGlmICghc2hhcmUpIHJldHVybjtcblx0XHRpZiAoc2hhcmUuY2VudGVyKSBjb25maWcubWFwLmNlbnRlciA9IHNoYXJlLmNlbnRlcjtcblx0XHRpZiAoc2hhcmUuem9vbSkgY29uZmlnLm1hcC56b29tID0gc2hhcmUuem9vbTtcblx0XHRpZiAoc2hhcmUubGF5ZXJzKSBhZGRMYXllclNldHRpbmdzVG9Db25maWcoc2hhcmUubGF5ZXJzLCBjb25maWcpO1xuXHRcdGlmIChzaGFyZS5iYXNlbGF5ZXJzKSBhZGRCYXNlTGF5ZXJTZXR0aW5nc1RvQ29uZmlnKHNoYXJlLmJhc2VsYXllcnMsIGNvbmZpZyk7XG5cdFx0aWYgKHNoYXJlLnBvaXMpIGFkZFBvaW50c09mSW50ZXJlc3RUb0NvbmZpZyhzaGFyZS5wb2lzLCBjb25maWcpO1xuXHRcdGlmIChzaGFyZS50YWIpIGNvbmZpZy50YWIgPSBzaGFyZS50YWI7XG5cdFx0aWYgKHNoYXJlLmdyYXBoKSBjb25maWcuZ3JhcGggPSBzaGFyZS5ncmFwaDtcblx0XHRpZiAoc2hhcmUubGF5ZXJHcm91cHMpIGNvbmZpZy5sYXllckdyb3VwcyA9IGFkZExheWVyR3JvdXBTZXR0aW5nc1RvQ29uZmlnKHNoYXJlLmxheWVyR3JvdXBzLCBjb25maWcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlU2hhcmVVcmwocGFyYW1zKSB7XG5cdFx0cmV0dXJuIFwiP1wiICsgcGFyYW1zLmZpbHRlcihmdW5jdGlvbiAocCkge1xuXHRcdFx0cmV0dXJuIHAgIT09IHVuZGVmaW5lZDtcblx0XHR9KS5qb2luKFwiJlwiKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0U2hhcmVVcmwodXJsKSB7XG5cdFx0aWYgKHdpbmRvdy5oaXN0b3J5ICYmIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuXHRcdFx0d2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCB1cmwpO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gc2V0Q29weUxpbmtVcmwoKSB7XG5cdFx0dmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmV1cmwtbGluay11cmxcIikuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgdXJsKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gQmluZENvcHlMaW5rRXZlbnRzKCkge1xuXHRcdGQzLnNlbGVjdChkb2N1bWVudCkub24oXCJjbGlja1wiLCBoYW5kbGVCb2R5Q2xpY2spO1xuXHRcdGQzLnNlbGVjdChcIi5zaGFyZXVybC1saW5rIGFcIikub24oXCJjbGlja1wiLCBoYW5kbGVTaGFyZUxpbmtCdXR0b25DbGljayk7XG5cdFx0ZDMuc2VsZWN0KFwiLnNoYXJldXJsLWxpbmstdXJsXCIpLm9uKFwiY2xpY2tcIiwgaGFuZGxlU2hhcmVMaW5rVXJsQ2xpY2spO1xuXHRcdGQzLnNlbGVjdChcIi5zaGFyZXVybC1saW5rLXBvcHVwLXJlbW92ZXJcIikub24oXCJjbGlja1wiLCBoYW5kbGVTaGFyZUxpbmtDbG9zZUJ1dHRvbkNsaWNrKTtcblx0fVxuXHRcblx0LyoqXHJcblx0ICogU2hvdWxkIGNsb3NlIHRoZSBjb3B5IGxpbmsgcG9wdXAgaWYgaXQgaXMgYWN0aXZlIGFuZCBpZiB5b3UgY2xpY2sgb24gYW55IGVsZW1lbnRcclxuXHQgKiB0aGF0IGlzIG5vdCB0aGUgcG9wdXAgb3IgaXRzIGNoaWxkcmVuLlxyXG5cdCAqL1xuXHRmdW5jdGlvbiBoYW5kbGVCb2R5Q2xpY2soKSB7XG5cdFx0dmFyIGV2ZW50ID0gZDMuZXZlbnQ7XG5cdFx0dmFyIG5vZGVQYXRoID0gW107XG5cdFx0bm9kZVBhdGggPSBnZXREb21QYXRoKGV2ZW50LnRhcmdldCk7XG5cdFxuXHRcdHZhciB0b0Nsb3NlUG9wdXAgPSB0cnVlO1xuXHRcdHZhciBpLCBsO1xuXHRcblx0XHRmb3IgKGkgPSAwLCBsID0gbm9kZVBhdGgubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAobm9kZVBhdGhbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaGFyZXVybC1saW5rLXBvcHVwJykgfHwgbm9kZVBhdGhbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaGFyZXVybC1saW5rJykpIHtcblx0XHRcdFx0XHR0b0Nsb3NlUG9wdXAgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyBjbGlja2luZyBzdmcgdGhyb3dzIGFuIGVycm9yIGluIElFXG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRpZiAodG9DbG9zZVBvcHVwKSB7XG5cdFx0XHR2YXIgc2hhcmVQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NoYXJldXJsLWxpbmstcG9wdXAnKS5pdGVtKDApO1xuXHRcdFx0aGFuZGxlQ29weUxpbmtDbG9zZShzaGFyZVBvcHVwKTtcblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERvbVBhdGgobm9kZSkge1xuXHRcdHZhciBwYXRoID0gW107XG5cdFx0d2hpbGUgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlKSB7XG5cdFx0XHRwYXRoLnB1c2gobm9kZSk7XG5cdFx0XHRub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHRcdH1cblx0XHRyZXR1cm4gcGF0aDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlU2hhcmVMaW5rQnV0dG9uQ2xpY2soKSB7XG5cdFx0dmFyIHNoYXJlUG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2hhcmV1cmwtbGluay1wb3B1cFwiKS5pdGVtKDApO1xuXHRcdGlmIChkMy5zZWxlY3Qoc2hhcmVQb3B1cCkuY2xhc3NlZChcImFjdGl2ZVwiKSkge1xuXHRcdFx0aGFuZGxlQ29weUxpbmtDbG9zZShzaGFyZVBvcHVwKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGFuZGxlQ29weUxpbmtPcGVuKHNoYXJlUG9wdXApO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlU2hhcmVMaW5rQ2xvc2VCdXR0b25DbGljaygpIHtcblx0XHR2YXIgc2hhcmVQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzaGFyZXVybC1saW5rLXBvcHVwXCIpLml0ZW0oMCk7XG5cdFx0aGFuZGxlQ29weUxpbmtDbG9zZShzaGFyZVBvcHVwKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlU2hhcmVMaW5rVXJsQ2xpY2soKSB7XG5cdFx0c2VsZWN0Q29weUxpbmtVcmwoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlQ29weUxpbmtPcGVuKHNoYXJlUG9wdXApIHtcblx0XHRzaGFyZVBvcHVwLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XG5cdFx0c2VsZWN0Q29weUxpbmtVcmwoKTtcblx0XG5cdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZXZlbnQgY2xpY2sgb24gc2hhcmUgdXJsXG5cdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XG5cdFx0XHRldmVudENhdGVnb3J5OiAnc2hhcmV1cmwnLFxuXHRcdFx0ZXZlbnRBY3Rpb246ICdvcGVuJyxcblx0XHRcdGV2ZW50TGFiZWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hhcmV1cmwtbGluay11cmxcIikuZ2V0QXR0cmlidXRlKFwidmFsdWVcIiksXG5cdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2Vcblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlQ29weUxpbmtDbG9zZShzaGFyZVBvcHVwKSB7XG5cdFxuXHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGV2ZW50IGNsaWNrIG9uIHNoYXJlIHVybCBjbG9zZVxuXHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0ZXZlbnRDYXRlZ29yeTogJ3NoYXJldXJsJyxcblx0XHRcdGV2ZW50QWN0aW9uOiAnY2xvc2UnLFxuXHRcdFx0ZXZlbnRMYWJlbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZXVybC1saW5rLXVybFwiKS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxcblx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxuXHRcdH0pO1xuXHRcblx0XHRzaGFyZVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNlbGVjdENvcHlMaW5rVXJsKCkge1xuXHRcdHZhciBzaGFyZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZXVybC1saW5rLXVybFwiKTtcblx0XHRzaGFyZUlucHV0LmZvY3VzKCk7XG5cdFx0c2hhcmVJbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBzaGFyZUlucHV0LnZhbHVlLmxlbmd0aCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNldFNvY2lhbFVybHMoKSB7XG5cdFx0dmFyIHVybCA9IG1hbmdsZVBhcmFtU3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblx0XHR2YXIgc29jaWFsTGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2hhcmV1cmwtc29jaWFsXCIpO1xuXHRcdHZhciBzb2NpYWxMaW5rO1xuXHRcdHZhciBuZXdVcmw7XG5cdFx0dmFyIGksIGw7XG5cdFxuXHRcdGZvciAoaSA9IDAsIGwgPSBzb2NpYWxMaW5rcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHNvY2lhbExpbmsgPSBzb2NpYWxMaW5rc1tpXTtcblx0XG5cdFx0XHRuZXdVcmwgPSBzb2NpYWxMaW5rLmdldEF0dHJpYnV0ZShcImRhdGEtYmFzZXVybFwiKSArIHVybDtcblx0XHRcdHNvY2lhbExpbmsuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBuZXdVcmwpO1xuXHRcblx0XHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGV2ZW50IGZvciBzb2NpYWwgdXJsc1xuXHRcdFx0c29jaWFsTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XG5cdFx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdzaGFyZXVybCcsXG5cdFx0XHRcdFx0ZXZlbnRBY3Rpb246IHRoaXMuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSxcblx0XHRcdFx0XHRldmVudExhYmVsOiB0aGlzLmhyZWYsXG5cdFx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlQ2VudGVyU3RyaW5nKG1hcCkge1xuXHRcdHZhciBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7XG5cdFx0cmV0dXJuIFwiY2VudGVyPVwiICsgY2VudGVyLmxhdC50b1N0cmluZygpICsgXCIsXCIgKyBjZW50ZXIubG5nLnRvU3RyaW5nKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2Vab29tU3RyaW5nKG1hcCkge1xuXHRcdHJldHVybiBcInpvb209XCIgKyBtYXAuZ2V0Wm9vbSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlTGF5ZXJTdHJpbmcobWFwKSB7XG5cdFx0dmFyIGxheWVycyA9IFtdO1xuXHRcdHZhciBvcGFjaXR5VmFscyA9IHt9O1xuXHRcdHZhciBjdXJyZW50TGF5ZXJzID0gKDAsIF9sYXllci5HZXRDdXJyZW50TGF5ZXJzKSgpO1xuXHRcblx0XHRtYXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xuXHRcdFx0dmFyIG9wdGlvbnMgPSBsYXllci5vcHRpb25zO1xuXHRcdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sYXllcnMpIHtcblx0XHRcdFx0b3BhY2l0eVZhbHNbb3B0aW9ucy5sYXllcnNdID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcIm9wYWNpdHlcIikgPyBvcHRpb25zLm9wYWNpdHkgOiBcIjFcIjtcblx0XHRcdH1cblx0XHR9KTtcblx0XG5cdFx0dmFyIGN1cnJlbnRMYXllcjtcblx0XHR2YXIgaTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgY3VycmVudExheWVycy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y3VycmVudExheWVyID0gY3VycmVudExheWVyc1tpXTtcblx0XHRcdGxheWVycy5wdXNoKGN1cnJlbnRMYXllcik7XG5cdFx0XHRsYXllcnMucHVzaChvcGFjaXR5VmFsc1tjdXJyZW50TGF5ZXJdKTtcblx0XHR9XG5cdFx0cmV0dXJuIFwibGF5ZXJzPVwiICsgbGF5ZXJzLmpvaW4oXCIsXCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlQmFzZUxheWVyU3RyaW5nKG1hcCkge1xuXHRcdHZhciBsYXllcnMgPSBbXTtcblx0XHRtYXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xuXHRcdFx0aWYgKGxheWVyLm9wdGlvbnMgJiYgbGF5ZXIub3B0aW9ucy50eXBlID09PSBfYmFzZWxheWVyLkJBU0VfTEFZRVJfVFlQRSkge1xuXHRcdFx0XHRsYXllcnMucHVzaChsYXllci5vcHRpb25zLmlkKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gXCJiYXNlbGF5ZXJzPVwiICsgbGF5ZXJzLmpvaW4oXCIsXCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlTGF5ZXJHcm91cHNTdHJpbmcoKSB7XG5cdFx0dmFyIGFjdGl2ZUxheWVyR3JvdXBzID0gKDAsIF9wYW5lbC5HZXRBY3RpdmVMYXllckdyb3VwcykoKTtcblx0XHRyZXR1cm4gXCJsYXllckdyb3Vwcz1cIiArIGFjdGl2ZUxheWVyR3JvdXBzLm1hcChmdW5jdGlvbiAoZCkge1xuXHRcdFx0cmV0dXJuIGQuaWQ7XG5cdFx0fSkuam9pbignLCcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlUG9pbnRzT2ZJbnRlcmVzdFN0cmluZygpIHtcblx0XHR2YXIgcG9pcyA9ICgwLCBfcG9pLkdldEFsbFBvaW50c09mSW50ZXJlc3QpKCk7XG5cdFx0aWYgKCFwb2lzLmxlbmd0aCkgcmV0dXJuO1xuXHRcdHZhciBwb2lTdHJpbmcgPSBcInBvaXM9XCI7XG5cdFx0cG9pcy5mb3JFYWNoKGZ1bmN0aW9uIChwb2kpIHtcblx0XHRcdHBvaVN0cmluZyArPSBwb2kubGF0ICsgJywnICsgcG9pLmxuZztcblx0XHRcdGlmIChwb2kucGxvdHMgJiYgcG9pLnBsb3RzLmxlbmd0aCkge1xuXHRcdFx0XHRwb2lTdHJpbmcgKz0gJywnICsgcG9pLnBsb3RzLmpvaW4oJywnKTtcblx0XHRcdH1cblx0XHRcdHBvaVN0cmluZyArPSAnOyc7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHBvaVN0cmluZztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZUFjdGl2ZVRhYlN0cmluZygpIHtcblx0XHRyZXR1cm4gXCJ0YWI9XCIgKyBkMy5zZWxlY3QoXCIucGFuZWwtdG9wLWJ0bi5hY3RpdmVcIikuYXR0cihcImRhdGEtYWN0aXZlXCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlQWN0aXZlR3JhcGhUYWJTdHJpbmcoKSB7XG5cdFx0cmV0dXJuIFwiZ3JhcGg9XCIgKyBkMy5zZWxlY3QoXCIuZ3JhcGgtdHlwZS1idG4uYWN0aXZlXCIpLmF0dHIoXCJkYXRhLXR5cGVcIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHBhcnNlU2hhcmVVcmwoKSB7XG5cdFx0dmFyIHBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XG5cdFx0aWYgKHBhcmFtcyA9PT0gXCJcIikgcmV0dXJuO1xuXHRcblx0XHRwYXJhbXMgPSBnZXRQYXJhbXNBcnJheShwYXJhbXMpO1xuXHRcdHBhcmFtcyA9IG1ha2VLZXllZFBhcmFtc09iamVjdChwYXJhbXMpO1xuXHRcblx0XHRmb3JtYXRQYXJhbXMocGFyYW1zKTtcblx0XHRyZXR1cm4gcGFyYW1zO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRQYXJhbXNBcnJheShwYXJhbXMpIHtcblx0XHRwYXJhbXMgPSBwYXJhbXMuc3Vic3RyaW5nKDEpO1xuXHRcdHBhcmFtcyA9IHVubWFuZ2xlUGFyYW1TdHJpbmcocGFyYW1zKTtcblx0XHRyZXR1cm4gcGFyYW1zLnNwbGl0KFwiJlwiKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFuZ2xlUGFyYW1TdHJpbmcodXJsKSB7XG5cdFx0cmV0dXJuIHVybC5yZXBsYWNlKC9cXDovZywgXCIlM0FcIikucmVwbGFjZSgvXFw7L2csIFwiJTNCXCIpLnJlcGxhY2UoL1xcLy9nLCBcIiUyRlwiKS5yZXBsYWNlKC9cXCwvZywgXCIlMkNcIikucmVwbGFjZSgvXFwmL2csIFwiJTI2XCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB1bm1hbmdsZVBhcmFtU3RyaW5nKHBhcmFtcykge1xuXHRcdHJldHVybiBwYXJhbXMucmVwbGFjZSgvXFwlMltjfENdL2csIFwiLFwiKS5yZXBsYWNlKC9cXCUzW2J8Ql0vZywgXCI7XCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlS2V5ZWRQYXJhbXNPYmplY3QocGFyYW1zQXJyKSB7XG5cdFx0dmFyIHBhcnNlZFBhcmFtcyA9IHt9O1xuXHRcdHZhciBwYXJhbVBhaXI7XG5cdFx0dmFyIGk7XG5cdFxuXHRcdGZvciAoaSA9IDA7IGkgPCBwYXJhbXNBcnIubGVuZ3RoOyBpKyspIHtcblx0XHRcdHBhcmFtUGFpciA9IHBhcmFtc0FycltpXS5zcGxpdChcIj1cIik7XG5cdFx0XHRwYXJzZWRQYXJhbXNbcGFyYW1QYWlyWzBdXSA9IHBhcmFtUGFpclsxXTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBwYXJzZWRQYXJhbXM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdFBhcmFtcyhwYXJhbXMpIHtcblx0XHRpZiAocGFyYW1zLmNlbnRlcikgcGFyYW1zLmNlbnRlciA9IGZvcm1hdENlbnRlclBhcmFtKHBhcmFtcy5jZW50ZXIpO1xuXHRcdGlmIChwYXJhbXMubGF5ZXJzKSBwYXJhbXMubGF5ZXJzID0gZm9ybWF0TGF5ZXJQYXJhbShwYXJhbXMubGF5ZXJzKTtcblx0XHRpZiAocGFyYW1zLmJhc2VsYXllcnMpIHBhcmFtcy5iYXNlbGF5ZXJzID0gZm9ybWF0QmFzZUxheWVyUGFyYW0ocGFyYW1zLmJhc2VsYXllcnMpO1xuXHRcdGlmIChwYXJhbXMucG9pcykgcGFyYW1zLnBvaXMgPSBmb3JtYXRQb2ludHNPZkludGVyZXN0UGFyYW0ocGFyYW1zLnBvaXMpO1xuXHRcdGlmIChwYXJhbXMubGF5ZXJHcm91cHMpIHBhcmFtcy5sYXllckdyb3VwcyA9IGZvcm1hdExheWVyR3JvdXBzUGFyYW0ocGFyYW1zLmxheWVyR3JvdXBzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0Q2VudGVyUGFyYW0oY2VudGVyKSB7XG5cdFx0cmV0dXJuIGNlbnRlci5zcGxpdChcIixcIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdExheWVyUGFyYW0obGF5ZXJzKSB7XG5cdFx0dmFyIGZvcm1hdHRlZExheWVycyA9IHtcblx0XHRcdFwiZW5hYmxlZExheWVyc1wiOiBbXSxcblx0XHRcdFwib3BhY2l0eVZhbHNcIjoge31cblx0XHR9O1xuXHRcdHZhciBsYXllcklkO1xuXHRcdHZhciBpO1xuXHRcblx0XHRsYXllcnMgPSBsYXllcnMuc3BsaXQoXCIsXCIpO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsYXllcnMubGVuZ3RoOyBpID0gaSArIDIpIHtcblx0XHRcdGxheWVySWQgPSBsYXllcnNbaV07XG5cdFx0XHRmb3JtYXR0ZWRMYXllcnMuZW5hYmxlZExheWVycy5wdXNoKGxheWVySWQpO1xuXHRcdFx0Zm9ybWF0dGVkTGF5ZXJzLm9wYWNpdHlWYWxzW2xheWVySWRdID0gbGF5ZXJzW2kgKyAxXTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBmb3JtYXR0ZWRMYXllcnM7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdEJhc2VMYXllclBhcmFtKGJhc2VsYXllcnMpIHtcblx0XHRyZXR1cm4gYmFzZWxheWVycy5zcGxpdChcIixcIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGZvcm1hdFBvaW50c09mSW50ZXJlc3RQYXJhbShwb2lzKSB7XG5cdFx0cmV0dXJuIHBvaXMuc3BsaXQoJzsnKS5maWx0ZXIoZnVuY3Rpb24gKHN0cikge1xuXHRcdFx0cmV0dXJuIHN0ciAhPT0gJyc7XG5cdFx0fSkubWFwKGZ1bmN0aW9uIChwb2kpIHtcblx0XHRcdHBvaSA9IHBvaS5zcGxpdCgnLCcpO1xuXHRcdFx0aWYgKHBvaS5sZW5ndGggPiAyKSB7XG5cdFx0XHRcdHJldHVybiAoMCwgX3BvaS5jcmVhdGVQT0kpKHBvaVswXSwgcG9pWzFdLCBwb2kuc3BsaWNlKDIpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiAoMCwgX3BvaS5jcmVhdGVQT0kpKHBvaVswXSwgcG9pWzFdLCBudWxsKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0TGF5ZXJHcm91cHNQYXJhbShsYXllckdyb3VwU2V0dGluZ3MpIHtcblx0XHRyZXR1cm4gbGF5ZXJHcm91cFNldHRpbmdzLnNwbGl0KCcsJyk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZExheWVyR3JvdXBTZXR0aW5nc1RvQ29uZmlnKGFjdGl2ZUxheWVyR3JvdXBJZHMsIGNvbmZpZykge1xuXHRcdGNvbmZpZy5sYXlvdXRbJ2xheWVyLWdyb3Vwcy1vcmRlciddLmZvckVhY2goZnVuY3Rpb24gKGxheWVyR3JvdXApIHtcblx0XHRcdC8vIHNldCBsYXllciBncm91cCB0byBhY3RpdmUgaWYgaXRzIGlkIGFwcGVhcnMgaW4gdGhlIHNoYXJlIHVybCBzZXR0aW5nc1xuXHRcdFx0bGF5ZXJHcm91cC5hY3RpdmUgPSBhY3RpdmVMYXllckdyb3VwSWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcblx0XHRcdFx0cmV0dXJuIGlkID09PSBsYXllckdyb3VwLmlkO1xuXHRcdFx0fSkubGVuZ3RoID4gMDtcblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkTGF5ZXJTZXR0aW5nc1RvQ29uZmlnKHNoYXJlTGF5ZXJTZXR0aW5ncywgY29uZmlnKSB7XG5cdFx0dmFyIGVuYWJsZWRMYXllcnMgPSBzaGFyZUxheWVyU2V0dGluZ3MuZW5hYmxlZExheWVycztcblx0XHRjb25maWdbXCJhY3RpdmUtbGF5ZXJzXCJdID0gZW5hYmxlZExheWVycztcblx0XG5cdFx0dmFyIGksIGosIHByb3AsIGxheWVyZ3JvdXA7XG5cdFx0dmFyIGVuYWJsZWRMYXllcjtcblx0XHR2YXIgZm91bmRMYXllcjtcblx0XHR2YXIgbGF5ZXJzID0gY29uZmlnLmxheWVycztcblx0XG5cdFx0Zm9yIChpID0gMDsgaSA8IGVuYWJsZWRMYXllcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGZvdW5kTGF5ZXIgPSBmYWxzZTtcblx0XHRcdGVuYWJsZWRMYXllciA9IGVuYWJsZWRMYXllcnNbaV07XG5cdFx0XHRmb3IgKHByb3AgaW4gbGF5ZXJzKSB7XG5cdFx0XHRcdGlmICghbGF5ZXJzLmhhc093blByb3BlcnR5KHByb3ApKSByZXR1cm47XG5cdFx0XHRcdGxheWVyZ3JvdXAgPSBsYXllcnNbcHJvcF07XG5cdFx0XHRcdGZvciAoaiA9IDA7IGogPCBsYXllcmdyb3VwLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0aWYgKGxheWVyZ3JvdXBbal0uaWQgPT09IGVuYWJsZWRMYXllcikge1xuXHRcdFx0XHRcdFx0bGF5ZXJncm91cFtqXS5vcGFjaXR5ID0gc2hhcmVMYXllclNldHRpbmdzLm9wYWNpdHlWYWxzW2VuYWJsZWRMYXllcl07XG5cdFx0XHRcdFx0XHRmb3VuZExheWVyID0gdHJ1ZTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZm91bmRMYXllcikgYnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRmdW5jdGlvbiBhZGRCYXNlTGF5ZXJTZXR0aW5nc1RvQ29uZmlnKHNoYXJlQmFzZUxheWVyU2V0dGluZ3MsIGNvbmZpZykge1xuXHRcdHZhciBiYXNlbGF5ZXJzID0gY29uZmlnLmJhc2VsYXllcnM7XG5cdFx0dmFyIGJhc2VsYXllcjtcblx0XHR2YXIgaTtcblx0XG5cdFx0Zm9yIChpID0gMDsgaSA8IGJhc2VsYXllcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGJhc2VsYXllciA9IGJhc2VsYXllcnNbaV07XG5cdFx0XHRiYXNlbGF5ZXIuYWN0aXZlID0gc2hhcmVCYXNlTGF5ZXJTZXR0aW5ncy5pbmRleE9mKGJhc2VsYXllci5pZCkgIT09IC0xID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRkUG9pbnRzT2ZJbnRlcmVzdFRvQ29uZmlnKHBvaXMsIGNvbmZpZykge1xuXHRcdGNvbmZpZ1tcInBvaXNcIl0gPSBwb2lzO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMjYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLkJBU0VfTEFZRVJfVFlQRSA9IHVuZGVmaW5lZDtcblx0ZXhwb3J0cy5DcmVhdGVCYXNlTGF5ZXJzID0gQ3JlYXRlQmFzZUxheWVycztcblx0XG5cdHZhciBfbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHR2YXIgX3NoYXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgQkFTRV9MQVlFUl9UWVBFID0gZXhwb3J0cy5CQVNFX0xBWUVSX1RZUEUgPSBcImJhc2VsYXllclwiO1xuXHRcblx0dmFyIF9iYXNlbGF5ZXJzO1xuXHRcblx0ZnVuY3Rpb24gQ3JlYXRlQmFzZUxheWVycyhtYXAsIGxheWVyQ29uZmlnKSB7XG5cdFx0bGF5ZXJDb25maWcgPSBsYXllckNvbmZpZyB8fCBbe1xuXHRcdFx0XCJpZFwiOiBcImNhcnRvLWxpZ2h0LWRlZmF1bHRcIixcblx0XHRcdFwidXJsXCI6IFwiaHR0cDovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfYWxsL3t6fS97eH0ve3l9LnBuZ1wiLFxuXHRcdFx0XCJhdHRyaWJ1dGlvblwiOiAnJmNvcHk7IDxhIGhyZWY9XCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgJmNvcHk7IDxhIGhyZWY9XCJodHRwczovL2NhcnRvLmNvbS9hdHRyaWJ1dGlvbnNcIj5DQVJUTzwvYT4nXG5cdFx0fV07XG5cdFxuXHRcdF9iYXNlbGF5ZXJzID0gbGF5ZXJDb25maWc7XG5cdFx0dmFyIGk7XG5cdFx0dmFyIGJhc2VMYXllcjtcblx0XHR2YXIgY29uZmlnO1xuXHRcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGF5ZXJDb25maWcubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbmZpZyA9IGxheWVyQ29uZmlnW2ldO1xuXHRcblx0XHRcdGlmICghY29uZmlnLmFjdGl2ZSkgY29udGludWU7XG5cdFx0XHRiYXNlTGF5ZXIgPSBjcmVhdGVCYXNlTGF5ZXIoY29uZmlnKTtcblx0XHRcdGNvbmZpZy5sYXllciA9IGJhc2VMYXllcjtcblx0XHRcdGJhc2VMYXllci5hZGRUbyhtYXApO1xuXHRcdH1cblx0XG5cdFx0Y3JlYXRlQmFzZUxheWVyVUkobGF5ZXJDb25maWcpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVCYXNlTGF5ZXJVSShjb25maWcpIHtcblx0XHR2YXIgYmFzZVVJID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRiYXNlVUkuY2xhc3NOYW1lID0gXCJiYXNlbGF5ZXItdWlcIjtcblx0XHR2YXIgYmFzZVdyYXBwZXI7XG5cdFx0dmFyIGJhc2VJbWc7XG5cdFx0dmFyIGJhc2VMYWJlbDtcblx0XG5cdFx0dmFyIGxheWVyO1xuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gY29uZmlnLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0bGF5ZXIgPSBjb25maWdbaV07XG5cdFx0XHRpZiAoIWxheWVyLmhhc093blByb3BlcnR5KFwiaW1hZ2VcIikpIGNvbnRpbnVlO1xuXHRcblx0XHRcdGJhc2VXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRcdGJhc2VXcmFwcGVyLnNldEF0dHJpYnV0ZShcImRhdGEtbGF5ZXJcIiwgbGF5ZXIuaWQpO1xuXHRcdFx0YmFzZUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHRiYXNlSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBsYXllci5pbWFnZSk7XG5cdFx0XHRiYXNlSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBsYXllci5sYWJlbCk7XG5cdFx0XHRiYXNlSW1nLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGxheWVyLmxhYmVsKTtcblx0XHRcdGJhc2VMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRiYXNlTGFiZWwudGV4dENvbnRlbnQgPSBsYXllci5sYWJlbDtcblx0XHRcdGJhc2VXcmFwcGVyLmFwcGVuZENoaWxkKGJhc2VJbWcpO1xuXHRcdFx0YmFzZVdyYXBwZXIuYXBwZW5kQ2hpbGQoYmFzZUxhYmVsKTtcblx0XHRcdGJhc2VXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVCYXNlQ2xpY2spO1xuXHRcblx0XHRcdGQzLnNlbGVjdChiYXNlV3JhcHBlcikuY2xhc3NlZChcImJhc2Utc2VsZWN0b3JcIiwgdHJ1ZSkuY2xhc3NlZChcImFjdGl2ZVwiLCBsYXllci5hY3RpdmUpO1xuXHRcblx0XHRcdGJhc2VVSS5hcHBlbmRDaGlsZChiYXNlV3JhcHBlcik7XG5cdFx0fVxuXHRcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGVhZmxldC1ib3R0b20gbGVhZmxldC1sZWZ0XCIpWzBdLmFwcGVuZENoaWxkKGJhc2VVSSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZUJhc2VDbGljayhlKSB7XG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR2YXIgbGF5ZXJpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1sYXllclwiKTtcblx0XHR0b2dnbGVBY3RpdmVCYXNlVUkodGhpcyk7XG5cdFx0cmVtb3ZlQ3VycmVudEJhc2VMYXllcigpO1xuXHRcdGFkZE5ld0Jhc2VMYXllclRvTWFwKGxheWVyaWQpO1xuXHRcblx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBmb3IgY2hhbmdlaW5nIGJhc2UgbGF5ZXJcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxuXHRcdFx0ZXZlbnRBY3Rpb246ICdjaGFuZ2UgYmFzZSBsYXllcicsXG5cdFx0XHRldmVudExhYmVsOiBsYXllcmlkLFxuXHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0fSk7XG5cdFxuXHRcdCgwLCBfc2hhcmUudXBkYXRlU2hhcmVVcmwpKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvZ2dsZUFjdGl2ZUJhc2VVSShiYXNlVUlFbGVtKSB7XG5cdFx0ZDMuc2VsZWN0KFwiLmJhc2Utc2VsZWN0b3IuYWN0aXZlXCIpLmNsYXNzZWQoXCJhY3RpdmVcIiwgZmFsc2UpO1xuXHRcdGQzLnNlbGVjdChiYXNlVUlFbGVtKS5jbGFzc2VkKFwiYWN0aXZlXCIsIHRydWUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW1vdmVDdXJyZW50QmFzZUxheWVyKCkge1xuXHRcdHZhciBtYXAgPSAoMCwgX21hcC5HZXRNYXApKCk7XG5cdFxuXHRcdG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XG5cdFx0XHRpZiAobGF5ZXIub3B0aW9ucy50eXBlICE9PSBCQVNFX0xBWUVSX1RZUEUpIHJldHVybjtcblx0XHRcdG1hcC5yZW1vdmVMYXllcihsYXllcik7XG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZE5ld0Jhc2VMYXllclRvTWFwKGxheWVyaWQpIHtcblx0XHR2YXIgbWFwID0gKDAsIF9tYXAuR2V0TWFwKSgpO1xuXHRcblx0XHR2YXIgbGF5ZXI7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBfYmFzZWxheWVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdGxheWVyID0gX2Jhc2VsYXllcnNbaV07XG5cdFx0XHRpZiAobGF5ZXIuaWQgIT09IGxheWVyaWQpIGNvbnRpbnVlO1xuXHRcdFx0aWYgKCFsYXllci5sYXllcikgbGF5ZXIubGF5ZXIgPSBjcmVhdGVCYXNlTGF5ZXIobGF5ZXIpO1xuXHRcdFx0bGF5ZXIubGF5ZXIuYWRkVG8obWFwKTtcblx0XHRcdGxheWVyLmxheWVyLmJyaW5nVG9CYWNrKCk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUJhc2VMYXllcihsYXllckNvbmZpZykge1xuXHRcdHJldHVybiBMLnRpbGVMYXllcihsYXllckNvbmZpZy51cmwsIG1ha2VCYXNlTGF5ZXJPcHRpb25zKGxheWVyQ29uZmlnKSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VCYXNlTGF5ZXJPcHRpb25zKGNvbmZpZykge1xuXHRcdHZhciBvcHRpb25zID0ge307XG5cdFx0aWYgKGNvbmZpZy5pZCkgb3B0aW9ucy5pZCA9IGNvbmZpZy5pZDtcblx0XHRpZiAoY29uZmlnLmF0dHJpYnV0aW9uKSBvcHRpb25zLmF0dHJpYnV0aW9uID0gY29uZmlnLmF0dHJpYnV0aW9uO1xuXHRcdGlmIChjb25maWcuc3ViZG9tYWlucykgb3B0aW9ucy5zdWJkb21haW5zID0gY29uZmlnLnN1YmRvbWFpbnM7XG5cdFx0b3B0aW9ucy50eXBlID0gQkFTRV9MQVlFUl9UWVBFO1xuXHRcblx0XHRyZXR1cm4gb3B0aW9ucztcblx0fVxuXG4vKioqLyB9KSxcbi8qIDI3ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuQmluZEdyYXBoRXZlbnRzID0gQmluZEdyYXBoRXZlbnRzO1xuXHRleHBvcnRzLnJlbW92ZUFsbFBvaW50c09mSW50ZXJlc3QgPSByZW1vdmVBbGxQb2ludHNPZkludGVyZXN0O1xuXHRleHBvcnRzLkdldEFsbFBvaW50c09mSW50ZXJlc3QgPSBHZXRBbGxQb2ludHNPZkludGVyZXN0O1xuXHRleHBvcnRzLmNyZWF0ZVBPSSA9IGNyZWF0ZVBPSTtcblx0ZXhwb3J0cy5TZXR1cFBvaW50c09mSW50ZXJlc3QgPSBTZXR1cFBvaW50c09mSW50ZXJlc3Q7XG5cdFxuXHR2YXIgX2dyYXBoID0gX193ZWJwYWNrX3JlcXVpcmVfXygyOCk7XG5cdFxuXHR2YXIgX21hcmtlciA9IF9fd2VicGFja19yZXF1aXJlX18oMjkpO1xuXHRcblx0dmFyIF9zaGFyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0dmFyIF9tYXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtcblx0XG5cdHZhciBfdGFicyA9IF9fd2VicGFja19yZXF1aXJlX18oMzApO1xuXHRcblx0dmFyIF9wYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9wb2ludHNfb2ZfaW50ZXJlc3QgPSBbXTtcblx0XG5cdGZ1bmN0aW9uIEJpbmRHcmFwaEV2ZW50cyhtYXApIHtcblx0XHRtYXAub24oXCJjbGlja1wiLCBoYW5kbGVNYXBDbGljayk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlbW92ZUFsbFBvaW50c09mSW50ZXJlc3QoKSB7XG5cdFx0dmFyIG1hcCA9ICgwLCBfbWFwLkdldE1hcCkoKTtcblx0XHRfcG9pbnRzX29mX2ludGVyZXN0LmZvckVhY2goZnVuY3Rpb24gKHBvaSkge1xuXHRcdFx0bWFwLnJlbW92ZUxheWVyKHBvaS5tYXJrZXIpO1xuXHRcdH0pO1xuXHRcdF9wb2ludHNfb2ZfaW50ZXJlc3QgPSBbXTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlTWFwQ2xpY2soZSkge1xuXHRcdHZhciBtYXAgPSB0aGlzO1xuXHRcdHZhciBsYXQgPSBlLmxhdGxuZy5sYXQ7XG5cdFx0dmFyIGxuZyA9IGUubGF0bG5nLmxuZztcblx0XG5cdFx0dmFyIHBvaSA9IGNyZWF0ZVBPSShsYXQsIGxuZywgbnVsbCk7XG5cdFx0QWRkUG9pbnRPZkludGVyZXN0VG9UcmFja2VyKHBvaSk7XG5cdFx0U2V0dXBQb2ludE9mSW50ZXJlc3RVSShtYXAsIHBvaSk7XG5cdFx0KDAsIF9zaGFyZS51cGRhdGVTaGFyZVVybCkoKTtcblx0XG5cdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZXZlbnQgY2xpY2sgb24gbWFwXG5cdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XG5cdFx0XHRldmVudENhdGVnb3J5OiAnbWFwJyxcblx0XHRcdGV2ZW50QWN0aW9uOiAnY2xpY2snLFxuXHRcdFx0ZXZlbnRMYWJlbDogSlNPTi5zdHJpbmdpZnkoeyBcImFjdGlvblwiOiBcImFkZCBtYXAgbWFya2VyXCIsIFwibGF0XCI6IGxhdCwgXCJsb25nXCI6IGxuZyB9KSxcblx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxuXHRcdH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVHcmFwaFJlbW92ZXIobWFwLCBkaXYsIG1hcmtlciwgcG9pKSB7XG5cdFx0dmFyIGVsZW0gPSBjcmVhdGVHcmFwaFJlbW92ZXJFbGVtKCk7XG5cdFx0ZGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmFwaC1lbGVtLWhlYWRlclwiKVswXS5hcHBlbmRDaGlsZChlbGVtKTtcblx0XHRkMy5zZWxlY3QoZWxlbSkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG5cdFxuXHRcdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgcmVtb3ZlIGdyYXBoXG5cdFx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdFx0ZXZlbnRDYXRlZ29yeTogJ2dyYXBoJyxcblx0XHRcdFx0ZXZlbnRBY3Rpb246ICdjbGljaycsXG5cdFx0XHRcdGV2ZW50TGFiZWw6ICdyZW1vdmUnLFxuXHRcdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2Vcblx0XHRcdH0pO1xuXHRcblx0XHRcdFJlbW92ZVBvaW50T2ZJbnRlcmVzdEZyb21UcmFja2VyKHBvaSk7XG5cdFx0XHRSZW1vdmVQb2ludE9mSW50ZXJlc3RVSShtYXAsIGRpdiwgbWFya2VyKTtcblx0XHRcdCgwLCBfcGFuZWwudXBkYXRlUGFuZWxEcmFnT3ZlcmxheUhlaWdodCkoKTtcblx0XHRcdCgwLCBfc2hhcmUudXBkYXRlU2hhcmVVcmwpKCk7XG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUdyYXBoUmVtb3ZlckVsZW0oKSB7XG5cdFx0dmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdGVsZW0uY2xhc3NOYW1lID0gXCJyZW1vdmUtZ3JhcGhcIjtcblx0XHRlbGVtLmlubmVyVGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXCIxMDAwNVwiKTtcblx0XHRlbGVtLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIFwiUmVtb3ZlIGdyYXBoXCIpO1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBHZXRBbGxQb2ludHNPZkludGVyZXN0KCkge1xuXHRcdHJldHVybiBfcG9pbnRzX29mX2ludGVyZXN0O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVQT0kobGF0LCBsbmcsIHBsb3RzKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGxhdDogbGF0LFxuXHRcdFx0bG5nOiBsbmcsXG5cdFx0XHRwbG90czogcGxvdHMgfHwgW1wiYmFzZWxpbmVcIiwgXCIyMDE1XCIsIFwidGhyZXNob2xkc1wiXVxuXHRcdH07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEFkZFBvaW50T2ZJbnRlcmVzdFRvVHJhY2tlcihwb2kpIHtcblx0XHRfcG9pbnRzX29mX2ludGVyZXN0LnB1c2gocG9pKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gU2V0dXBQb2ludHNPZkludGVyZXN0KG1hcCwgbmV3UG9pcykge1xuXHRcdEFkZE11bHRpcGxlUG9pbnRzT2ZJbnRlcmVzdChuZXdQb2lzKTtcblx0XHR2YXIgcG9pcyA9IEdldEFsbFBvaW50c09mSW50ZXJlc3QoKTtcblx0XHR2YXIgbWFwID0gKDAsIF9tYXAuR2V0TWFwKSgpO1xuXHRcdHBvaXMuZm9yRWFjaChmdW5jdGlvbiAocG9pKSB7XG5cdFx0XHRTZXR1cFBvaW50T2ZJbnRlcmVzdFVJKG1hcCwgcG9pKTtcblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gQWRkTXVsdGlwbGVQb2ludHNPZkludGVyZXN0KHBvaXMpIHtcblx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShfcG9pbnRzX29mX2ludGVyZXN0LCBwb2lzKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gUmVtb3ZlUG9pbnRPZkludGVyZXN0RnJvbVRyYWNrZXIocG9pVG9SZW1vdmUpIHtcblx0XHRfcG9pbnRzX29mX2ludGVyZXN0ID0gX3BvaW50c19vZl9pbnRlcmVzdC5maWx0ZXIoZnVuY3Rpb24gKHBvaSkge1xuXHRcdFx0cmV0dXJuICEocG9pID09PSBwb2lUb1JlbW92ZSk7XG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIFNldHVwUG9pbnRPZkludGVyZXN0VUkobWFwLCBwb2kpIHtcblx0XHR2YXIgZGl2ID0gKDAsIF9ncmFwaC5jcmVhdGVHcmFwaERpdikocG9pKTtcblx0XHR2YXIgbWFya2VyID0gKDAsIF9tYXJrZXIuY3JlYXRlTWFya2VyKShwb2kubGF0LCBwb2kubG5nKTtcblx0XHRwb2kuZ3JhcGhEaXYgPSBkaXY7XG5cdFx0cG9pLm1hcmtlciA9IG1hcmtlcjtcblx0XHRtYXJrZXIuYWRkVG8obWFwKTtcblx0XHRjcmVhdGVHcmFwaFJlbW92ZXIobWFwLCBkaXYsIG1hcmtlciwgcG9pKTtcblx0XG5cdFx0ZDMuc2VsZWN0KGRpdikub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRtYXJrZXIuc2V0SWNvbigoMCwgX21hcmtlci5nZXRJY29uKSgnaG92ZXInKSk7XG5cdFx0fSk7XG5cdFx0ZDMuc2VsZWN0KGRpdikub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcblx0XHRcdG1hcmtlci5zZXRJY29uKCgwLCBfbWFya2VyLmdldEljb24pKCdncmFwaCcpKTtcblx0XHR9KTtcblx0XHRtYXJrZXIub24oJ2NsaWNrIGRibGNsaWNrJywgZnVuY3Rpb24gKGUpIHtcblx0XHRcdGhhbmRsZU1hcmtlck1vdXNlRXZlbnQoZSwgcG9pKTtcblx0XHR9KTtcblx0XHRtYXJrZXIub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRtYXJrZXIuc2V0SWNvbigoMCwgX21hcmtlci5nZXRJY29uKSgnaG92ZXInKSk7XG5cdFx0fSk7XG5cdFx0bWFya2VyLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRtYXJrZXIuc2V0SWNvbigoMCwgX21hcmtlci5nZXRJY29uKSgnZ3JhcGgnKSk7XG5cdFx0XHRwb2kuZ3JhcGhEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGFuLXRvLW1hcmtlci1idG4nKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlJyk7XG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZU1hcmtlck1vdXNlRXZlbnQoZSwgcG9pKSB7XG5cdFx0ZS5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdCgwLCBfdGFicy5IYW5kbGVUYWJDaGFuZ2UpKCdncmFwaHMtYWN0aXZlJyk7XG5cdFx0c2Nyb2xsVG9Qb2ludE9mSW50ZXJlc3RHcmFwaChwb2kpO1xuXHRcdHRyaWdnZXJHcmFwaEFuaW1hdGlvbihwb2kpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiB0cmlnZ2VyR3JhcGhBbmltYXRpb24ocG9pKSB7XG5cdFx0cG9pLmdyYXBoRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bhbi10by1tYXJrZXItYnRuJylbMF0uY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZScpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzY3JvbGxUb1BvaW50T2ZJbnRlcmVzdEdyYXBoKHBvaSkge1xuXHRcdHZhciByaWdodFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXBhbmVsJyk7XG5cdFx0cmlnaHRQYW5lbC5zY3JvbGxUb3AgPSBwb2kuZ3JhcGhEaXYub2Zmc2V0VG9wO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBSZW1vdmVQb2ludE9mSW50ZXJlc3RVSShtYXAsIGRpdiwgbWFya2VyKSB7XG5cdFx0dmFyIGxpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JhcGgtbGlzdCcpO1xuXHRcdGxpc3QucmVtb3ZlQ2hpbGQoZGl2KTtcblx0XHRtYXAucmVtb3ZlTGF5ZXIobWFya2VyKTtcblx0XHQoMCwgX3NoYXJlLnVwZGF0ZVNoYXJlVXJsKSgpO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMjggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5TZXR1cEdyYXBocyA9IFNldHVwR3JhcGhzO1xuXHRleHBvcnRzLnJlbW92ZUFsbEdyYXBocyA9IHJlbW92ZUFsbEdyYXBocztcblx0ZXhwb3J0cy5IYW5kbGVHcmFwaFRhYkNoYW5nZSA9IEhhbmRsZUdyYXBoVGFiQ2hhbmdlO1xuXHRleHBvcnRzLmNyZWF0ZUdyYXBoRGl2ID0gY3JlYXRlR3JhcGhEaXY7XG5cdFxuXHR2YXIgX3BhbmVsID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMik7XG5cdFxuXHR2YXIgX3NoYXJlID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNSk7XG5cdFxuXHR2YXIgX21hcCA9IF9fd2VicGFja19yZXF1aXJlX18oMjQpO1xuXHRcblx0dmFyIF9wYXJzZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xuXHRcblx0dmFyIHRpcCA9IHt9O1xuXHRcblx0ZnVuY3Rpb24gU2V0dXBHcmFwaHMoKSB7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiLmdyYXBoLXR5cGUtYnRuXCIpLm9uKFwiY2xpY2tcIiwgaGFuZGxlR3JhcGhUeXBlQnRuQ2xpY2spO1xuXHRcdGV4dGVuZERhdGVNb2R1bGUoKTtcblx0XHR0aXAgPSBkMy50aXAoKS5hdHRyKCdjbGFzcycsICdkMy10aXAnKS5odG1sKGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gZDtcblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcmVtb3ZlQWxsR3JhcGhzKCkge1xuXHRcdHZhciBncmFwaExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JhcGgtbGlzdCcpO1xuXHRcdHdoaWxlIChncmFwaExpc3QuZmlyc3RDaGlsZCkge1xuXHRcdFx0Z3JhcGhMaXN0LnJlbW92ZUNoaWxkKGdyYXBoTGlzdC5maXJzdENoaWxkKTtcblx0XHR9XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGV4dGVuZERhdGVNb2R1bGUoKSB7XG5cdFx0RGF0ZS5wcm90b3R5cGUuaXNMZWFwWWVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciB5ZWFyID0gdGhpcy5nZXRGdWxsWWVhcigpO1xuXHRcdFx0aWYgKCh5ZWFyICYgMykgIT0gMCkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0cmV0dXJuIHllYXIgJSAxMDAgIT0gMCB8fCB5ZWFyICUgNDAwID09IDA7XG5cdFx0fTtcblx0XG5cdFx0Ly8gR2V0IERheSBvZiBZZWFyXG5cdFx0RGF0ZS5wcm90b3R5cGUuZ2V0RE9ZID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIGRheUNvdW50ID0gWzAsIDMxLCA1OSwgOTAsIDEyMCwgMTUxLCAxODEsIDIxMiwgMjQzLCAyNzMsIDMwNCwgMzM0XTtcblx0XHRcdHZhciBtbiA9IHRoaXMuZ2V0TW9udGgoKTtcblx0XHRcdHZhciBkbiA9IHRoaXMuZ2V0RGF0ZSgpO1xuXHRcdFx0dmFyIGRheU9mWWVhciA9IGRheUNvdW50W21uXSArIGRuO1xuXHRcdFx0aWYgKG1uID4gMSAmJiB0aGlzLmlzTGVhcFllYXIoKSkgZGF5T2ZZZWFyKys7XG5cdFx0XHRyZXR1cm4gZGF5T2ZZZWFyO1xuXHRcdH07XG5cdH1cblx0XG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gR1JBUEggREFUQSBQUk9DRVNTSU5HIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZUdyYXBoRGF0YVJlc3BvbnNlKGRpdiwgcG9pLCByZXNwb25zZSkge1xuXHRcdHJlc3BvbnNlID0gcmVzcG9uc2UucmVwbGFjZSgvXFxbfFxcXXxcXCcvZywgXCJcIikuc3BsaXQoXCIsIFwiKTtcblx0XHRkcmF3R3JhcGgocmVzcG9uc2UsIGRpdiwgcG9pKTtcblx0XHQoMCwgX3BhbmVsLnVwZGF0ZVBhbmVsRHJhZ092ZXJsYXlIZWlnaHQpKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGdldERhdGEocG9pLCBkaXYpIHtcblx0XHR2YXIgdXJsID0gXCJodHRwczovL2ZjYXYtbmR2aS5uZW1hYy5vcmcvbGFuZGRhdF9wcm9kdWN0LmNnaT9hcmdzPVwiICsgcG9pLmxuZyArIFwiLFwiICsgcG9pLmxhdDtcblx0XHR2YXIgb1JlcSA9ICgwLCBfcGFyc2VyLkdldEFqYXhPYmplY3QpKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuXHRcdFx0aGFuZGxlR3JhcGhEYXRhUmVzcG9uc2UoZGl2LCBwb2ksIHJlc3BvbnNlKTtcblx0XHR9KTtcblx0XG5cdFx0b1JlcS5vcGVuKFwiR0VUXCIsIHVybCk7XG5cdFx0b1JlcS5zZW5kKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHNwbGl0RGF0YShkYXRhKSB7XG5cdFx0dmFyIGk7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdGRhdGFbaV0gPSBkYXRhW2ldLnNwbGl0KFwiLFwiKTtcblx0XHR9XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHJlcHJvY2Vzc0RhdGEob3JpZ2RhdGEpIHtcblx0XHR2YXIgZXhwZWN0ZWRZZWFyTGVuZ3RoID0gNDY7XG5cdFx0dmFyIGRhdGEgPSB7fTtcblx0XHR2YXIgcG9pbnQ7XG5cdFx0dmFyIGtleTtcblx0XHR2YXIgaSwgajtcblx0XG5cdFx0ZGF0YVtcImtleXNcIl0gPSBbXTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgb3JpZ2RhdGEubGVuZ3RoOyBpKyspIHtcblx0XHRcdHBvaW50ID0gb3JpZ2RhdGFbaV07XG5cdFx0XHRrZXkgPSBwb2ludFswXS5zdWJzdHJpbmcoMCwgNCk7XG5cdFx0XHRpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRkYXRhW2tleV0gPSBbXTtcblx0XHRcdFx0ZGF0YVtcImtleXNcIl0ucHVzaChrZXkpO1xuXHRcdFx0fVxuXHRcdFx0ZGF0YVtrZXldLnB1c2gocG9pbnQpO1xuXHRcdH1cblx0XG5cdFx0dmFyIGtleXNUb0JlRGVsZXRlZCA9IFtdO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGtleSA9IGRhdGEua2V5c1tpXTtcblx0XHRcdGlmIChkYXRhW2tleV0ubGVuZ3RoICE9PSBleHBlY3RlZFllYXJMZW5ndGgpIHtcblx0XHRcdFx0a2V5c1RvQmVEZWxldGVkLnB1c2goa2V5KTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdGZvciAoaSA9IDA7IGkgPCBrZXlzVG9CZURlbGV0ZWQubGVuZ3RoOyBpKyspIHtcblx0XHRcdGtleSA9IGtleXNUb0JlRGVsZXRlZFtpXTtcblx0XHRcdGRlbGV0ZSBkYXRhW2tleV07XG5cdFx0XHRkYXRhLmtleXMuc3BsaWNlKGRhdGEua2V5cy5pbmRleE9mKGtleSksIDEpO1xuXHRcdH1cblx0XG5cdFx0dmFyIGRhdGFGb3JCYXNlbGluZTtcblx0XHR2YXIgbWVhbjtcblx0XHRkYXRhW1wiYmFzZWxpbmVcIl0gPSBbXTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgZXhwZWN0ZWRZZWFyTGVuZ3RoOyBpKyspIHtcblx0XHRcdGRhdGFGb3JCYXNlbGluZSA9IFtdO1xuXHRcdFx0Zm9yIChqID0gaTsgaiA8IG9yaWdkYXRhLmxlbmd0aDsgaiArPSBleHBlY3RlZFllYXJMZW5ndGgpIHtcblx0XHRcdFx0ZGF0YUZvckJhc2VsaW5lLnB1c2gocGFyc2VJbnQob3JpZ2RhdGFbal1bMV0sIDEwKSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0bWVhbiA9IGNvbXB1dGVBdmVyYWdlKGRhdGFGb3JCYXNlbGluZSk7XG5cdFx0XHRkYXRhW1wiYmFzZWxpbmVcIl0ucHVzaChtZWFuKTtcblx0XHR9XG5cdFxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjb21wdXRlQXZlcmFnZShhcnIpIHtcblx0XHR2YXIgc3VtID0gMCxcblx0XHQgICAgaSxcblx0XHQgICAgbDtcblx0XG5cdFx0Zm9yIChpID0gMCwgbCA9IGFyci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHN1bSArPSBhcnJbaV07XG5cdFx0fVxuXHRcblx0XHRyZXR1cm4gKHN1bSAvIGwpLnRvU3RyaW5nKCk7XG5cdH1cblx0XG5cdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gR1JBUEggSU5URVJGQUNFIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXHRcblx0ZnVuY3Rpb24gaGFuZGxlR3JhcGhUeXBlQnRuQ2xpY2soKSB7XG5cdFx0dmFyIHR5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJyk7XG5cdFx0dmFyIGFjdGl2ZVR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZ3JhcGgtdHlwZS1idG4gYWN0aXZlXCIpWzBdLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJyk7XG5cdFxuXHRcdGlmICh0eXBlID09PSBhY3RpdmVUeXBlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcblx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBjbGljayBvbiBncmFwaCB0eXBlXG5cdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XG5cdFx0XHRldmVudENhdGVnb3J5OiAnZ3JhcGggdHlwZScsXG5cdFx0XHRldmVudEFjdGlvbjogJ2NsaWNrJyxcblx0XHRcdGV2ZW50TGFiZWw6IHR5cGUsXG5cdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2Vcblx0XHR9KTtcblx0XG5cdFx0SGFuZGxlR3JhcGhUYWJDaGFuZ2UodHlwZSwgYWN0aXZlVHlwZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIEhhbmRsZUdyYXBoVGFiQ2hhbmdlKGdyYXBoVHlwZSkge1xuXHRcdGlmICghaXNHcmFwaExpc3RFbXB0eSgpKSB7XG5cdFx0XHR2YXIgb2xkQWN0aXZlR3JhcGhFbGVtSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ3JhcGgtZWxlbScpWzBdLnNjcm9sbEhlaWdodDtcblx0XHRcdHZhciBvbGRBY3RpdmVHcmFwaEluZm9IZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdncmFwaC10eXBlLWluZm8gYWN0aXZlJylbMF0uc2Nyb2xsSGVpZ2h0O1xuXHRcdFx0dmFyIHJpZ2h0UGFuZWxTY3JvbGxUb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtcGFuZWwnKS5zY3JvbGxUb3A7XG5cdFx0fVxuXHRcdGRpc2FibGVBY3RpdmVHcmFwaFRhYigpO1xuXHRcdGVuYWJsZUdyYXBoVGFiKGdyYXBoVHlwZSk7XG5cdFx0aWYgKCFpc0dyYXBoTGlzdEVtcHR5KCkpIGFkanVzdFNjcm9sbFBvc2l0aW9uKG9sZEFjdGl2ZUdyYXBoSW5mb0hlaWdodCwgb2xkQWN0aXZlR3JhcGhFbGVtSGVpZ2h0LCByaWdodFBhbmVsU2Nyb2xsVG9wKTtcblx0XHQoMCwgX3NoYXJlLnVwZGF0ZVNoYXJlVXJsKSgpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBpc0dyYXBoTGlzdEVtcHR5KCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdncmFwaC1lbGVtJylbMF0gPT09IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0ZnVuY3Rpb24gYWRqdXN0U2Nyb2xsUG9zaXRpb24ob2xkR3JhcGhJbmZvSGVpZ2h0LCBvbGRHcmFwaEVsZW1IZWlnaHQsIG9sZFJpZ2h0UGFuZWxTY3JvbGxUb3ApIHtcblx0XHR2YXIgbmV3R3JhcGhJbmZvSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ3JhcGgtdHlwZS1pbmZvIGFjdGl2ZScpWzBdLnNjcm9sbEhlaWdodDtcblx0XHR2YXIgbmV3R3JhcGhFbGVtSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ3JhcGgtZWxlbScpWzBdLnNjcm9sbEhlaWdodDtcblx0XG5cdFx0dmFyIG5ld0dyYXBoRWxlbUhlaWdodFNjYWxlID0gbmV3R3JhcGhFbGVtSGVpZ2h0IC8gb2xkR3JhcGhFbGVtSGVpZ2h0O1xuXHRcdHZhciBuZXdSaWdodFBhbmVsU2Nyb2xsVG9wID0gbmV3R3JhcGhJbmZvSGVpZ2h0ICsgKG9sZFJpZ2h0UGFuZWxTY3JvbGxUb3AgLSBvbGRHcmFwaEluZm9IZWlnaHQpICogbmV3R3JhcGhFbGVtSGVpZ2h0U2NhbGU7XG5cdFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC1wYW5lbCcpLnNjcm9sbFRvcCA9IG5ld1JpZ2h0UGFuZWxTY3JvbGxUb3A7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRpc2FibGVBY3RpdmVHcmFwaFRhYigpIHtcblx0XHR2YXIgYWN0aXZlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmFwaC10eXBlLWJ0biBhY3RpdmVcIilbMF07XG5cdFx0dmFyIGFjdGl2ZUNsYXNzID0gXCJncmFwaC1cIiArIGFjdGl2ZUVsZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpO1xuXHRcblx0XHRhY3RpdmVFbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaC1saXN0XCIpLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBlbmFibGVHcmFwaFRhYihncmFwaFR5cGUpIHtcblx0XHRkMy5zZWxlY3QoXCIuZ3JhcGgtdHlwZS1idG5bZGF0YS10eXBlPSdcIiArIGdyYXBoVHlwZSArIFwiJ11cIikuY2xhc3NlZChcImFjdGl2ZVwiLCB0cnVlKTtcblx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdyYXBoLWxpc3RcIikuY2xhc3NMaXN0LmFkZChcImdyYXBoLVwiICsgZ3JhcGhUeXBlKTtcblx0XHRkMy5zZWxlY3RBbGwoJy5ncmFwaC10eXBlLWluZm8nKS5jbGFzc2VkKCdhY3RpdmUnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gZ3JhcGhUeXBlID09PSB0aGlzLmlkLnNwbGl0KCctJylbMF07XG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGNyZWF0ZUdyYXBoRGl2KHBvaSkge1xuXHRcdHZhciBkZWNpbWFsUGxhY2VzID0gMztcblx0XHR2YXIgbGF0U2hvcnQgPSByb3VuZEZsb2F0KHBvaS5sYXQsIGRlY2ltYWxQbGFjZXMpO1xuXHRcdHZhciBsbmdTaG9ydCA9IHJvdW5kRmxvYXQocG9pLmxuZywgZGVjaW1hbFBsYWNlcyk7XG5cdFx0dmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdHZhciBoZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdHdyYXBwZXIuYXBwZW5kQ2hpbGQoaGVhZGVyKTtcblx0XHR2YXIgem9vbVRvTWFya2VyQnV0dG9uID0gbWFrZVpvb21Ub01hcE1hcmtlckJ1dHRvbihwb2kpO1xuXHRcdHZhciBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJMYXQ6IFwiICsgbGF0U2hvcnQgKyBcIiwgTG9uZzogXCIgKyBsbmdTaG9ydCk7XG5cdFx0dmFyIGNvbnRlbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGNvbnRlbnREaXYuY2xhc3NOYW1lID0gXCJncmFwaC1sYXQtbG9uXCI7XG5cdFx0Y29udGVudERpdi5hcHBlbmRDaGlsZChjb250ZW50KTtcblx0XG5cdFx0aGVhZGVyLmFwcGVuZENoaWxkKHpvb21Ub01hcmtlckJ1dHRvbik7XG5cdFx0aGVhZGVyLmFwcGVuZENoaWxkKGNvbnRlbnREaXYpO1xuXHRcblx0XHR2YXIgbG9hZGluZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0bG9hZGluZ0Rpdi5jbGFzc0xpc3QuYWRkKFwiZ3JhcGgtbG9hZGluZy1kaXZcIik7XG5cdFx0d3JhcHBlci5hcHBlbmRDaGlsZChsb2FkaW5nRGl2KTtcblx0XG5cdFx0d3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiZ3JhcGgtZWxlbVwiKTtcblx0XHR3cmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJncmFwaC1sb2FkaW5nXCIpO1xuXHRcdGhlYWRlci5jbGFzc0xpc3QuYWRkKFwiZ3JhcGgtZWxlbS1oZWFkZXJcIik7XG5cdFxuXHRcdHZhciBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaC1saXN0XCIpO1xuXHRcdGxpc3QuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG5cdFx0Z2V0RGF0YShwb2ksIHdyYXBwZXIpO1xuXHRcdHJldHVybiB3cmFwcGVyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBtYWtlWm9vbVRvTWFwTWFya2VyQnV0dG9uKHBvaSkge1xuXHRcdHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nKTtcblx0XHRidXR0b24uY2xhc3NMaXN0LmFkZCgncGFuLXRvLW1hcmtlci1idG4nKTtcblx0XHRidXR0b24udGV4dENvbnRlbnQgPSBcIlNob3cgT24gTWFwXCI7XG5cdFx0YnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAocG9pLCBlKSB7XG5cdFx0XHR2YXIgbWFwID0gKDAsIF9tYXAuR2V0TWFwKSgpO1xuXHRcdFx0bWFwLnBhblRvKFtwb2kubGF0LCBwb2kubG5nXSk7XG5cdFxuXHRcdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgY2xpY2sgb24gc2hvdyBvbiBtYXBcblx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0XHRldmVudENhdGVnb3J5OiAnZ3JhcGgnLFxuXHRcdFx0XHRldmVudEFjdGlvbjogJ2NsaWNrJyxcblx0XHRcdFx0ZXZlbnRMYWJlbDogJ3tcInNob3cgb24gbWFwXCI6e1wibGF0XCI6JyArIHBvaS5sYXQgKyAnLFwibG9uZ1wiOicgKyBwb2kubG5nICsgJ319Jyxcblx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0XHR9KTtcblx0XHR9LmJpbmQoYnV0dG9uLCBwb2kpO1xuXHRcdHJldHVybiBidXR0b247XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRyYXdHcmFwaChkYXRhLCBkaXYsIHBvaSkge1xuXHRcdGRhdGEgPSBzcGxpdERhdGEoZGF0YSk7XG5cdFx0dmFyIHJlcHJvY2Vzc2VkRGF0YSA9IHJlcHJvY2Vzc0RhdGEoZGF0YSk7XG5cdFx0bWFrZVVwRG93bkxpbmVHcmFwaChkYXRhLCBkaXYpO1xuXHRcdG1ha2VVcERvd25PdmVybGFwaW5nTGluZUdyYXBoV2l0aENoZWNrYm94ZXMocmVwcm9jZXNzZWREYXRhLCBkaXYsIHBvaSk7XG5cdFx0ZHJhd1VwRG93blBvbGFyV2l0aENoZWNrYm94ZXNBbmRUaHJlc2hvbGRzKHJlcHJvY2Vzc2VkRGF0YSwgZGl2LCBwb2kpO1xuXHRcdGRpdi5jbGFzc0xpc3QucmVtb3ZlKFwiZ3JhcGgtbG9hZGluZ1wiKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gcm91bmRGbG9hdChudW1iZXIsIGRlY2ltYWxQbGFjZXMpIHtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZChudW1iZXIgKiBNYXRoLnBvdygxMCwgZGVjaW1hbFBsYWNlcykpIC8gTWF0aC5wb3coMTAsIGRlY2ltYWxQbGFjZXMpO1xuXHR9XG5cdFxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8gVElNRVNFUklFUyBMSU5FIEdSQVBIIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHRmdW5jdGlvbiBtYWtlVXBEb3duTGluZUdyYXBoKGRhdGEsIGRpdikge1xuXHRcdC8vIFNldCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgY2FudmFzIC8gZ3JhcGhcblx0XHR2YXIgbWFyZ2luID0geyB0b3A6IDMwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDI5IH0sXG5cdFx0ICAgIHdpZHRoID0gNTgwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG5cdFx0ICAgIGhlaWdodCA9IDI3MCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXHRcblx0XHQvLyBTZXQgdGhlIHJhbmdlc1xuXHRcdHZhciB4ID0gZDMuc2NhbGVUaW1lKCkucmFuZ2UoWzAsIHdpZHRoXSkuZG9tYWluKFtwYXJzZURhdGUoZGF0YVswXVswXSksIHBhcnNlRGF0ZShkYXRhW2RhdGEubGVuZ3RoIC0gMV1bMF0pXSk7XG5cdFx0dmFyIHkgPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFtoZWlnaHQsIDBdKS5kb21haW4oWzAsIDEwMF0pO1xuXHRcblx0XHQvLyBEZWZpbmUgdGhlIGF4ZXNcblx0XHR2YXIgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpLnRpY2tzKDE2KS50aWNrRm9ybWF0KGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gZC5nZXRGdWxsWWVhcigpO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgeUF4aXMgPSBkMy5heGlzTGVmdCh5KS50aWNrcyg2KTtcblx0XG5cdFx0Ly8gRGVmaW5lIHRoZSBsaW5lXG5cdFx0dmFyIHZhbHVlbGluZSA9IGQzLmxpbmUoKS54KGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4geChwYXJzZURhdGUoZFswXSkpO1xuXHRcdH0pLnkoZnVuY3Rpb24gKGQpIHtcblx0XHRcdHJldHVybiB5KGRbMV0pO1xuXHRcdH0pO1xuXHRcblx0XHR2YXIgd3JhcHBlciA9IGQzLnNlbGVjdChkaXYpLmFwcGVuZChcImRpdlwiKS5jbGFzc2VkKFwidGltZXNlcmllcy1ncmFwaFwiLCB0cnVlKTtcblx0XG5cdFx0Ly8gQWRkcyB0aGUgc3ZnIGNhbnZhc1xuXHRcdHZhciBzdmcgPSB3cmFwcGVyLmFwcGVuZChcInN2Z1wiKS5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKS5hdHRyKCd2aWV3Qm94JywgZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHcgPSB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0O1xuXHRcdFx0dmFyIGggPSBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTtcblx0XHRcdHJldHVybiAnMCAwICcgKyB3ICsgJyAnICsgaDtcblx0XHR9KS5hdHRyKCdwcmVzZXJ2ZUFzcGVjdFJhdGlvJywgJ3hNaWRZTWlkJykuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cdFxuXHRcdHN2Zy5jYWxsKHRpcCk7XG5cdFxuXHRcdC8vIEFkZCB0aGUgdmFsdWVsaW5lIHBhdGguXG5cdFx0ZHJhd0xpbmVhclBhdGgoZGF0YSwgdmFsdWVsaW5lLCBzdmcpO1xuXHRcblx0XHQvLyBBZGQgdGhlIFggQXhpc1xuXHRcdHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIikuY2FsbCh4QXhpcyk7XG5cdFxuXHRcdC8vIEFkZCB0aGUgWSBBeGlzXG5cdFx0c3ZnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwieSBheGlzXCIpLmNhbGwoeUF4aXMpO1xuXHRcdC8qKlxyXG5cdCAgKiBUaGlzIGJsb2NrIG9mIGNvZGUgZHJhd3MgdGhlIHBvaW50IGF0IGVhY2ggZGF0YSBwb2ludFxyXG5cdCAgKi9cblx0XHRkcmF3TGluZWFyUG9pbnRzKGRhdGEsIHZhbHVlbGluZSwgc3ZnKTtcblx0fVxuXHRcblx0Ly8vLy8vLy8vLy8vLy8vLy8gT1ZFUkxBUFBJTkcgVElNRVNFUklFUyBMSU5FIEdSQVBIIC8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdGZ1bmN0aW9uIG1ha2VVcERvd25PdmVybGFwaW5nTGluZUdyYXBoV2l0aENoZWNrYm94ZXMoZGF0YSwgZGl2LCBwb2kpIHtcblx0XHR2YXIgY2hhcnRzID0ge307XG5cdFxuXHRcdC8vIFNldCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgY2FudmFzIC8gZ3JhcGhcblx0XHR2YXIgbWFyZ2luID0geyB0b3A6IDMwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDI5IH0sXG5cdFx0ICAgIHdpZHRoID0gNTAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG5cdFx0ICAgIGhlaWdodCA9IDI3MCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXHRcblx0XHR2YXIgYXZlcmFnZXMgPSBkYXRhLmJhc2VsaW5lO1xuXHRcblx0XHR2YXIgeCA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoWzAsIHdpZHRoXSkuZG9tYWluKFswLCAzNjVdKTtcblx0XHR2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pLmRvbWFpbihbMCwgMTAwXSk7XG5cdFxuXHRcdC8vIERlZmluZSB0aGUgYXhlc1xuXHRcdGZ1bmN0aW9uIGZvcm1hdE1vbnRoVGljayhkKSB7XG5cdFx0XHRyZXR1cm4gTU9OVEhfTEFCRUxTWyhkIC0gMTUpIC8gMzBdO1xuXHRcdH1cblx0XHR2YXIgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpLnRpY2tzKDExKS50aWNrVmFsdWVzKFsxNSwgNDUsIDc1LCAxMDUsIDEzNSwgMTY1LCAxOTUsIDIyNSwgMjU1LCAyODUsIDMxNSwgMzQ1XSkudGlja0Zvcm1hdChmb3JtYXRNb250aFRpY2spO1xuXHRcblx0XHR2YXIgeUF4aXMgPSBkMy5heGlzTGVmdCh5KS50aWNrcyg2KTtcblx0XG5cdFx0Ly8gRGVmaW5lIHRoZSBsaW5lXG5cdFx0dmFyIHZhbHVlbGluZSA9IGQzLmxpbmUoKS54KGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheShkKSA/IHgocGFyc2VKdWxpYW5EYXkoZFswXSkpIDogeChpICogOCArIDMpO1xuXHRcdH0pLnkoZnVuY3Rpb24gKGQpIHtcblx0XHRcdHJldHVybiBBcnJheS5pc0FycmF5KGQpID8geShkWzFdKSA6IHkoZCk7XG5cdFx0fSk7XG5cdFxuXHRcdHZhciB3cmFwcGVyID0gZDMuc2VsZWN0KGRpdikuYXBwZW5kKFwiZGl2XCIpLmNsYXNzZWQoXCJvdmVybGFwcGluZy1ncmFwaFwiLCB0cnVlKTtcblx0XG5cdFx0Ly8gQWRkcyB0aGUgc3ZnIGNhbnZhc1xuXHRcdHZhciBzdmcgPSB3cmFwcGVyLmFwcGVuZChcInN2Z1wiKS5hdHRyKCd2aWV3Qm94JywgZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHcgPSB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0O1xuXHRcdFx0dmFyIGggPSBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTtcblx0XHRcdHJldHVybiAnMCAwICcgKyB3ICsgJyAnICsgaDtcblx0XHR9KS5hdHRyKCdwcmVzZXJ2ZUFzcGVjdFJhdGlvJywgJ3hNaWRZTWlkJylcblx0XHQvLy5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcblx0XHQvLy5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuXHRcdC5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblx0XG5cdFx0c3ZnLmNhbGwodGlwKTtcblx0XG5cdFx0Ly8gQWRkIHRoZSBYIEF4aXNcblx0XHRzdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJ4IGF4aXNcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpLmNhbGwoeEF4aXMpO1xuXHRcblx0XHQvLyBBZGQgdGhlIFkgQXhpc1xuXHRcdHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcInkgYXhpc1wiKS5jYWxsKHlBeGlzKTtcblx0XG5cdFx0dmFyIHBsb3QsIGksIGw7XG5cdFx0Zm9yIChpID0gMCwgbCA9IHBvaS5wbG90cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHBsb3QgPSBwb2kucGxvdHNbaV07XG5cdFx0XHRpZiAocGxvdCA9PT0gXCJ0aHJlc2hvbGRzXCIpIGNvbnRpbnVlO1xuXHRcdFx0Y2hhcnRzW3Bsb3RdID0ge1xuXHRcdFx0XHRcInBhdGhcIjogZHJhd0xpbmVhclBhdGgoZGF0YVtwbG90XSwgdmFsdWVsaW5lLCBzdmcpXG5cdFx0XHR9O1xuXHRcdH1cblx0XG5cdFx0LyoqXHJcblx0ICAqIFRoaXMgYmxvY2sgb2YgY29kZSBkcmF3cyB0aGUgcG9pbnQgYXQgZWFjaCBkYXRhIHBvaW50XHJcblx0ICAqL1xuXHRcdGZvciAoaSA9IDAsIGwgPSBwb2kucGxvdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRwbG90ID0gcG9pLnBsb3RzW2ldO1xuXHRcdFx0aWYgKHBsb3QgPT09IFwidGhyZXNob2xkc1wiKSBjb250aW51ZTtcblx0XHRcdGNoYXJ0c1twbG90XS5wb2ludHMgPSBkcmF3TGluZWFyUG9pbnRzKGRhdGFbcGxvdF0sIHZhbHVlbGluZSwgc3ZnKTtcblx0XHR9XG5cdFxuXHRcdHZhciBpbnB1dHdyYXBwZXIgPSB3cmFwcGVyLmFwcGVuZChcImRpdlwiKS5jbGFzc2VkKFwiaW5wdXQtd3JhcHBlclwiLCB0cnVlKTtcblx0XG5cdFx0ZGF0YS5rZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0Y3JlYXRlQ2hlY2tib3goaW5wdXR3cmFwcGVyLCBrZXksIFwib3ZlcmxhcHBpbmdcIiwgcG9pLCBjaGFydHMsIGRhdGEsIHZhbHVlbGluZSwgc3ZnLCBhdmVyYWdlcyk7XG5cdFx0fSk7XG5cdFxuXHRcdGNyZWF0ZUNoZWNrYm94KGlucHV0d3JhcHBlciwgXCJiYXNlbGluZVwiLCBcIm92ZXJsYXBwaW5nXCIsIHBvaSwgY2hhcnRzLCBkYXRhLCB2YWx1ZWxpbmUsIHN2ZywgYXZlcmFnZXMpO1xuXHR9XG5cdFxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFBPTEFSIEdSQVBIIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cdFxuXHRmdW5jdGlvbiBkcmF3VXBEb3duUG9sYXJXaXRoQ2hlY2tib3hlc0FuZFRocmVzaG9sZHMoZGF0YSwgZGl2LCBwb2kpIHtcblx0XHR2YXIgd2lkdGggPSA0OTAsXG5cdFx0ICAgIGhlaWdodCA9IDQ5MCxcblx0XHQgICAgcmFkaXVzID0gTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyIC0gMzA7XG5cdFxuXHRcdHZhciBhdmVyYWdlcyA9IGRhdGFbXCJiYXNlbGluZVwiXTtcblx0XHR2YXIgY2VudGVyID0gZmluZFBvbGFyQ2VudGVyKGRhdGEpO1xuXHRcdHZhciB0aHJlc2hvbGRzID0gZmluZFBvbGFyVGhyZXNob2xkcyhhdmVyYWdlcywgY2VudGVyWzFdWzBdKTtcblx0XG5cdFx0LyoqXHJcblx0ICAqIFNldHMgdXAgc2NhbGluZyBvZiBkYXRhLiBXZSBrbm93IHRoYXQgdGhlIG5kdmkgdmFsdWVzIGZhbGwgYmV0d2VlblxyXG5cdCAgKiAwICYgMTAwIHNvIHdlIHNldCBvdXIgZG9tYWluIHRvIHRoYXQuIFRoZSByYW5nZSBjb250cm9scyB3aGVyZSB0aGVcclxuXHQgICogcG9pbnRzIHdpbGwgbGllIGluIG91ciBncmFwaCwgc28gd2Ugc2V0IHRoZW0gdG8gYmUgYmV0d2VlbiAwIGFuZCB0aGVcclxuXHQgICogcmFkaXVzLlxyXG5cdCAgKi9cblx0XHR2YXIgciA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCAxMDBdKS5yYW5nZShbMCwgcmFkaXVzXSk7XG5cdFxuXHRcdC8qKlxyXG5cdCAgKiBmdW5jdGlvbiB3aGljaCB3aWxsIGRyYXcgZWFjaCBwb2ludC4gVG8gY29tcHV0ZSB0aGUgZGlzdGFuY2UgZnJvbSB0aGVcclxuXHQgICogY2VudGVyIGVhY2ggcG9pbnQgaXMgd2UgcGFzcyB0aGUgZGF0YXBvaW50IHRvIHRoZSBmdW5jdGlvbiBkZWZpbmVkIGFib3ZlLlxyXG5cdCAgKiBUbyBkZXRlcm1pbmUgdGhlIGFuZ2xlIGZyb20gdGhlIG9yaWdpbiB3ZSBuZWVkIHRvIGNvbnZlcnQgdGhlIGRheSB0b1xyXG5cdCAgKiByYWRpYW5zLCBzbyB3ZSBjb252ZXJ0IHRoZSBkYXkgdG8gYSBudW1iZXIgYmV0d2VlbiAwICYgMSBhbmQgdGhlbiBtdWx0aXBseVxyXG5cdCAgKiBpdCBieSAyIHBpLlxyXG5cdCAgKi9cblx0XHR2YXIgbGluZSA9IGQzLnJhZGlhbExpbmUoKS5yYWRpdXMoZnVuY3Rpb24gKGQpIHtcblx0XHRcdHJldHVybiBBcnJheS5pc0FycmF5KGQpID8gcihkWzFdKSA6IHIoZCk7XG5cdFx0fSkuYW5nbGUoZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRcdHZhciBkYXkgPSBBcnJheS5pc0FycmF5KGQpID8gcGFyc2VKdWxpYW5EYXkoZFswXSkgOiBpICogOCArIDM7XG5cdFx0XHRyZXR1cm4gKGRheSAtIDEpICUgMzY1IC8gMzY1ICogKDIgKiBNYXRoLlBJKTtcblx0XHR9KTtcblx0XG5cdFx0LyoqXHJcblx0ICAqIFNldHMgdXAgdGhlIGNhbnZhcyB3aGVyZSB0aGUgY2lyY2xlIHdpbGwgYmUgZHJhd24uXHJcblx0ICAqL1xuXHRcdHZhciB3cmFwcGVyID0gZDMuc2VsZWN0KGRpdikuYXBwZW5kKFwiZGl2XCIpLmNsYXNzZWQoXCJwb2xhci1ncmFwaFwiLCB0cnVlKTtcblx0XHR2YXIgc3ZnID0gd3JhcHBlci5hcHBlbmQoXCJzdmdcIilcblx0XHQvLy5hdHRyKFwid2lkdGhcIiwgd2lkdGgpXG5cdFx0Ly8uYXR0cihcImhlaWdodFwiLCBoZWlnaHQpXG5cdFx0LmF0dHIoJ3ZpZXdCb3gnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gJzAgMCAnICsgd2lkdGggKyAnICcgKyBoZWlnaHQ7XG5cdFx0fSkuYXR0cigncHJlc2VydmVBc3BlY3RSYXRpbycsICd4TWlkWU1pZCcpLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHdpZHRoIC8gMiArIFwiLFwiICsgaGVpZ2h0IC8gMiArIFwiKVwiKTtcblx0XG5cdFx0c3ZnLmNhbGwodGlwKTtcblx0XG5cdFx0LyoqXHJcblx0ICAqIFRoaXMgYmxvY2sgb2YgY29kZSBkcmF3cyB0aGUgYmlnIGNpcmNsZXMgb2YgdGhlIGdyYXBoICYgdGhlaXIgbGFiZWxzXHJcblx0ICAqL1xuXHRcdHZhciBnciA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcInIgYXhpc1wiKS5zZWxlY3RBbGwoXCJnXCIpLmRhdGEoci50aWNrcyg1KS5zbGljZSgxKSkuZW50ZXIoKS5hcHBlbmQoXCJnXCIpO1xuXHRcblx0XHRnci5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcInJcIiwgcik7XG5cdFxuXHRcdGdyLmFwcGVuZChcInRleHRcIikuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdHJldHVybiAtcihkKSAtIDQ7XG5cdFx0fSkuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgxNSlcIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKS50ZXh0KGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gZDtcblx0XHR9KTtcblx0XG5cdFx0LyoqXHJcblx0ICAqIFRoaXMgYmxvY2sgb2YgY29kZSBkcmF3cyB0aGUgbGFiZWxzIGZvciBlYWNoIG1vbnRoIGFuZCB0aGUgbGluZXNcclxuXHQgICogdGhhdCBnbyBvdXQgdG8gdGhlbS5cclxuXHQgICovXG5cdFx0dmFyIGdhX2EgPSBzdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJhIGF4aXNcIikuc2VsZWN0QWxsKFwiZ1wiKS5kYXRhKGQzLnJhbmdlKDAsIDM2MCwgMzApKS5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0cmV0dXJuIFwicm90YXRlKFwiICsgKGQgLSA5MCkgKyBcIilcIjtcblx0XHR9KTtcblx0XG5cdFx0Z2FfYS5hcHBlbmQoXCJsaW5lXCIpLmF0dHIoXCJ4MlwiLCByYWRpdXMpO1xuXHRcblx0XHRnYV9hLmFwcGVuZChcInRleHRcIikuYXR0cihcInhcIiwgcmFkaXVzICsgNikuYXR0cihcImR5XCIsIFwiLjM1ZW1cIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0cmV0dXJuIGQgPCAzNjAgJiYgZCA+IDE4MCA/IFwiZW5kXCIgOiBudWxsO1xuXHRcdH0pLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdHJldHVybiBkIDwgMzYwICYmIGQgPiAxODAgPyBcInJvdGF0ZSgxODAgXCIgKyAocmFkaXVzICsgNikgKyBcIiwwKVwiIDogbnVsbDtcblx0XHR9KS50ZXh0KGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gTU9OVEhfTEFCRUxTW2QgLyAzMF07XG5cdFx0fSk7XG5cdFxuXHRcdC8qKlxyXG5cdCAgKiBEcmF3cyB0aGUgdGhyZXNob2xkIGxpbmVzXHJcblx0ICAqL1xuXHRcdHZhciB0aHJlc2hvbGRFbGVtID0gc3ZnLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiZ1wiKS5kYXRhKHRocmVzaG9sZHMpLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gXCJyb3RhdGUoXCIgKyAoZC5kYXRhWzFdWzBdIC0gOTApICsgXCIpXCI7XG5cdFx0fSk7XG5cdFxuXHRcdHRocmVzaG9sZEVsZW0uYXBwZW5kKFwibGluZVwiKS5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lXCIpLmF0dHIoXCJ4MlwiLCByYWRpdXMpO1xuXHRcblx0XHR0aHJlc2hvbGRFbGVtLmFwcGVuZChcInRleHRcIikuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdHZhciBkYXkgPSBkLmRhdGFbMV1bMF07cmV0dXJuIGRheSA8IDM2MCAmJiBkYXkgPiAxODAgPyByYWRpdXMgKyAzMCA6IHJhZGl1cyAtIDMwO1xuXHRcdH0pLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gZC5kYXRhWzFdWzBdICUgMzY1IC8gMzY1ICogKDIgKiBNYXRoLlBJKSArIDY7XG5cdFx0fSkuYXR0cihcImR5XCIsIFwiLjM1ZW1cIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0dmFyIGRheSA9IGQuZGF0YVsxXVswXTtyZXR1cm4gZGF5IDwgMzYwICYmIGRheSA+IDE4MCA/IFwibWlkZGxlXCIgOiBudWxsO1xuXHRcdH0pLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdHZhciBkYXkgPSBkLmRhdGFbMV1bMF07cmV0dXJuIGRheSA8IDM2MCAmJiBkYXkgPiAxODAgPyBcInJvdGF0ZSgxODAgXCIgKyAocmFkaXVzICsgNikgKyBcIiwwKVwiIDogbnVsbDtcblx0XHR9KS50ZXh0KGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRyZXR1cm4gZC5sYWJlbDtcblx0XHR9KTtcblx0XG5cdFx0dGhyZXNob2xkRWxlbS5zdHlsZShcIm9wYWNpdHlcIiwgcG9pLnBsb3RzLmluZGV4T2YoXCJ0aHJlc2hvbGRzXCIpICE9PSAtMSA/IDEgOiAwKTtcblx0XG5cdFx0LyoqXHJcblx0ICAqIERyYXdzIHRoZSBsaW5lIHRvIHRoZSBjZW50ZXIgb2YgdGhlIGRhdGFcclxuXHQgICovXG5cdFx0dmFyIGNlbnRlckRheSA9IGNlbnRlclsxXVswXTtcblx0XHR2YXIgY2VudGVyRGF5T3Bwb3NpdGUgPSAoY2VudGVyRGF5ICsgMzY1IC8gMikgJSAzNjU7XG5cdFx0dmFyIGNlbnRlckRheURhdGEgPSBbY2VudGVyRGF5LCAxMDBdO1xuXHRcdHZhciBjZW50ZXJEYXlPcHBvc2l0ZURhdGEgPSBbY2VudGVyRGF5T3Bwb3NpdGUsIDEwMF07XG5cdFx0dmFyIGdyb3dpbmdTZWFzb25EYXRhID0gW2NlbnRlckRheURhdGEsIGNlbnRlckRheU9wcG9zaXRlRGF0YV07XG5cdFxuXHRcdGRyYXdQb2xhclBhdGgoZ3Jvd2luZ1NlYXNvbkRhdGEsIGxpbmUsIHN2ZykuY2xhc3NlZChcImdyb3dpbmctc2Vhc29uLWxpbmVcIiwgXCJ0cnVlXCIpO1xuXHRcblx0XHRkcmF3UG9sYXJQYXRoKGNlbnRlciwgbGluZSwgc3ZnKS5jbGFzc2VkKFwiY2VudGVyLWxpbmVcIiwgXCJ0cnVlXCIpO1xuXHRcblx0XHRzdmcuc2VsZWN0QWxsKFwicG9pbnRcIikuZGF0YShbY2VudGVyWzFdXSkuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcImNsYXNzXCIsIFwiY2VudGVyXCIpLmF0dHIoXCJyXCIsIDQpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdHZhciBjb29ycyA9IGxpbmUoW2RdKS5zbGljZSgxKS5zbGljZSgwLCAtMSk7XG5cdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBjb29ycyArIFwiKVwiO1xuXHRcdH0pLmF0dHIoXCJzdHJva2VcIiwgXCIjMDAwXCIpLmF0dHIoXCJmaWxsXCIsIFwiI2VhMGM0OFwiKS5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0dGlwLnNob3coXCJDZW50ZXI6IFwiICsgU3RyaW5nKGRbMV0pLnN1YnN0cmluZygwLCA3KSk7XG5cdFx0XHR0aGlzLnNldEF0dHJpYnV0ZShcInJcIiwgNSk7XG5cdFx0fSkub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0dGlwLmhpZGUoKTtcblx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKFwiclwiLCA0KTtcblx0XHR9KTtcblx0XG5cdFx0dmFyIGNoYXJ0cyA9IHt9O1xuXHRcblx0XHQvKipcclxuXHQgICogVGhpcyBibG9jayBvZiBjb2RlIGRyYXdzIHRoZSBsaW5lIHRoYXQgdGhlIGRhdGEgZm9sbG93c1xyXG5cdCAgKi9cblx0XHR2YXIgcGxvdCwgaSwgbDtcblx0XHRmb3IgKGkgPSAwLCBsID0gcG9pLnBsb3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0cGxvdCA9IHBvaS5wbG90c1tpXTtcblx0XHRcdGlmIChwbG90ID09PSBcInRocmVzaG9sZHNcIikgY29udGludWU7XG5cdFx0XHRjaGFydHNbcGxvdF0gPSB7XG5cdFx0XHRcdFwicGF0aFwiOiBkcmF3UG9sYXJQYXRoKGRhdGFbcGxvdF0sIGxpbmUsIHN2Zylcblx0XHRcdH07XG5cdFx0fVxuXHRcblx0XHQvKipcclxuXHQgICogVGhpcyBibG9jayBvZiBjb2RlIGRyYXdzIHRoZSBwb2ludCBhdCBlYWNoIGRhdGEgcG9pbnRcclxuXHQgICovXG5cdFx0Zm9yIChpID0gMCwgbCA9IHBvaS5wbG90cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHBsb3QgPSBwb2kucGxvdHNbaV07XG5cdFx0XHRpZiAocGxvdCA9PT0gXCJ0aHJlc2hvbGRzXCIpIGNvbnRpbnVlO1xuXHRcdFx0Y2hhcnRzW3Bsb3RdLnBvaW50cyA9IGRyYXdMaW5lYXJQb2ludHMoZGF0YVtwbG90XSwgbGluZSwgc3ZnKTtcblx0XHR9XG5cdFxuXHRcdHZhciBpbnB1dHdyYXBwZXIgPSB3cmFwcGVyLmFwcGVuZChcImRpdlwiKS5jbGFzc2VkKFwiaW5wdXQtd3JhcHBlclwiLCB0cnVlKTtcblx0XG5cdFx0ZGF0YS5rZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0Y3JlYXRlQ2hlY2tib3goaW5wdXR3cmFwcGVyLCBrZXksIFwicG9sYXJcIiwgcG9pLCBjaGFydHMsIGRhdGEsIGxpbmUsIHN2ZywgYXZlcmFnZXMpO1xuXHRcdH0pO1xuXHRcblx0XHRjcmVhdGVDaGVja2JveChpbnB1dHdyYXBwZXIsIFwiYmFzZWxpbmVcIiwgXCJwb2xhclwiLCBwb2ksIGNoYXJ0cywgZGF0YSwgbGluZSwgc3ZnLCBhdmVyYWdlcyk7XG5cdFxuXHRcdHZhciB0aHJlc2hvbGRDaGVja2JveCA9IGlucHV0d3JhcHBlci5hcHBlbmQoXCJkaXZcIikuY2xhc3NlZChcInRocmVzaG9sZC1jaGVja2JveFwiLCB0cnVlKTtcblx0XG5cdFx0dGhyZXNob2xkQ2hlY2tib3guYXBwZW5kKFwiaW5wdXRcIikuYXR0cihcInR5cGVcIiwgXCJjaGVja2JveFwiKS5hdHRyKFwiaWRcIiwgXCJ0aHJlc2hvbGQtY2hlY2tib3gtXCIgKyBwb2kubGF0LnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikgKyBcIi1cIiArIHBvaS5sbmcudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSkucHJvcGVydHkoXCJjaGVja2VkXCIsIHBvaS5wbG90cy5pbmRleE9mKFwidGhyZXNob2xkc1wiKSAhPT0gLTEpLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XG5cdFx0XHR0aHJlc2hvbGRFbGVtLnN0eWxlKFwib3BhY2l0eVwiLCB0aGlzLmNoZWNrZWQgPyAxIDogMCk7XG5cdFx0XHR2YXIgb2Zmb24gPSB0aGlzLmNoZWNrZWQgPyAnb2ZmJyA6ICdvbic7XG5cdFxuXHRcdFx0aWYgKHRoaXMuY2hlY2tlZCkge1xuXHRcdFx0XHRhZGRLZXlUb1BPSShwb2ksIFwidGhyZXNob2xkc1wiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlbW92ZUtleUZyb21QT0kocG9pLCBcInRocmVzaG9sZHNcIik7XG5cdFx0XHR9XG5cdFxuXHRcdFx0KDAsIF9zaGFyZS51cGRhdGVTaGFyZVVybCkoKTtcblx0XHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGdyYXBoIHRocmVzaG9sZCBjbGljayBvZmZcblx0XHRcdGRpc3BhdGNoR3JhcGhDaGVja2JveENsaWNrKCd0aHJlc2hvbGQgcG9sYXIgdGltZXNlcmllcyAnICsgb2Zmb24pO1xuXHRcdH0pO1xuXHRcblx0XHR0aHJlc2hvbGRDaGVja2JveC5hcHBlbmQoXCJsYWJlbFwiKS50ZXh0KFwiVGhyZXNob2xkc1wiKS5hdHRyKFwiZm9yXCIsIFwidGhyZXNob2xkLWNoZWNrYm94LVwiICsgcG9pLmxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBwb2kubG5nLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuXHR9XG5cdFxuXHQvKiBQT0xBUiBHUkFQSCBIRUxQRVJTICovXG5cdFxuXHRmdW5jdGlvbiBmaW5kUG9sYXJDZW50ZXIoZGF0YSkge1xuXHRcdHZhciBpLCBqLCBsZW5ndGgsIGFycjtcblx0XHR2YXIgdG90YWxTdW0gPSAwO1xuXHRcdHZhciBpbmNvbXBsZXRlWWVhcnMgPSAwO1xuXHRcdHZhciBzdW07XG5cdFx0bGVuZ3RoID0gNDY7XG5cdFxuXHRcdGZvciAoaSA9IDA7IGkgPCBkYXRhLmtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGFyciA9IGRhdGFbZGF0YS5rZXlzW2ldXTtcblx0XHRcdGlmIChhcnIubGVuZ3RoICE9PSBsZW5ndGgpIHtcblx0XHRcdFx0aW5jb21wbGV0ZVllYXJzKys7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0c3VtID0gMDtcblx0XHRcdGZvciAoaiA9IDA7IGogPCBsZW5ndGggLyAyOyBqKyspIHtcblx0XHRcdFx0c3VtICs9IGFycltqXVsxXSAtIGFycltqICsgMjNdWzFdO1xuXHRcdFx0fVxuXHRcdFx0c3VtID0gc3VtIC8gMjM7XG5cdFx0XHR0b3RhbFN1bSArPSBzdW07XG5cdFx0fVxuXHRcdHRvdGFsU3VtID0gTWF0aC5hYnModG90YWxTdW0pIC8gKGRhdGEua2V5cy5sZW5ndGggLSBpbmNvbXBsZXRlWWVhcnMpO1xuXHRcblx0XHR2YXIgYXJlYURpZmYgPSAxMDAwMDAwO1xuXHRcdHZhciBjaGVja0RpZmY7XG5cdFx0dmFyIGFyZWFJbmRleCA9IDA7XG5cdFx0dmFyIGxlZnRBcmVhLCByaWdodEFyZWE7XG5cdFx0dmFyIGF2Z3MgPSBkYXRhLmJhc2VsaW5lO1xuXHRcdHZhciBrLCBjb3VudGVyO1xuXHRcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoIC8gMjsgaSsrKSB7XG5cdFx0XHRsZWZ0QXJlYSA9IDA7XG5cdFx0XHRyaWdodEFyZWEgPSAwO1xuXHRcdFx0Zm9yIChjb3VudGVyID0gMDsgY291bnRlciA8IGxlbmd0aCAvIDI7IGNvdW50ZXIrKykge1xuXHRcdFx0XHRqID0gKGkgKyBjb3VudGVyKSAlIDQ2O1xuXHRcdFx0XHRrID0gKGogKyAyMykgJSA0Njtcblx0XG5cdFx0XHRcdGxlZnRBcmVhICs9IHBhcnNlSW50KGF2Z3Nbal0sIDEwKTtcblx0XHRcdFx0cmlnaHRBcmVhICs9IHBhcnNlSW50KGF2Z3Nba10sIDEwKTtcblx0XHRcdH1cblx0XHRcdGNoZWNrRGlmZiA9IE1hdGguYWJzKGxlZnRBcmVhIC0gcmlnaHRBcmVhKTtcblx0XHRcdGlmIChjaGVja0RpZmYgPCBhcmVhRGlmZikge1xuXHRcdFx0XHRhcmVhRGlmZiA9IGNoZWNrRGlmZjtcblx0XHRcdFx0YXJlYUluZGV4ID0gaTtcblx0XHRcdH1cblx0XHR9XG5cdFxuXHRcdHZhciBmaXJzdFJhZGl1cyA9IHBhcnNlSW50KGF2Z3NbYXJlYUluZGV4XSwgMTApO1xuXHRcdHZhciBzZWNvbmRSYWRpdXMgPSBwYXJzZUludCgtYXZnc1thcmVhSW5kZXggKyAyM10sIDEwKTtcblx0XG5cdFx0dmFyIG1pZHBvaW50ID0gKGZpcnN0UmFkaXVzICsgc2Vjb25kUmFkaXVzKSAvIDI7XG5cdFx0dmFyIGZpcnN0RGlmZiA9IE1hdGguYWJzKHRvdGFsU3VtIC0gbWlkcG9pbnQpO1xuXHRcdHZhciBzZWNvbmREaWZmID0gTWF0aC5hYnMoLXRvdGFsU3VtIC0gbWlkcG9pbnQpO1xuXHRcdGlmIChzZWNvbmREaWZmIDwgZmlyc3REaWZmKSB7XG5cdFx0XHRhcmVhSW5kZXggPSBhcmVhSW5kZXggKyAyMztcblx0XHR9XG5cdFxuXHRcdHZhciBjaXJjbGVjZW50ZXIgPSBbMCwgMF07XG5cdFx0dmFyIGRhdGFjZW50ZXIgPSBbYXJlYUluZGV4ICogOCArIDMsIHRvdGFsU3VtXTtcblx0XG5cdFx0cmV0dXJuIFtjaXJjbGVjZW50ZXIsIGRhdGFjZW50ZXJdO1xuXHR9XG5cdFxuXHQvKipcclxuXHQgKiBzdGFydERheSBpcyBhY3R1YWxseSB0aGUgc2Vhc29uYWxpdHkgaW5kZXgsIGl0IHNob3VsZCBiZSBmbGlwcGVkXHJcblx0ICovXG5cdGZ1bmN0aW9uIGZpbmRQb2xhclRocmVzaG9sZHMoZGF0YSwgc3RhcnREYXkpIHtcblx0XHR2YXIgc3RhcnRJbmRleCA9IE1hdGguZmxvb3IoKHN0YXJ0RGF5IC0gMykgLyA4KTtcblx0XHRzdGFydEluZGV4ICs9IHN0YXJ0SW5kZXggPiAyMiA/IC0yMyA6IDIzO1xuXHRcdHZhciBpLCBqLCBsZW5ndGgsIGFycjtcblx0XHR2YXIgdG90YWxTdW0gPSAwO1xuXHRcdHZhciBzdW07XG5cdFx0bGVuZ3RoID0gNDY7XG5cdFxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0aiA9IChzdGFydEluZGV4ICsgaSkgJSBsZW5ndGg7XG5cdFx0XHR0b3RhbFN1bSArPSBwYXJzZUludChkYXRhW2pdLCAxMCk7XG5cdFx0fVxuXHRcblx0XHR2YXIgZmlmdGVlblRocmVzaG9sZCA9IHRvdGFsU3VtICogLjE1O1xuXHRcdHZhciBlaWdodHlUaHJlc2hvbGQgPSB0b3RhbFN1bSAqIC44MDtcblx0XHR2YXIgZmlmdGVlbkluZGV4Rm91bmQgPSBmYWxzZSxcblx0XHQgICAgZWlnaHR5SW5kZXhGb3VuZCA9IGZhbHNlO1xuXHRcdHZhciBmaWZ0ZWVuSW5kZXgsIGVpZ2h0eUluZGV4O1xuXHRcblx0XHR0b3RhbFN1bSA9IDA7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRqID0gKHN0YXJ0SW5kZXggKyBpKSAlIGxlbmd0aDtcblx0XHRcdHRvdGFsU3VtICs9IHBhcnNlSW50KGRhdGFbal0sIDEwKTtcblx0XHRcdGlmICghZmlmdGVlbkluZGV4Rm91bmQgJiYgdG90YWxTdW0gPiBmaWZ0ZWVuVGhyZXNob2xkKSB7XG5cdFx0XHRcdGZpZnRlZW5JbmRleCA9IGo7XG5cdFx0XHRcdGZpZnRlZW5JbmRleEZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIWVpZ2h0eUluZGV4Rm91bmQgJiYgdG90YWxTdW0gPiBlaWdodHlUaHJlc2hvbGQpIHtcblx0XHRcdFx0ZWlnaHR5SW5kZXggPSBqO1xuXHRcdFx0XHRlaWdodHlJbmRleEZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHR2YXIgY2lyY2xlQ2VudGVyID0gWzAsIDBdO1xuXHRcblx0XHR2YXIgZmlmdGVlbkVuZCA9IFtmaWZ0ZWVuSW5kZXggKiA4ICsgMywgMTAwXTtcblx0XHR2YXIgZWlnaHR5RW5kID0gW2VpZ2h0eUluZGV4ICogOCArIDMsIDEwMF07XG5cdFxuXHRcdHJldHVybiBbe1xuXHRcdFx0XCJsYWJlbFwiOiBcIjE1JVwiLFxuXHRcdFx0XCJkYXRhXCI6IFtjaXJjbGVDZW50ZXIsIGZpZnRlZW5FbmRdXG5cdFx0fSwge1xuXHRcdFx0XCJsYWJlbFwiOiBcIjgwJVwiLFxuXHRcdFx0XCJkYXRhXCI6IFtjaXJjbGVDZW50ZXIsIGVpZ2h0eUVuZF1cblx0XHR9XTtcblx0fVxuXHRcblx0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEdSQVBIIEhFTFBFUlMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdGZ1bmN0aW9uIGRyYXdMaW5lYXJQYXRoKGRhdGEsIGxpbmUsIHN2Zykge1xuXHRcdHJldHVybiBzdmcuYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lXCIpLmF0dHIoXCJkXCIsIGxpbmUoZGF0YSkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmF3UG9sYXJQYXRoKGRhdGEsIGxpbmUsIHN2Zykge1xuXHRcdHJldHVybiBzdmcuYXBwZW5kKFwicGF0aFwiKS5kYXR1bShkYXRhKS5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lXCIpLmF0dHIoXCJkXCIsIGxpbmUpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkcmF3TGluZWFyUG9pbnRzKGRhdGEsIGxpbmUsIHN2Zykge1xuXHRcdHJldHVybiBzdmcuc2VsZWN0QWxsKFwicG9pbnRcIikuZGF0YShkYXRhKS5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKS5hdHRyKFwiclwiLCAyKS5hdHRyKFwiY2xhc3NcIiwgXCJwb2ludFwiKS5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHR2YXIgcG9pbnQgPSBBcnJheS5pc0FycmF5KGQpID8gZCA6IFtpICogOCArIDMsIGRdO1xuXHRcdFx0dmFyIGNvb3JzID0gbGluZShbcG9pbnRdKS5zbGljZSgxKS5zbGljZSgwLCAtMSk7XG5cdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBjb29ycyArIFwiKVwiO1xuXHRcdH0pXG5cdFx0Ly8uYXR0cihcInJcIiwgMylcblx0XHQuYXR0cihcInN0cm9rZVwiLCBcIiMwMDBcIikuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRcdHZhciB2YWwgPSBBcnJheS5pc0FycmF5KGQpID8gZFswXS5zdWJzdHJpbmcoMCwgNCkgOiAwO1xuXHRcdFx0cmV0dXJuIHB1bGxEaXN0aW5jdENvbG9yKHZhbCk7XG5cdFx0fSkub24oXCJtb3VzZW92ZXJcIiwgaGFuZGxlUG9pbnRNb3VzZW92ZXIpLm9uKFwibW91c2VvdXRcIiwgaGFuZGxlUG9pbnRNb3VzZW91dCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZVBvaW50TW91c2VvdmVyKGQpIHtcblx0XHR2YXIgdGlwU3RyaW5nID0gQXJyYXkuaXNBcnJheShkKSA/IGZvcm1hdERhdGUoZFswXSkgKyBcIjogXCIgKyBkWzFdIDogXCJBdmVyYWdlOiBcIiArIGQ7XG5cdFx0dGlwLnNob3codGlwU3RyaW5nKTtcblx0XHR0aGlzLnNldEF0dHJpYnV0ZShcInJcIiwgXCI0XCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYW5kbGVQb2ludE1vdXNlb3V0KGQpIHtcblx0XHR0aXAuaGlkZSgpO1xuXHRcdHRoaXMuc2V0QXR0cmlidXRlKFwiclwiLCBcIjJcIik7XG5cdFxuXHRcdHZhciBhY3RpdmVUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyYXBoLXR5cGUtYnRuIGFjdGl2ZVwiKVswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpO1xuXHRcblx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyB0b29sIHRpcCBvbiBncmFwaCBkbyB0aGlzIG9uIHRoZSBtb3VzZW91dCBzbyBtb3VzZW92ZXIgZG9zZSBub3QgZG8gYSBsb3Qgb2YgZXZlbnRzLi4uLlxuXHRcdC8vIHdlIG1pc3MgYSBmZXcgYnV0IHRoYXQgaXMgYmV0dGVyIHRoYW4gb3ZlciBjb3VudGluZy5cblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdncmFwaCcsXG5cdFx0XHRldmVudEFjdGlvbjogJ2hvdmVyJyxcblx0XHRcdGV2ZW50TGFiZWw6IGFjdGl2ZVR5cGUgKyAnIHRvb2wgdGlwJyxcblx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxuXHRcdH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVDaGVja2JveCh3cmFwcGVyLCBrZXksIHR5cGUsIHBvaSwgY2hhcnRzLCBkYXRhLCBsaW5lLCBzdmcsIGF2ZXJhZ2VzKSB7XG5cdFx0dmFyIGNoZWNrYm94V3JhcHBlciA9IHdyYXBwZXIuYXBwZW5kKFwiZGl2XCIpO1xuXHRcdHZhciBsYXQgPSBwb2kubGF0O1xuXHRcdHZhciBsbmcgPSBwb2kubG5nO1xuXHRcblx0XHRjaGVja2JveFdyYXBwZXIuYXBwZW5kKFwiaW5wdXRcIikuYXR0cihcInR5cGVcIiwgXCJjaGVja2JveFwiKS5hdHRyKFwiaWRcIiwgdHlwZSArIFwiLVwiICsga2V5ICsgbGF0LnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikgKyBcIi1cIiArIGxuZy50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKS5hdHRyKFwiZGF0YS1saW5rXCIsIGtleSArIGxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBsbmcudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSkuYXR0cihcInZhbHVlXCIsIGtleSkucHJvcGVydHkoXCJjaGVja2VkXCIsIHBvaS5wbG90cy5pbmRleE9mKGtleSkgIT09IC0xID8gdHJ1ZSA6IGZhbHNlKS5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0dmFyIG5ld1llYXIgPSB0aGlzLnZhbHVlO1xuXHRcdFx0aWYgKCF0aGlzLmNoZWNrZWQpIHtcblx0XHRcdFx0aGFuZGxlQ2hlY2tib3hEaXNhYmxlKGNoYXJ0cywgbmV3WWVhcik7XG5cdFx0XHRcdHJlbW92ZUtleUZyb21QT0kocG9pLCBrZXkpO1xuXHRcdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBncmFwaCB5ZWFyIGNsaWNrIG9mZlxuXHRcdFx0XHRkaXNwYXRjaEdyYXBoQ2hlY2tib3hDbGljayhuZXdZZWFyICsgJyAnICsgdHlwZSArICcgdGltZXNlcmllcyBvZmYnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGhhbmRsZUNoZWNrYm94RW5hYmxlKGNoYXJ0cywgbmV3WWVhciwgZGF0YSwgbGluZSwgc3ZnLCBhdmVyYWdlcyk7XG5cdFx0XHRcdGFkZEtleVRvUE9JKHBvaSwga2V5KTtcblx0XHRcdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZ3JhcGggeWVhciBjbGljayBvblxuXHRcdFx0XHRkaXNwYXRjaEdyYXBoQ2hlY2tib3hDbGljayhuZXdZZWFyICsgJyAnICsgdHlwZSArICcgdGltZXNlcmllcyBvbicpO1xuXHRcdFx0fVxuXHRcdFx0aGFuZGxlQ2hlY2tib3hTeW5jKGtleSArIGxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBsbmcudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSwgdGhpcy5jaGVja2VkKTtcblx0XHRcdCgwLCBfc2hhcmUudXBkYXRlU2hhcmVVcmwpKCk7XG5cdFx0fSk7XG5cdFxuXHRcdGNoZWNrYm94V3JhcHBlci5hcHBlbmQoXCJsYWJlbFwiKS50ZXh0KGtleSAhPT0gXCJiYXNlbGluZVwiID8ga2V5IDogXCJCYXNlbGluZVwiKS5hdHRyKFwiZm9yXCIsIHR5cGUgKyBcIi1cIiArIGtleSArIGxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBsbmcudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG5cdFxuXHRcdGNoZWNrYm94V3JhcHBlci5hcHBlbmQoXCJkaXZcIikuc3R5bGUoXCJiYWNrZ3JvdW5kXCIsIHB1bGxEaXN0aW5jdENvbG9yKGtleSAhPT0gXCJiYXNlbGluZVwiID8ga2V5IDogMCkpLmNsYXNzZWQoXCJncmFwaC1waXAtZXhhbXBsZVwiLCB0cnVlKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hEaXNhYmxlKGNoYXJ0cywgbmV3WWVhcikge1xuXHRcdGNoYXJ0c1tuZXdZZWFyXS5wYXRoLnJlbW92ZSgpO1xuXHRcdGNoYXJ0c1tuZXdZZWFyXS5wb2ludHMucmVtb3ZlKCk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZUNoZWNrYm94RW5hYmxlKGNoYXJ0cywgbmV3WWVhciwgZGF0YSwgbGluZSwgc3ZnKSB7XG5cdFx0aWYgKCFjaGFydHMuaGFzT3duUHJvcGVydHkobmV3WWVhcikpIHtcblx0XHRcdGNoYXJ0c1tuZXdZZWFyXSA9IHt9O1xuXHRcdH1cblx0XHRjaGFydHNbbmV3WWVhcl0ucGF0aCA9IGRyYXdMaW5lYXJQYXRoKGRhdGFbbmV3WWVhcl0sIGxpbmUsIHN2Zyk7XG5cdFx0Y2hhcnRzW25ld1llYXJdLnBvaW50cyA9IGRyYXdMaW5lYXJQb2ludHMoZGF0YVtuZXdZZWFyXSwgbGluZSwgc3ZnKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hTeW5jKGtleSwgY2hlY2tlZFN0YXR1cywgd3JhcHBlcikge1xuXHRcdGQzLnNlbGVjdEFsbChcImlucHV0W2RhdGEtbGluaz0nXCIgKyBrZXkgKyBcIiddXCIpLmVhY2goZnVuY3Rpb24gKHAsIGopIHtcblx0XHRcdHZhciBlbGVtID0gZDMuc2VsZWN0KHRoaXMpO1xuXHRcdFx0aWYgKGVsZW0ucHJvcGVydHkoXCJjaGVja2VkXCIpICE9PSBjaGVja2VkU3RhdHVzKSB7XG5cdFx0XHRcdGVsZW0ucHJvcGVydHkoXCJjaGVja2VkXCIsIGNoZWNrZWRTdGF0dXMpO1xuXHRcdFx0XHRlbGVtLmRpc3BhdGNoKFwiY2hhbmdlXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiByZW1vdmVLZXlGcm9tUE9JKHBvaSwga2V5KSB7XG5cdFx0dmFyIGluZGV4ID0gcG9pLnBsb3RzLmluZGV4T2Yoa2V5KTtcblx0XHRpZiAoaW5kZXggPT09IC0xKSByZXR1cm47XG5cdFx0cG9pLnBsb3RzLnNwbGljZShpbmRleCwgMSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGFkZEtleVRvUE9JKHBvaSwga2V5KSB7XG5cdFx0aWYgKHBvaS5wbG90cy5pbmRleE9mKGtleSkgIT09IC0xKSByZXR1cm47XG5cdFx0cG9pLnBsb3RzLnB1c2goa2V5KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlzcGF0Y2hHcmFwaENoZWNrYm94Q2xpY2sobGFiZWwpIHtcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdncmFwaCcsXG5cdFx0XHRldmVudEFjdGlvbjogJ2NsaWNrJyxcblx0XHRcdGV2ZW50TGFiZWw6IGxhYmVsLFxuXHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0fSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHB1bGxEaXN0aW5jdENvbG9yKHllYXIpIHtcblx0XHR2YXIgY29sb3JSYW1wID0gW1wiI2ZmZTQ3NlwiLCBcIiMwMzY1OTNcIiwgXCIjMTE2YzkxXCIsIFwiIzFlNzM5MFwiLCBcIiMyYzdiOGVcIiwgXCIjMzk4MjhjXCIsIFwiIzRjOGM4YVwiLCBcIiM1ZTk1ODlcIiwgXCIjNzE5Zjg3XCIsIFwiIzgzYTg4NlwiLCBcIiM5NWIxODNcIiwgXCIjYTZiYTgwXCIsIFwiI2I4YzM3Y1wiLCBcIiNjYWNjNzlcIiwgXCIjZDZkMjc5XCIsIFwiI2UyZDc3OVwiLCBcIiNlZmRkNzhcIiwgXCIjZmJlMzc4XCJdO1xuXHRcblx0XHRyZXR1cm4geWVhciA9PT0gMCA/IFwiI2ZmZlwiIDogY29sb3JSYW1wW3BhcnNlSW50KHllYXIsIDEwKSAlIGNvbG9yUmFtcC5sZW5ndGhdO1xuXHR9XG5cdFxuXHQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIERBVEUgSEVMUEVSUyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblx0XG5cdGZ1bmN0aW9uIHBhcnNlRGF0ZShkYXRlKSB7XG5cdFx0ZGF0ZSA9IGRhdGUudG9TdHJpbmcoKTtcblx0XHR2YXIgeWVhciA9IGRhdGUuc3Vic3RyaW5nKDAsIDQpO1xuXHRcdHZhciBtb250aCA9IHBhcnNlSW50KGRhdGUuc3Vic3RyaW5nKDQsIDYpLCAxMCkgLSAxO1xuXHRcdHZhciBkYXkgPSBkYXRlLnN1YnN0cmluZyg2LCA4KTtcblx0XG5cdFx0cmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBwYXJzZUp1bGlhbkRheShkYXRlKSB7XG5cdFx0aWYgKHR5cGVvZiBkYXRlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRkYXRlID0gcGFyc2VEYXRlKGRhdGUpO1xuXHRcdFx0cmV0dXJuIGRhdGUuZ2V0RE9ZKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBkYXRlO1xuXHRcdH1cblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlKSB7XG5cdFx0aWYgKGRhdGUgPT09IFwiQXZlcmFnZVwiKSB7XG5cdFx0XHRyZXR1cm4gZGF0ZTtcblx0XHR9XG5cdFxuXHRcdGRhdGUgPSBwYXJzZURhdGUoZGF0ZSk7XG5cdFx0cmV0dXJuIGZvcm1hdE1vbnRoKGRhdGUuZ2V0TW9udGgoKSkgKyBcIiBcIiArIG9yZGluYWxfc3VmZml4X29mKGRhdGUuZ2V0RGF0ZSgpKSArIFwiLCBcIiArIGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZm9ybWF0TW9udGgobW9udGgpIHtcblx0XHRyZXR1cm4gRk9STUFUVEVEX01PTlRIX0xBQkVMU1ttb250aF07XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG9yZGluYWxfc3VmZml4X29mKGRheSkge1xuXHRcdHZhciBqID0gZGF5ICUgMTAsXG5cdFx0ICAgIGsgPSBkYXkgJSAxMDA7XG5cdFx0aWYgKGogPT09IDEgJiYgayAhPT0gMTEpIHtcblx0XHRcdHJldHVybiBkYXkgKyBcInN0XCI7XG5cdFx0fVxuXHRcdGlmIChqID09PSAyICYmIGsgIT09IDEyKSB7XG5cdFx0XHRyZXR1cm4gZGF5ICsgXCJuZFwiO1xuXHRcdH1cblx0XHRpZiAoaiA9PT0gMyAmJiBrICE9PSAxMykge1xuXHRcdFx0cmV0dXJuIGRheSArIFwicmRcIjtcblx0XHR9XG5cdFx0cmV0dXJuIGRheSArIFwidGhcIjtcblx0fVxuXHRcblx0dmFyIE1PTlRIX0xBQkVMUyA9IHtcblx0XHQwOiBcIkphblwiLFxuXHRcdDE6IFwiRmViXCIsXG5cdFx0MjogXCJNYXJcIixcblx0XHQzOiBcIkFwclwiLFxuXHRcdDQ6IFwiTWF5XCIsXG5cdFx0NTogXCJKdW5cIixcblx0XHQ2OiBcIkp1bFwiLFxuXHRcdDc6IFwiQXVnXCIsXG5cdFx0ODogXCJTZXBcIixcblx0XHQ5OiBcIk9jdFwiLFxuXHRcdDEwOiBcIk5vdlwiLFxuXHRcdDExOiBcIkRlY1wiXG5cdH07XG5cdFxuXHR2YXIgRk9STUFUVEVEX01PTlRIX0xBQkVMUyA9IHtcblx0XHQwOiBcIkphbi5cIixcblx0XHQxOiBcIkZlYi5cIixcblx0XHQyOiBcIk1hci5cIixcblx0XHQzOiBcIkFwci5cIixcblx0XHQ0OiBcIk1heVwiLFxuXHRcdDU6IFwiSnVuLlwiLFxuXHRcdDY6IFwiSnVsLlwiLFxuXHRcdDc6IFwiQXVnLlwiLFxuXHRcdDg6IFwiU2VwLlwiLFxuXHRcdDk6IFwiT2N0LlwiLFxuXHRcdDEwOiBcIk5vdi5cIixcblx0XHQxMTogXCJEZWMuXCJcblx0fTtcblxuLyoqKi8gfSksXG4vKiAyOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmNyZWF0ZU1hcmtlciA9IGNyZWF0ZU1hcmtlcjtcblx0ZXhwb3J0cy5nZXRJY29uID0gZ2V0SWNvbjtcblx0ZnVuY3Rpb24gY3JlYXRlTWFya2VyKGxhdCwgbG5nKSB7XG5cdFx0cmV0dXJuIEwubWFya2VyKFtsYXQsIGxuZ10sIHsgaWNvbjogZ3JhcGhJY29uIH0pO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBnZXRJY29uKHR5cGUpIHtcblx0XHRyZXR1cm4gdHlwZSA9PT0gJ2hvdmVyJyA/IGhvdmVySWNvbiA6IGdyYXBoSWNvbjtcblx0fVxuXHRcblx0dmFyIGJhc2VJY29uID0gTC5JY29uLmV4dGVuZCh7fSk7XG5cdFxuXHR2YXIgZ3JhcGhJY29uID0gbmV3IGJhc2VJY29uKHtcblx0XHRpY29uVXJsOiAnaW1ncy9ibHVlX2ljb24ucG5nJyxcblx0XHRzaGFkb3dVcmw6ICdpbWdzL21hcmtlcl9zaGFkb3cucG5nJyxcblx0XHRpY29uU2l6ZTogWzI1LCA0MV0sXG5cdFx0aWNvbkFuY2hvcjogWzEyLCA0MV0sXG5cdFx0cG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuXHRcdHNoYWRvd1NpemU6IFs0MSwgNDFdXG5cdH0pO1xuXHRcblx0dmFyIGhvdmVySWNvbiA9IG5ldyBiYXNlSWNvbih7XG5cdFx0aWNvblVybDogJ2ltZ3Mvb3JhbmdlX2ljb24ucG5nJyxcblx0XHRzaGFkb3dVcmw6ICdpbWdzL21hcmtlcl9zaGFkb3cucG5nJyxcblx0XHRpY29uU2l6ZTogWzI1LCA0MV0sXG5cdFx0aWNvbkFuY2hvcjogWzEyLCA0MV0sXG5cdFx0cG9wdXBBbmNob3I6IFsxLCAtMzRdLFxuXHRcdHNoYWRvd1NpemU6IFs0MSwgNDFdXG5cdH0pO1xuXG4vKioqLyB9KSxcbi8qIDMwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5CaW5kVGFiRXZlbnRzID0gQmluZFRhYkV2ZW50cztcblx0ZXhwb3J0cy5HZXRBY3RpdmVUYWIgPSBHZXRBY3RpdmVUYWI7XG5cdGV4cG9ydHMuSGFuZGxlVGFiQ2hhbmdlID0gSGFuZGxlVGFiQ2hhbmdlO1xuXHRcblx0dmFyIF9wYW5lbCA9IF9fd2VicGFja19yZXF1aXJlX18oMjIpO1xuXHRcblx0dmFyIF9zaGFyZSA9IF9fd2VicGFja19yZXF1aXJlX18oMjUpO1xuXHRcblx0ZnVuY3Rpb24gQmluZFRhYkV2ZW50cygpIHtcblx0XHRkMy5zZWxlY3RBbGwoXCIucGFuZWwtdG9wLWJ0blwiKS5vbihcImNsaWNrXCIsIGhhbmRsZVRhYkhlYWRlckJ0bkNsaWNrKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gR2V0QWN0aXZlVGFiKCkge1xuXHRcdHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicGFuZWwtdG9wLWJ0biBhY3RpdmVcIilbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1hY3RpdmVcIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZVRhYkhlYWRlckJ0bkNsaWNrKCkge1xuXHRcdC8vIElmIHRoZSBzZWN0aW9uIGlzIGFscmVhZHkgYWN0aXZlLCBkbyBub3RoaW5nXG5cdFx0aWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpKSByZXR1cm47XG5cdFxuXHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGNsaWNrIG9uIGdyYXBoIHR5cGVcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICd0YWInLFxuXHRcdFx0ZXZlbnRBY3Rpb246ICdjbGljaycsXG5cdFx0XHRldmVudExhYmVsOiB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYWN0aXZlXCIpLFxuXHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0fSk7XG5cdFxuXHRcdEhhbmRsZVRhYkNoYW5nZSh0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtYWN0aXZlXCIpKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gSGFuZGxlVGFiQ2hhbmdlKG5ld0NsYXNzKSB7XG5cdFx0ZGlzYWJsZUFjdGl2ZVRhYigpO1xuXHRcdGVuYWJsZVRhYihuZXdDbGFzcyk7XG5cdFx0KDAsIF9zaGFyZS51cGRhdGVTaGFyZVVybCkoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZW5hYmxlVGFiKG5ld0NsYXNzKSB7XG5cdFx0ZDMuc2VsZWN0KFwiLnBhbmVsLXRvcC1idG5bZGF0YS1hY3RpdmU9J1wiICsgbmV3Q2xhc3MgKyBcIiddXCIpLmNsYXNzZWQoXCJhY3RpdmVcIiwgdHJ1ZSk7XG5cdFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFwLXdyYXBwZXJcIikuY2xhc3NMaXN0LmFkZChuZXdDbGFzcyk7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWdodC1wYW5lbFwiKS5jbGFzc0xpc3QuYWRkKG5ld0NsYXNzKTtcblx0XG5cdFx0ZDMuc2VsZWN0KFwiLnBhbmVsLXNlY3Rpb24td3JhcHBlcltkYXRhLWFjdGl2ZT0nXCIgKyBuZXdDbGFzcyArIFwiJ11cIikuY2xhc3NlZChcImFjdGl2ZVwiLCB0cnVlKTtcblx0XG5cdFx0dG9nZ2xlTWFwUGFkZGluZygpO1xuXHRcdHJlc2V0UGFuZWxXaWR0aCgpO1xuXHRcdCgwLCBfcGFuZWwudXBkYXRlUGFuZWxEcmFnT3ZlcmxheUhlaWdodCkoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlzYWJsZUFjdGl2ZVRhYigpIHtcblx0XHR2YXIgYWN0aXZlQ2xhc3MgPSBkMy5zZWxlY3QoXCIucGFuZWwtdG9wLWJ0bi5hY3RpdmVcIikuYXR0cihcImRhdGEtYWN0aXZlXCIpO1xuXHRcblx0XHRkMy5zZWxlY3RBbGwoJyNtYXAtd3JhcHBlciwgI3JpZ2h0LXBhbmVsJykuY2xhc3NlZChhY3RpdmVDbGFzcywgZmFsc2UpO1xuXHRcblx0XHRkMy5zZWxlY3RBbGwoJy5wYW5lbC10b3AtYnRuLmFjdGl2ZSwgLnBhbmVsLXNlY3Rpb24td3JhcHBlci5hY3RpdmUnKS5jbGFzc2VkKCdhY3RpdmUnLCBmYWxzZSk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIHRvZ2dsZU1hcFBhZGRpbmcoKSB7XG5cdFx0dmFyIHBhZGRpbmdSaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmlnaHQtcGFuZWxcIikub2Zmc2V0V2lkdGg7XG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXAtd3JhcHBlclwiKS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nUmlnaHQgKyBcInB4XCI7XG5cdH1cblx0XG5cdC8qKlxyXG5cdCAqIFNpbmNlIHRoZSBwYW5lbCBoYXMgY2hpbGQgZWxlbWVudHMgd2l0aCBwb3NpdGlvbiBmaXhlZCBhbmQgd2lkdGggaW5oZXJpdFxyXG5cdCAqIHdlIG5lZWQgdG8gY2xlYXIgdGhlIGlubGluZSB3aWR0aCBwcm9wZXJ0eSBpZiBhbmQgb25seSBpZiB0aGUgaW5saW5lXHJcblx0ICogd2lkdGggaXMgbGVzcyB0aGFuIHRoZSBtaW4gd2lkdGhcclxuXHQgKi9cblx0ZnVuY3Rpb24gcmVzZXRQYW5lbFdpZHRoKCkge1xuXHRcdHZhciBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmlnaHQtcGFuZWxcIik7XG5cdFx0dmFyIHdpZHRoID0gcGFuZWwuc3R5bGUud2lkdGg7XG5cdFx0aWYgKCF3aWR0aCkgcmV0dXJuO1xuXHRcblx0XHR2YXIgcGFuZWxNaW5XaWR0aCA9IGQzLnNlbGVjdChwYW5lbCkuc3R5bGUoJ21pbi13aWR0aCcpLnNsaWNlKDAsIC0yKTtcblx0XHRpZiAocGFyc2VJbnQod2lkdGguc2xpY2UoMCwgLTIpLCAxMCkgPiBwYXJzZUludChwYW5lbE1pbldpZHRoLCAxMCkpIHJldHVybjtcblx0XG5cdFx0cGFuZWwuc3R5bGUud2lkdGggPSBcIlwiO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMzEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0XHR2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5zZXRPcGFjaXR5U2xpZGVyUG9zaXRpb24gPSBzZXRPcGFjaXR5U2xpZGVyUG9zaXRpb247XG5cdGV4cG9ydHMubWFrZU9wYWNpdHlTbGlkZXIgPSBtYWtlT3BhY2l0eVNsaWRlcjtcblx0XG5cdHZhciBfc2hhcmUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtcblx0XG5cdHZhciBfbGF5ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKTtcblx0XG5cdC8vIHNldCBpdCBtYW51YWxseSBmb3Igbm93XG5cdHZhciBPUEFDSVRZX1JBTkdFX01BWCA9IDkwO1xuXHRcblx0dmFyIG9wYWNpdHlTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFsxLCAwXSkucmFuZ2UoWzAsIE9QQUNJVFlfUkFOR0VfTUFYXSkuY2xhbXAodHJ1ZSk7XG5cdFxuXHRmdW5jdGlvbiBzZXRPcGFjaXR5U2xpZGVyUG9zaXRpb24obGF5ZXIsIHNsaWRlckhhbmRsZSwgb3BhY2l0eSkge1xuXHRcdG9wYWNpdHkgPSBvcGFjaXR5IHx8IGxheWVyLm9wYWNpdHk7XG5cdFx0c2xpZGVySGFuZGxlLnN0eWxlLnRvcCA9ICcnICsgb3BhY2l0eVNjYWxlKG9wYWNpdHkpICsgJ3B4Jztcblx0fVxuXHRcblx0ZnVuY3Rpb24gbWFrZU9wYWNpdHlTbGlkZXIobGF5ZXIpIHtcblx0XHR2YXIgbGF5ZXJPcGFjaXR5ID0gbGF5ZXIub3BhY2l0eSAhPT0gdW5kZWZpbmVkID8gbGF5ZXIub3BhY2l0eSA6IDE7XG5cdFx0dmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHR2YXIgc2xpZGVyVHJhY2tPdmVybGF5ID0gbWFrZVNsaWRlclRyYWNrKGxheWVyLCBsYXllck9wYWNpdHkpO1xuXHRcdHZhciBpY29uV3JhcHBlckNsb3NlZCA9IG1ha2VPcGFjaXR5SWNvbldyYXBwZXIoJ2Nsb3NlZCcsIGxheWVyLCBzbGlkZXJUcmFja092ZXJsYXkpO1xuXHRcblx0XHR3cmFwcGVyLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktc2xpZGVyLXdyYXBwZXInKTtcblx0XHR3cmFwcGVyLmFwcGVuZENoaWxkKHNsaWRlclRyYWNrT3ZlcmxheSk7XG5cdFx0d3JhcHBlci5hcHBlbmRDaGlsZChpY29uV3JhcHBlckNsb3NlZCk7XG5cdFx0cmV0dXJuIHdyYXBwZXI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VPcGFjaXR5SWNvbldyYXBwZXIoc3RhdGUsIGxheWVyLCBzbGlkZXJUcmFja092ZXJsYXkpIHtcblx0XHR2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHZhciBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cdFx0d3JhcHBlci5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LWljb24td3JhcHBlcicpO1xuXHRcdGljb24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS1pY29uJyk7XG5cdFx0aWNvbi5jbGFzc0xpc3QuYWRkKHN0YXRlKTtcblx0XHRpY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZ3Mvb3BhY2l0eS1pY29uLScgKyBzdGF0ZSArICctNjR4NjQucG5nJyk7XG5cdFx0aWNvbi5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdVc2UgdGhpcyBzbGlkZXIgdG8gYWRqdXN0IHRyYW5zcGFyZW5jeSBmb3IgdGhlICcgKyBsYXllci5uYW1lICsgJyBsYXllcicpO1xuXHRcdGljb24uc2V0QXR0cmlidXRlKCd0aXRsZScsICdVc2UgdGhpcyBzbGlkZXIgdG8gYWRqdXN0IHRyYW5zcGFyZW5jeSBmb3IgdGhlICcgKyBsYXllci5uYW1lICsgJyBsYXllcicpO1xuXHRcdHdyYXBwZXIuYXBwZW5kQ2hpbGQoaWNvbik7XG5cdFx0d3JhcHBlci5vbmNsaWNrID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdHZhciBzbGlkZXJIYW5kbGUgPSBzbGlkZXJUcmFja092ZXJsYXkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnb3BhY2l0eS1zbGlkZXItaGFuZGxlJylbMF07XG5cdFx0XHQoMCwgX2xheWVyLnVwZGF0ZUxheWVyT3BhY2l0eSkobGF5ZXIsIDApO1xuXHRcdFx0c2V0T3BhY2l0eVNsaWRlclBvc2l0aW9uKGxheWVyLCBzbGlkZXJIYW5kbGUsIDApO1xuXHRcdH07XG5cdFx0cmV0dXJuIHdyYXBwZXI7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIG1ha2VTbGlkZXJUcmFjayhsYXllciwgbGF5ZXJPcGFjaXR5KSB7XG5cdFxuXHRcdHZhciBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dmFyIHRyYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0dmFyIHNsaWRlckhhbmRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcblx0XHRvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktc2xpZGVyLXRyYWNrLW92ZXJsYXknKTtcblx0XHR0cmFjay5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LXNsaWRlci10cmFjaycpO1xuXHRcdHNsaWRlckhhbmRsZS5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LXNsaWRlci1oYW5kbGUnKTtcblx0XG5cdFx0b3ZlcmxheS5hcHBlbmRDaGlsZCh0cmFjayk7XG5cdFx0b3ZlcmxheS5hcHBlbmRDaGlsZChzbGlkZXJIYW5kbGUpO1xuXHRcblx0XHRpZiAobGF5ZXIuYWN0aXZlKSBzZXRPcGFjaXR5U2xpZGVyUG9zaXRpb24obGF5ZXIsIHNsaWRlckhhbmRsZSk7XG5cdFx0c2V0RHJhZ0V2ZW50TGlzdGVuZXIob3ZlcmxheSwgbGF5ZXIsIGxheWVyT3BhY2l0eSk7XG5cdFxuXHRcdHJldHVybiBvdmVybGF5O1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBzZXREcmFnRXZlbnRMaXN0ZW5lcihvdmVybGF5LCBsYXllciwgbGF5ZXJPcGFjaXR5KSB7XG5cdFx0ZDMuc2VsZWN0KG92ZXJsYXkpLmNhbGwoZDMuZHJhZygpLm9uKCdzdGFydCBkcmFnJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHNsaWRlckhhbmRsZSA9IG92ZXJsYXkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnb3BhY2l0eS1zbGlkZXItaGFuZGxlJylbMF07XG5cdFx0XHR2YXIgbmV3T3BhY2l0eSA9IGNhbGNPcGFjaXR5RnJvbU1vdXNlUG9zKG92ZXJsYXkpO1xuXHRcdFx0KDAsIF9sYXllci51cGRhdGVMYXllck9wYWNpdHkpKGxheWVyLCBuZXdPcGFjaXR5KTtcblx0XHRcdHNldE9wYWNpdHlTbGlkZXJQb3NpdGlvbihsYXllciwgc2xpZGVySGFuZGxlLCBuZXdPcGFjaXR5KTtcblx0XHR9KS5vbignZW5kJywgZnVuY3Rpb24gKCkge1xuXHRcblx0XHRcdHZhciBuZXdPcGFjaXR5ID0gY2FsY09wYWNpdHlGcm9tTW91c2VQb3Mob3ZlcmxheSk7XG5cdFxuXHRcdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3Mgb3BhY2l0eSBzbGlkZXIgY2hhbmdlXG5cdFx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdFx0ZXZlbnRDYXRlZ29yeTogJ29wYWNpdHkgc2xpZGVyJyxcblx0XHRcdFx0ZXZlbnRBY3Rpb246ICdjaGFuZ2UnLFxuXHRcdFx0XHRldmVudExhYmVsOiAne1wiJyArIGxheWVyLm5hbWUgKyAnXCI6IFwiJyArIG5ld09wYWNpdHkgKyAnXCJ9Jyxcblx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0XHR9KTtcblx0XG5cdFx0XHQoMCwgX3NoYXJlLnVwZGF0ZVNoYXJlVXJsKSgpO1xuXHRcdH0pKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY2FsY09wYWNpdHlGcm9tTW91c2VQb3Mob3ZlcmxheSkge1xuXHRcdHZhciB5UG9zID0gZDMubW91c2Uob3ZlcmxheSlbMV07XG5cdFx0dmFyIG5ld09wYWNpdHkgPSBvcGFjaXR5U2NhbGUuaW52ZXJ0KHlQb3MpO1xuXHRcdHJldHVybiBuZXdPcGFjaXR5O1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMzIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBDcmVhdGVMb2dvO1xuXHQvKlxyXG5cdCAgXCJsb2dvXCI6IHtcclxuXHRcdFwiaW1hZ2VcIjogXCJpbWdzL2xhbmRhdF9sb2dvX2JsdWUucG5nXCIsXHJcblx0XHRcImFsdFwiOiBcIkxvZ28gZm9yIHRoZSBMYW5EYXQgcHJvamVjdFwiLFxyXG5cdFx0XCJsaW5rXCI6IFwiaHR0cHM6Ly9sYW5kYXQtZGV2Lm5lbWFjLm9yZ1wiLFxyXG5cdFx0XCJsb2NhdGlvblwiOiBbXCJib3R0b21cIiwgXCJyaWdodFwiXVxyXG5cdCAgfSxcclxuXHQqL1xuXHRcblx0ZnVuY3Rpb24gQ3JlYXRlTG9nbyhsb2dvZGF0YSkge1xuXHRcdGlmICghbG9nb2RhdGEuaW1hZ2UpIHJldHVybjtcblx0XG5cdFx0dmFyIGxvZ29XcmFwcGVyID0gY3JlYXRlTG9nb1dyYXBwZXIoKTtcblx0XHR2YXIgbG9nb0ltYWdlID0gY3JlYXRlTG9nb0ltYWdlKGxvZ29kYXRhKTtcblx0XHR2YXIgbG9nb0xpbmsgPSBsb2dvZGF0YS5saW5rID8gY3JlYXRlTG9nb0xpbmsobG9nb2RhdGEubGluaykgOiBudWxsO1xuXHRcblx0XHRpZiAobG9nb0xpbmspIHtcblx0XHRcdGxvZ29MaW5rLmFwcGVuZENoaWxkKGxvZ29JbWFnZSk7XG5cdFx0XHRsb2dvV3JhcHBlci5hcHBlbmRDaGlsZChsb2dvTGluayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvZ29XcmFwcGVyLmFwcGVuZENoaWxkKGxvZ29JbWFnZSk7XG5cdFx0fVxuXHRcblx0XHR2YXIgaW5zZXJ0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobG9nb2RhdGEubG9jYXRpb24pWzBdO1xuXHRcdHZhciBleGlzdGluZ0NoaWxkID0gaW5zZXJ0RWxlbWVudC5maXJzdENoaWxkO1xuXHRcdGluc2VydEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGxvZ29XcmFwcGVyLCBleGlzdGluZ0NoaWxkKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTG9nb1dyYXBwZXIoKSB7XG5cdFx0dmFyIGxvZ29XcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRkMy5zZWxlY3QobG9nb1dyYXBwZXIpLmNsYXNzZWQoXCJwcm9qZWN0LWxvZ29cIiwgdHJ1ZSk7XG5cdFx0cmV0dXJuIGxvZ29XcmFwcGVyO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVMb2dvSW1hZ2UobG9nb2RhdGEpIHtcblx0XHR2YXIgbG9nb0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRsb2dvSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIGxvZ29kYXRhLmltYWdlKTtcblx0XHRpZiAobG9nb2RhdGEubGFiZWwpIHtcblx0XHRcdGxvZ29JbWFnZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgbG9nb2RhdGEubGFiZWwpO1xuXHRcdFx0bG9nb0ltYWdlLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGxvZ29kYXRhLmxhYmVsKTtcblx0XHR9XG5cdFx0cmV0dXJuIGxvZ29JbWFnZTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gY3JlYXRlTG9nb0xpbmsobGluaykge1xuXHRcdHZhciBsb2dvTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuXHRcdGxvZ29MaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgbGluayk7XG5cdFx0bG9nb0xpbmsuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcblx0XHRsb2dvTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XG5cdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBmb3IgY2xpY2tpbmcgbG9nb1xuXHRcdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XG5cdFx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxuXHRcdFx0XHRldmVudEFjdGlvbjogJ2NsaWNrJyxcblx0XHRcdFx0ZXZlbnRMYWJlbDogJ2xhbmRhdCBsb2dvJyxcblx0XHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XG5cdFx0cmV0dXJuIGxvZ29MaW5rO1xuXHR9XG5cbi8qKiovIH0pLFxuLyogMzMgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHRcdHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZmF1bHQgPSBCaW5kTW9iaWxlTWVudUV2ZW50cztcblx0XG5cdHZhciBfbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHRmdW5jdGlvbiBCaW5kTW9iaWxlTWVudUV2ZW50cygpIHtcblx0XHRkMy5zZWxlY3QoXCIjbW9iaWxlLXRvZ2dsZS1wYW5lbC1idXR0b25cIikub24oXCJjbGlja1wiLCBoYW5kbGVNb2JpbGVUb2dnbGVQYW5lbEJ0bkNsaWNrKTtcblx0XHRkMy5zZWxlY3RBbGwoXCIjbW9iaWxlLWNsZWFyLW1hcC1idXR0b25cIikub24oXCJjbGlja1wiLCBoYW5kbGVNb2JpbGVDbGVhck1hcEJ0bkNsaWNrKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlTW9iaWxlQ2xlYXJNYXBCdG5DbGljaygpIHtcblx0XHRkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHQoMCwgX21hcC5jbGVhck1hcCkoKTtcblx0XHRkaXNwYXRjaE1vYmlsZUNsZWFyTWFwQnRuQ2xpY2tBbmFseXRpY3MoKTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gaGFuZGxlTW9iaWxlVG9nZ2xlUGFuZWxCdG5DbGljaygpIHtcblx0XHRkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR2YXIgd3JhcHBlciA9IGQzLnNlbGVjdChcIiN3cmFwcGVyXCIpO1xuXHRcdHZhciBzdGF0dXMgPSB3cmFwcGVyLmNsYXNzZWQoXCJtb2JpbGUtbWVudS1oaWRkZW5cIik7XG5cdFx0d3JhcHBlci5jbGFzc2VkKFwibW9iaWxlLW1lbnUtaGlkZGVuXCIsICFzdGF0dXMpO1xuXHRcdGRpc3BhdGNoTW9iaWxlVG9nZ2xlUGFuZWxCdG5DbGlja0FuYWx5dGljcyghc3RhdHVzID8gXCJvcGVuaW5nXCIgOiBcImNsb3NpbmdcIik7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGRpc3BhdGNoTW9iaWxlQ2xlYXJNYXBCdG5DbGlja0FuYWx5dGljcygpIHtcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtb2JpbGUgY2xlYXJtYXAnLFxuXHRcdFx0ZXZlbnRBY3Rpb246ICdjbGljaycsXG5cdFx0XHRldmVudExhYmVsOiAnTW9iaWxlIENsZWFyIE1hcCcsXG5cdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2Vcblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlzcGF0Y2hNb2JpbGVUb2dnbGVQYW5lbEJ0bkNsaWNrQW5hbHl0aWNzKHN0YXR1cykge1xuXHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0ZXZlbnRDYXRlZ29yeTogJ21vYmlsZSBtZW51Jyxcblx0XHRcdGV2ZW50QWN0aW9uOiAnY2xpY2snLFxuXHRcdFx0ZXZlbnRMYWJlbDogJ01vYmlsZSBQYW5lbCBUb2dnbGUnICsgc3RhdHVzLFxuXHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0fSk7XG5cdH1cblxuLyoqKi8gfSksXG4vKiAzNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdFx0dmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IEJpbmREZXNrdG9wTWVudUV2ZW50cztcblx0XG5cdHZhciBfbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXygyNCk7XG5cdFxuXHRmdW5jdGlvbiBCaW5kRGVza3RvcE1lbnVFdmVudHMoKSB7XG5cdFx0ZDMuc2VsZWN0KFwiI3RvZ2dsZS1wYW5lbC1idXR0b25cIikub24oXCJjbGlja1wiLCBoYW5kbGVEZXNrdG9wVG9nZ2xlUGFuZWxCdG5DbGljayk7XG5cdFx0ZDMuc2VsZWN0QWxsKFwiI2NsZWFyLW1hcC1idXR0b25cIikub24oXCJjbGlja1wiLCBoYW5kbGVEZXNrdG9wQ2xlYXJNYXBCdG5DbGljayk7XG5cdH1cblx0XG5cdGZ1bmN0aW9uIGhhbmRsZURlc2t0b3BDbGVhck1hcEJ0bkNsaWNrKGUpIHtcblx0XHRkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHQoMCwgX21hcC5jbGVhck1hcCkoKTtcblx0XHQvLyBRdWljayBhbmQgZGlydHkgc29sdXRpb24gLS0gY3JlYXRlcyBhIG5ldyBzZXNzaW9uIGZvciBnb29nbGUgYW5hbHl0aWNzP1xuXHRcdC8vdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMF1cblx0XHQvL3dpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsXG5cdFx0ZGlzcGF0Y2hEZXNrdG9wQ2xlYXJNYXBCdG5DbGlja0FuYWx5dGljcygpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBoYW5kbGVEZXNrdG9wVG9nZ2xlUGFuZWxCdG5DbGljayhlKSB7XG5cdFx0ZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0dmFyIHdyYXBwZXIgPSBkMy5zZWxlY3QoXCIjd3JhcHBlclwiKTtcblx0XHR2YXIgc3RhdHVzID0gd3JhcHBlci5jbGFzc2VkKFwicGFuZWwtYWN0aXZlXCIpO1xuXHRcdHdyYXBwZXIuY2xhc3NlZChcInBhbmVsLWFjdGl2ZVwiLCAhc3RhdHVzKTtcblx0XHR3cmFwcGVyLmNsYXNzZWQoXCJwYW5lbC1pbmFjdGl2ZVwiLCBzdGF0dXMpO1xuXHRcdCgwLCBfbWFwLkdldE1hcCkoKS5pbnZhbGlkYXRlU2l6ZSh7IHBhbjogZmFsc2UgfSk7XG5cdFx0ZGlzcGF0Y2hEZXNrdG9wVG9nZ2xlUGFuZWxCdG5DbGlja0FuYWx5dGljcyghc3RhdHVzID8gXCJPcGVuXCIgOiBcIkNsb3NlXCIpO1xuXHR9XG5cdFxuXHRmdW5jdGlvbiBkaXNwYXRjaERlc2t0b3BDbGVhck1hcEJ0bkNsaWNrQW5hbHl0aWNzKCkge1xuXHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xuXHRcdFx0ZXZlbnRDYXRlZ29yeTogJ2Rlc2t0b3AnLFxuXHRcdFx0ZXZlbnRBY3Rpb246ICdjbGljaycsXG5cdFx0XHRldmVudExhYmVsOiAnQ2xlYXIgTWFwIEJ0bicsXG5cdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2Vcblx0XHR9KTtcblx0fVxuXHRcblx0ZnVuY3Rpb24gZGlzcGF0Y2hEZXNrdG9wVG9nZ2xlUGFuZWxCdG5DbGlja0FuYWx5dGljcyhzdGF0dXMpIHtcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdkZXNrdG9wJyxcblx0XHRcdGV2ZW50QWN0aW9uOiAnY2xpY2snLFxuXHRcdFx0ZXZlbnRMYWJlbDogJ1BhbmVsIFRvZ2dsZSAnICsgc3RhdHVzLFxuXHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXG5cdFx0fSk7XG5cdH1cblxuLyoqKi8gfSksXG4vKiAzNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdC8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaW5kZXhfYnVuZGxlLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgODUyN2EyYzA3OTQ5NDM4ZjE4ZDAiLCJpbXBvcnQge1BhcnNlQ29uZmlnfSBmcm9tICcuL3BhcnNlcic7XHJcbmltcG9ydCBDcmVhdGVTZWFyY2ggZnJvbSAnLi9zZWFyY2gnO1xyXG5pbXBvcnQge1NldHVwUGFuZWx9IGZyb20gJy4vcGFuZWwnO1xyXG5pbXBvcnQge0NyZWF0ZUJhc2VMYXllcnN9IGZyb20gJy4vYmFzZWxheWVyJztcclxuaW1wb3J0IHtTZXR1cEdyYXBocywgSGFuZGxlR3JhcGhUYWJDaGFuZ2V9IGZyb20gJy4vZ3JhcGgnXHJcbmltcG9ydCB7QmluZEdyYXBoRXZlbnRzfSBmcm9tICcuL3BvaSc7XHJcbmltcG9ydCB7QmluZFRhYkV2ZW50cywgSGFuZGxlVGFiQ2hhbmdlfSBmcm9tICcuL3RhYnMnXHJcbmltcG9ydCB7Q3JlYXRlTWFwfSBmcm9tICcuL21hcCdcclxuaW1wb3J0IHtCaW5kVXBkYXRlU2hhcmVVcmwsIEFkZFNoYXJlU2V0dGluZ3NUb0NvbmZpZywgQmluZENvcHlMaW5rRXZlbnRzfSBmcm9tICcuL3NoYXJlJ1xyXG5pbXBvcnQge0NyZWF0ZURlZmF1bHRMYXllcnN9IGZyb20gJy4vbGF5ZXInXHJcbmltcG9ydCBDcmVhdGVMb2dvIGZyb20gJy4vbG9nbyc7XHJcbmltcG9ydCB7U2V0dXBQb2ludHNPZkludGVyZXN0fSBmcm9tICcuL3BvaSc7XHJcbmltcG9ydCB7dXBkYXRlU2hhcmVVcmx9IGZyb20gJy4vc2hhcmUnO1xyXG5pbXBvcnQgQmluZE1vYmlsZU1lbnVFdmVudHMgZnJvbSAnLi9tb2JpbGUnO1xyXG5pbXBvcnQgQmluZERlc2t0b3BNZW51RXZlbnRzIGZyb20gJy4vcGFuZWxUb2dnbGUnO1xyXG5cclxudmFyIGNzcyA9IHJlcXVpcmUoJy4uL2Nzcy9zYXNzL2xhbmRhdC5zY3NzJylcclxuXHJcbi8vIERvZXMgbm90IHJlbHkgb24gbWFwIG9iamVjdCBvciBjb25maWcgZmlsZVxyXG52YXIgQmFzZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuXHRQYXJzZUNvbmZpZyhjb25maWcsIGNhbGxiYWNrKTtcclxuXHRTZXR1cEdyYXBocygpO1xyXG5cdEJpbmRUYWJFdmVudHMoKTtcclxuXHRCaW5kQ29weUxpbmtFdmVudHMoKTtcclxuXHRCaW5kTW9iaWxlTWVudUV2ZW50cygpO1xyXG5cdEJpbmREZXNrdG9wTWVudUV2ZW50cygpO1xyXG59XHJcblxyXG4vLyBEb2VzIHJlbHkgb24gbWFwIG9iamVjdCBvciBjb25maWcgZmlsZVxyXG52YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdEFkZFNoYXJlU2V0dGluZ3NUb0NvbmZpZyhkYXRhKVxyXG5cdHZhciBtYXAgPSBDcmVhdGVNYXAoZGF0YS5tYXApO1xyXG5cdENyZWF0ZUJhc2VMYXllcnMobWFwLCBkYXRhLmJhc2VsYXllcnMpO1xyXG5cdENyZWF0ZURlZmF1bHRMYXllcnMoZGF0YS5sYXllcnMsIGRhdGFbXCJhY3RpdmUtbGF5ZXJzXCJdKTtcclxuXHRTZXR1cFBhbmVsKGRhdGEubGF5ZXJzLCBkYXRhLmxheW91dCk7XHJcblx0Q3JlYXRlU2VhcmNoKG1hcCk7XHJcblx0Q3JlYXRlTG9nbyhkYXRhLmxvZ28pO1xyXG5cdGlmIChkYXRhLnRhYikgSGFuZGxlVGFiQ2hhbmdlKGRhdGEudGFiKTtcclxuXHRpZiAoZGF0YS5ncmFwaCkgSGFuZGxlR3JhcGhUYWJDaGFuZ2UoZGF0YS5ncmFwaCk7XHJcblx0QmluZEdyYXBoRXZlbnRzKG1hcCk7XHJcblx0QmluZFVwZGF0ZVNoYXJlVXJsKG1hcCk7XHJcblx0U2V0dXBQb2ludHNPZkludGVyZXN0KG1hcCwgZGF0YS5wb2lzKVxyXG5cdHVwZGF0ZVNoYXJlVXJsKClcclxufVxyXG5cclxud2luZG93LkJhc2UgPSBCYXNlO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge0Jhc2V9O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9iYXNlLmpzIiwiLyoqXHJcbiAqIFBhcnNlcyBhIGNvbmZpZyBmaWxlLiBTaW5jZSB0aGUgcHJvY2VzcyB0byBnZXQgZXh0ZXJuYWwgZmlsZXNcclxuICogdXNlcyBBSkFYIHlvdSBuZWVkIHRvIHBhc3MgYSBjYWxsYmFjayB0byBoYW5kbGUgdGhlIG5leHQgc3RlcHNcclxuICogb2YgdXNpbmcgdGhlIGNvbmZpZyBmaWxlLCBzaW5jZSB3ZSBkbyBub3Qga25vdyBob3cgbG9uZyBpdFxyXG4gKiB3aWxsIHRha2UgdG8gZ3JhYiB0aGUgZmlsZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBQYXJzZUNvbmZpZyAoY29uZmlnRmlsZSwgY2FsbGJhY2spIHtcclxuXHRHZXRDb25maWcoY29uZmlnRmlsZSwgY2FsbGJhY2spO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0QWpheE9iamVjdChyZXNwb25zZUhhbmRsZXIpIHtcclxuXHR2YXIgeG1saHR0cFxyXG5cdGlmICghd2luZG93LlhNTEh0dHBSZXF1ZXN0ICYmIHdpbmRvdy5BY3RpdmVYT2JqZWN0KSB7XHJcblx0XHR4bWxodHRwID0gbmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiTVNYTUwyLlhNTEhUVFAuMy4wXCIpXHJcblx0fSBlbHNlIHtcclxuXHRcdHhtbGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxyXG5cdH1cclxuXHR4bWxodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICh4bWxodHRwLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuXHRcdFx0cmVzcG9uc2VIYW5kbGVyKHhtbGh0dHAucmVzcG9uc2UpXHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiB4bWxodHRwXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldENvbmZpZyAoY29uZmlnRmlsZSwgY2FsbGJhY2spIHtcclxuXHR2YXIgeG1saHR0cCA9IEdldEFqYXhPYmplY3QoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHR2YXIgZGF0YSA9IHJlc3BvbnNlSGFuZGxlcihyZXNwb25zZSlcclxuXHRcdGNhbGxiYWNrKGRhdGEpXHJcblx0fSlcclxuXHR4bWxodHRwLm9wZW4oXCJHRVRcIiwgY29uZmlnRmlsZSwgdHJ1ZSk7XHJcblx0eG1saHR0cC5zZW5kKCk7XHJcblx0Y29uc29sZS5sb2coXCJoaVwiKVxyXG59XHJcblxyXG5mdW5jdGlvbiByZXNwb25zZUhhbmRsZXIgKHJlc3BvbnNlKSB7XHJcblx0cmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlc3BvbnNlKVxyXG5cdGZvcm1hdE1hcChyZXNwb25zZSk7XHJcblx0Zm9ybWF0TGF5ZXJzKHJlc3BvbnNlKTtcclxuXHRyZXR1cm4gcmVzcG9uc2VcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0TWFwIChkYXRhKSB7XHJcblx0aWYgKCFkYXRhLm1hcCkgZGF0YS5tYXAgPSB7fTtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0TGF5ZXJzIChkYXRhKSB7XHJcblx0dmFyIGxheWVycyA9IGRhdGEubGF5ZXJzO1xyXG5cdHZhciBkZWZhdWx0TWFwc2VydmVyVXJsID0gZGF0YS5tYXBzZXJ2ZXJVcmw7XHJcblx0dmFyIGRlZmF1bHRFbmFibGVkTGF5ZXJzID0gZGF0YVtcImFjdGl2ZS1sYXllcnNcIl07XHJcblx0dmFyIGxheWVyZ3JvdXA7XHJcblx0dmFyIGk7XHJcblxyXG5cdGZvciAodmFyIHByb3AgaW4gbGF5ZXJzKSB7XHJcblx0XHRpZiAoIWxheWVycy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgcmV0dXJuO1xyXG5cdFx0bGF5ZXJncm91cCA9IGxheWVyc1twcm9wXTtcclxuXHRcdGZvciAoaSA9IDA7IGkgPCBsYXllcmdyb3VwLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHNldE1hcHNlcnZlclVybChsYXllcmdyb3VwW2ldLCBkZWZhdWx0TWFwc2VydmVyVXJsKTtcclxuXHRcdFx0c2V0RGVmYXVsdExheWVyT3BhY2l0eShsYXllcmdyb3VwW2ldLCBkYXRhLmRlZmF1bHRMYXllck9wYWNpdHkpXHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBzZXREZWZhdWx0TGF5ZXJPcGFjaXR5IChsYXllciwgb3BhY2l0eSkge1xyXG5cdGxheWVyLm9wYWNpdHkgPSBsYXllci5vcGFjaXR5IHx8IG9wYWNpdHlcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TWFwc2VydmVyVXJsIChsYXllciwgdXJsKSB7XHJcblx0bGF5ZXIudXJsID0gbGF5ZXIudXJsIHx8IHVybDtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9wYXJzZXIuanMiLCJpbXBvcnQgeyBHZW9TZWFyY2hDb250cm9sLCBPcGVuU3RyZWV0TWFwUHJvdmlkZXIgfSBmcm9tICdsZWFmbGV0LWdlb3NlYXJjaCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDcmVhdGVTZWFyY2ggKG1hcCkge1xyXG5cdGNvbnN0IHByb3ZpZGVyID0gbmV3IE9wZW5TdHJlZXRNYXBQcm92aWRlcigpO1xyXG5cclxuXHRjb25zdCBzZWFyY2hDb250cm9sID0gbmV3IEdlb1NlYXJjaENvbnRyb2woe1xyXG5cdFx0cHJvdmlkZXI6IHByb3ZpZGVyLFxyXG5cdFx0c2hvd01hcmtlcjogZmFsc2UsXHJcblx0XHRhdXRvQ29tcGxldGU6IHRydWUsXHJcblx0XHRzaG93UG9wdXA6IGZhbHNlLFxyXG5cdH0pO1xyXG5cclxuXHRtYXAuYWRkQ29udHJvbChzZWFyY2hDb250cm9sKTtcclxuXHJcblx0dmFyIHNlYXJjaEVsZW1lbnRzID0gc2VhcmNoQ29udHJvbC5zZWFyY2hFbGVtZW50LmVsZW1lbnRzXHJcblxyXG5cdEwuRG9tRXZlbnQub24oc2VhcmNoRWxlbWVudHMuY29udGFpbmVyLCBcImNsaWNrXCIsIGZ1bmN0aW9uIChldikge1xyXG5cdFx0TC5Eb21FdmVudC5zdG9wUHJvcGFnYXRpb24oZXYpO1xyXG5cclxuXHRcdHZhciBzZWFyY2hFbnRyaWVzID0gc2VhcmNoRWxlbWVudHMuZm9ybVxyXG5cdFx0XHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncmVzdWx0cycpWzBdLmNoaWxkcmVuXHJcblxyXG5cdFx0Zm9yICh2YXIgaT0wOyBpPHNlYXJjaEVudHJpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0aWYgKGV2LnRhcmdldCA9PT0gc2VhcmNoRW50cmllc1tpXSkge1xyXG5cdFx0XHRcdHNlYXJjaEVsZW1lbnRzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZm9yIHNlYXJjaCBieSBhZGRyZXNzXHJcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcclxuXHRcdFx0ZXZlbnRDYXRlZ29yeTogJ21hcCcsXHJcblx0XHRcdGV2ZW50QWN0aW9uOiAnc2VhcmNoJyxcclxuXHRcdFx0ZXZlbnRMYWJlbDogJ2NsaWNrJyxcclxuXHRcdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG5cdEwuRG9tRXZlbnQub24oc2VhcmNoRWxlbWVudHMuY29udGFpbmVyLCBcImtleWRvd25cIiwgZnVuY3Rpb24gKGV2KSB7XHJcblx0XHRMLkRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbihldik7XHJcblxyXG5cdFx0aWYgKGV2LndoaWNoID09IDEzIHx8IGV2LmtleUNvZGUgPT0gMTMpIHtcclxuXHRcdFx0c2VhcmNoRWxlbWVudHMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXHJcblxyXG5cdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBmb3Igc2VhY3JjaCBieSBhZGRyZXNzXHJcblx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdFx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxyXG5cdFx0XHRcdGV2ZW50QWN0aW9uOiAnc2VhcmNoIGFkZHJlc3MnLFxyXG5cdFx0XHRcdGV2ZW50TGFiZWw6IGV2LnRhcmdldC52YWx1ZSxcclxuXHRcdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3NlYXJjaC5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9sZWFmbGV0Q29udHJvbCA9IHJlcXVpcmUoJy4vbGVhZmxldENvbnRyb2wnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHZW9TZWFyY2hDb250cm9sJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGVhZmxldENvbnRyb2wpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3NlYXJjaEVsZW1lbnQgPSByZXF1aXJlKCcuL3NlYXJjaEVsZW1lbnQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdTZWFyY2hFbGVtZW50Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VhcmNoRWxlbWVudCkuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfYmluZ1Byb3ZpZGVyID0gcmVxdWlyZSgnLi9wcm92aWRlcnMvYmluZ1Byb3ZpZGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQmluZ1Byb3ZpZGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZ1Byb3ZpZGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9lc3JpUHJvdmlkZXIgPSByZXF1aXJlKCcuL3Byb3ZpZGVycy9lc3JpUHJvdmlkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdFc3JpUHJvdmlkZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lc3JpUHJvdmlkZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX2dvb2dsZVByb3ZpZGVyID0gcmVxdWlyZSgnLi9wcm92aWRlcnMvZ29vZ2xlUHJvdmlkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdHb29nbGVQcm92aWRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dvb2dsZVByb3ZpZGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxudmFyIF9vcGVuU3RyZWV0TWFwUHJvdmlkZXIgPSByZXF1aXJlKCcuL3Byb3ZpZGVycy9vcGVuU3RyZWV0TWFwUHJvdmlkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdPcGVuU3RyZWV0TWFwUHJvdmlkZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vcGVuU3RyZWV0TWFwUHJvdmlkZXIpLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG52YXIgX3Byb3ZpZGVyID0gcmVxdWlyZSgnLi9wcm92aWRlcnMvcHJvdmlkZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdQcm92aWRlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3ZpZGVyKS5kZWZhdWx0O1xuICB9XG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2xlYWZsZXQtZ2Vvc2VhcmNoL2xpYi9pbmRleC5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9ub2RlbnRSdW50aW1lID0gcmVxdWlyZSgnbm9kZW50LXJ1bnRpbWUnKTtcblxudmFyIF9ub2RlbnRSdW50aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vZGVudFJ1bnRpbWUpO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBMZWFmbGV0Q29udHJvbDtcblxudmFyIF9sb2Rhc2ggPSByZXF1aXJlKCdsb2Rhc2guZGVib3VuY2UnKTtcblxudmFyIF9sb2Rhc2gyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbG9kYXNoKTtcblxudmFyIF9zZWFyY2hFbGVtZW50ID0gcmVxdWlyZSgnLi9zZWFyY2hFbGVtZW50Jyk7XG5cbnZhciBfc2VhcmNoRWxlbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWFyY2hFbGVtZW50KTtcblxudmFyIF9yZXN1bHRMaXN0ID0gcmVxdWlyZSgnLi9yZXN1bHRMaXN0Jyk7XG5cbnZhciBfcmVzdWx0TGlzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZXN1bHRMaXN0KTtcblxudmFyIF9kb21VdGlscyA9IHJlcXVpcmUoJy4vZG9tVXRpbHMnKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG52YXIgZGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiBkZWZhdWx0T3B0aW9ucygpIHtcbiAgcmV0dXJuIHtcbiAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgIHN0eWxlOiAnYnV0dG9uJyxcbiAgICBzaG93TWFya2VyOiB0cnVlLFxuICAgIHNob3dQb3B1cDogZmFsc2UsXG4gICAgcG9wdXBGb3JtYXQ6IGZ1bmN0aW9uIHBvcHVwRm9ybWF0KF9yZWYpIHtcbiAgICAgIHZhciByZXN1bHQgPSBfcmVmLnJlc3VsdDtcbiAgICAgIHJldHVybiAnJyArIHJlc3VsdC5sYWJlbDtcbiAgICB9LFxuICAgIG1hcmtlcjoge1xuICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCksXG4gICAgICBkcmFnZ2FibGU6IGZhbHNlXG4gICAgfSxcbiAgICBtYXhNYXJrZXJzOiAxLFxuICAgIHJldGFpblpvb21MZXZlbDogZmFsc2UsXG4gICAgYW5pbWF0ZVpvb206IHRydWUsXG4gICAgc2VhcmNoTGFiZWw6ICdFbnRlciBhZGRyZXNzJyxcbiAgICBub3RGb3VuZE1lc3NhZ2U6ICdTb3JyeSwgdGhhdCBhZGRyZXNzIGNvdWxkIG5vdCBiZSBmb3VuZC4nLFxuICAgIG1lc3NhZ2VIaWRlRGVsYXk6IDMwMDAsXG4gICAgem9vbUxldmVsOiAxOCxcbiAgICBjbGFzc05hbWVzOiB7XG4gICAgICBjb250YWluZXI6ICdsZWFmbGV0LWJhciBsZWFmbGV0LWNvbnRyb2wgbGVhZmxldC1jb250cm9sLWdlb3NlYXJjaCcsXG4gICAgICBidXR0b246ICdsZWFmbGV0LWJhci1wYXJ0IGxlYWZsZXQtYmFyLXBhcnQtc2luZ2xlJyxcbiAgICAgIG1zZ2JveDogJ2xlYWZsZXQtYmFyIG1lc3NhZ2UnLFxuICAgICAgZm9ybTogJycsXG4gICAgICBpbnB1dDogJydcbiAgICB9LFxuICAgIGF1dG9Db21wbGV0ZTogdHJ1ZSxcbiAgICBhdXRvQ29tcGxldGVEZWxheTogMjUwLFxuICAgIGF1dG9DbG9zZTogZmFsc2VcbiAgfTtcbn07XG5cbnZhciBDb250cm9sID0ge1xuICBpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5tYXJrZXJzID0gbmV3IEwuRmVhdHVyZUdyb3VwKCk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdE9wdGlvbnMoKSwgb3B0aW9ucyk7XG5cbiAgICB2YXIgX29wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIHN0eWxlID0gX29wdGlvbnMuc3R5bGUsXG4gICAgICAgIGNsYXNzTmFtZXMgPSBfb3B0aW9ucy5jbGFzc05hbWVzLFxuICAgICAgICBzZWFyY2hMYWJlbCA9IF9vcHRpb25zLnNlYXJjaExhYmVsLFxuICAgICAgICBhdXRvQ29tcGxldGUgPSBfb3B0aW9ucy5hdXRvQ29tcGxldGUsXG4gICAgICAgIGF1dG9Db21wbGV0ZURlbGF5ID0gX29wdGlvbnMuYXV0b0NvbXBsZXRlRGVsYXk7XG5cbiAgICBpZiAoc3R5bGUgIT09ICdidXR0b24nKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lcy5jb250YWluZXIgKz0gJyAnICsgb3B0aW9ucy5zdHlsZTtcbiAgICB9XG5cbiAgICB0aGlzLnNlYXJjaEVsZW1lbnQgPSBuZXcgX3NlYXJjaEVsZW1lbnQyLmRlZmF1bHQoX2V4dGVuZHMoe30sIHRoaXMub3B0aW9ucywge1xuICAgICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQocXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLm9uU3VibWl0KHF1ZXJ5KTtcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICB2YXIgX3NlYXJjaEVsZW1lbnQkZWxlbWVuID0gdGhpcy5zZWFyY2hFbGVtZW50LmVsZW1lbnRzLFxuICAgICAgICBjb250YWluZXIgPSBfc2VhcmNoRWxlbWVudCRlbGVtZW4uY29udGFpbmVyLFxuICAgICAgICBmb3JtID0gX3NlYXJjaEVsZW1lbnQkZWxlbWVuLmZvcm0sXG4gICAgICAgIGlucHV0ID0gX3NlYXJjaEVsZW1lbnQkZWxlbWVuLmlucHV0O1xuXG4gICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG5cbiAgICB2YXIgYnV0dG9uID0gKDAsIF9kb21VdGlscy5jcmVhdGVFbGVtZW50KSgnYScsIGNsYXNzTmFtZXMuYnV0dG9uLCBjb250YWluZXIpO1xuICAgIGJ1dHRvbi50aXRsZSA9IHNlYXJjaExhYmVsO1xuICAgIGJ1dHRvbi5ocmVmID0gJyMnO1xuXG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLm9uQ2xpY2soZSk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgaWYgKGF1dG9Db21wbGV0ZSkge1xuICAgICAgdGhpcy5yZXN1bHRMaXN0ID0gbmV3IF9yZXN1bHRMaXN0Mi5kZWZhdWx0KHtcbiAgICAgICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKF9yZWYyKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IF9yZWYyLnJlc3VsdDtcblxuICAgICAgICAgIGlucHV0LnZhbHVlID0gcmVzdWx0LmxhYmVsO1xuICAgICAgICAgIF90aGlzLm9uU3VibWl0KHsgcXVlcnk6IHJlc3VsdC5sYWJlbCB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQodGhpcy5yZXN1bHRMaXN0LmVsZW1lbnRzLmNvbnRhaW5lcik7XG5cbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKDAsIF9sb2Rhc2gyLmRlZmF1bHQpKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5hdXRvU2VhcmNoKGUpO1xuICAgICAgfSwgYXV0b0NvbXBsZXRlRGVsYXkpLCB0cnVlKTtcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuc2VsZWN0UmVzdWx0KGUpO1xuICAgICAgfSwgdHJ1ZSk7XG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNsZWFyUmVzdWx0cyhlKTtcbiAgICAgIH0sIHRydWUpO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudHMgPSB7IGJ1dHRvbjogYnV0dG9uIH07XG4gIH0sXG4gIG9uQWRkOiBmdW5jdGlvbiBvbkFkZChtYXApIHtcbiAgICB2YXIgX29wdGlvbnMyID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBzaG93TWFya2VyID0gX29wdGlvbnMyLnNob3dNYXJrZXIsXG4gICAgICAgIHN0eWxlID0gX29wdGlvbnMyLnN0eWxlO1xuXG5cbiAgICB0aGlzLm1hcCA9IG1hcDtcbiAgICBpZiAoc2hvd01hcmtlcikge1xuICAgICAgdGhpcy5tYXJrZXJzLmFkZFRvKG1hcCk7XG4gICAgfVxuXG4gICAgaWYgKHN0eWxlID09PSAnYmFyJykge1xuICAgICAgdmFyIGZvcm0gPSB0aGlzLnNlYXJjaEVsZW1lbnQuZWxlbWVudHMuZm9ybTtcblxuICAgICAgdmFyIHJvb3QgPSBtYXAuZ2V0Q29udGFpbmVyKCkucXVlcnlTZWxlY3RvcignLmxlYWZsZXQtY29udHJvbC1jb250YWluZXInKTtcblxuICAgICAgdmFyIGNvbnRhaW5lciA9ICgwLCBfZG9tVXRpbHMuY3JlYXRlRWxlbWVudCkoJ2RpdicsICdsZWFmbGV0LWNvbnRyb2wtZ2Vvc2VhcmNoIGJhcicpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgcm9vdC5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgdGhpcy5lbGVtZW50cy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoRWxlbWVudC5lbGVtZW50cy5jb250YWluZXI7XG4gIH0sXG4gIG9uUmVtb3ZlOiBmdW5jdGlvbiBvblJlbW92ZSgpIHtcbiAgICB2YXIgY29udGFpbmVyID0gdGhpcy5lbGVtZW50cy5jb250YWluZXI7XG5cbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXIucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyIF9zZWFyY2hFbGVtZW50JGVsZW1lbjIgPSB0aGlzLnNlYXJjaEVsZW1lbnQuZWxlbWVudHMsXG4gICAgICAgIGNvbnRhaW5lciA9IF9zZWFyY2hFbGVtZW50JGVsZW1lbjIuY29udGFpbmVyLFxuICAgICAgICBpbnB1dCA9IF9zZWFyY2hFbGVtZW50JGVsZW1lbjIuaW5wdXQ7XG5cblxuICAgIGlmIChjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAoMCwgX2RvbVV0aWxzLmFkZENsYXNzTmFtZSkoY29udGFpbmVyLCAnYWN0aXZlJyk7XG4gICAgICBpbnB1dC5mb2N1cygpO1xuICAgIH1cbiAgfSxcbiAgc2VsZWN0UmVzdWx0OiBmdW5jdGlvbiBzZWxlY3RSZXN1bHQoZXZlbnQpIHtcbiAgICBpZiAoIVtfY29uc3RhbnRzLkVOVEVSX0tFWSwgX2NvbnN0YW50cy5BUlJPV19ET1dOX0tFWSwgX2NvbnN0YW50cy5BUlJPV19VUF9LRVldLmluY2x1ZGVzKGV2ZW50LmtleUNvZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciBpbnB1dCA9IHRoaXMuc2VhcmNoRWxlbWVudC5lbGVtZW50cy5pbnB1dDtcblxuXG4gICAgdmFyIGxpc3QgPSB0aGlzLnJlc3VsdExpc3Q7XG4gICAgdmFyIG1heCA9IHRoaXMucmVzdWx0TGlzdC5jb3VudCgpIC0gMTtcbiAgICBpZiAobWF4IDwgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgdmFyIG5leHQgPSBldmVudC5jb2RlID09PSAnQXJyb3dEb3duJyA/IH5+bGlzdC5zZWxlY3RlZCArIDEgOiB+fmxpc3Quc2VsZWN0ZWQgLSAxO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgIHZhciBpZHggPSBuZXh0IDwgMCA/IG1heCA6IG5leHQgPiBtYXggPyAwIDogbmV4dDtcblxuICAgIHZhciBpdGVtID0gbGlzdC5zZWxlY3QoaWR4KTtcbiAgICBpbnB1dC52YWx1ZSA9IGl0ZW0ubGFiZWw7XG5cbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX2NvbnN0YW50cy5FTlRFUl9LRVkpIHtcbiAgICAgIHRoaXMub25TdWJtaXQoeyBxdWVyeTogaXRlbS5sYWJlbCB9KTtcbiAgICB9XG4gIH0sXG4gIGNsZWFyUmVzdWx0czogZnVuY3Rpb24gY2xlYXJSZXN1bHRzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgIT09IF9jb25zdGFudHMuRVNDQVBFX0tFWSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucmVzdWx0TGlzdC5jbGVhcigpO1xuICB9LFxuICBhdXRvU2VhcmNoOiBmdW5jdGlvbiBhdXRvU2VhcmNoKGV2ZW50KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgkcmV0dXJuLCAkZXJyb3IpIHtcbiAgICAgIHZhciBxdWVyeSwgcHJvdmlkZXIsIHJlc3VsdHM7XG5cbiAgICAgIGlmIChfY29uc3RhbnRzLlNQRUNJQUxfS0VZUy5pbmNsdWRlcyhldmVudC5rZXlDb2RlKSkge1xuICAgICAgICByZXR1cm4gJHJldHVybigpO1xuICAgICAgfVxuXG4gICAgICBxdWVyeSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgIHByb3ZpZGVyID0gdGhpcy5vcHRpb25zLnByb3ZpZGVyO1xuXG5cbiAgICAgIGlmIChxdWVyeS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyLnNlYXJjaCh7IHF1ZXJ5OiBxdWVyeSB9KS50aGVuKGZ1bmN0aW9uICgkYXdhaXRfMikge1xuICAgICAgICAgIHJlc3VsdHMgPSAkYXdhaXRfMjtcbiAgICAgICAgICB0aGlzLnJlc3VsdExpc3QucmVuZGVyKHJlc3VsdHMpO1xuICAgICAgICAgIHJldHVybiAkSWZfMS5jYWxsKHRoaXMpO1xuICAgICAgICB9LiRhc3luY2JpbmQodGhpcywgJGVycm9yKSwgJGVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzdWx0TGlzdC5jbGVhcigpO1xuICAgICAgICByZXR1cm4gJElmXzEuY2FsbCh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gJElmXzEoKSB7XG4gICAgICAgIHJldHVybiAkcmV0dXJuKCk7XG4gICAgICB9XG4gICAgfS4kYXN5bmNiaW5kKHRoaXMpKTtcbiAgfSxcbiAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KHF1ZXJ5KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgkcmV0dXJuLCAkZXJyb3IpIHtcbiAgICAgIHZhciBwcm92aWRlciwgcmVzdWx0cztcbiAgICAgIHByb3ZpZGVyID0gdGhpcy5vcHRpb25zLnByb3ZpZGVyO1xuICAgICAgcmV0dXJuIHByb3ZpZGVyLnNlYXJjaChxdWVyeSkudGhlbihmdW5jdGlvbiAoJGF3YWl0XzMpIHtcblxuICAgICAgICByZXN1bHRzID0gJGF3YWl0XzM7XG5cbiAgICAgICAgaWYgKHJlc3VsdHMgJiYgcmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy5zaG93UmVzdWx0KHJlc3VsdHNbMF0sIHF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJHJldHVybigpO1xuICAgICAgfS4kYXN5bmNiaW5kKHRoaXMsICRlcnJvciksICRlcnJvcik7XG4gICAgfS4kYXN5bmNiaW5kKHRoaXMpKTtcbiAgfSxcbiAgc2hvd1Jlc3VsdDogZnVuY3Rpb24gc2hvd1Jlc3VsdChyZXN1bHQsIHF1ZXJ5KSB7XG4gICAgdmFyIGF1dG9DbG9zZSA9IHRoaXMub3B0aW9ucy5hdXRvQ2xvc2U7XG5cblxuICAgIHZhciBtYXJrZXJzID0gT2JqZWN0LmtleXModGhpcy5tYXJrZXJzLl9sYXllcnMpO1xuICAgIGlmIChtYXJrZXJzLmxlbmd0aCA+PSB0aGlzLm9wdGlvbnMubWF4TWFya2Vycykge1xuICAgICAgdGhpcy5tYXJrZXJzLnJlbW92ZUxheWVyKG1hcmtlcnNbMF0pO1xuICAgIH1cblxuICAgIHZhciBtYXJrZXIgPSB0aGlzLmFkZE1hcmtlcihyZXN1bHQsIHF1ZXJ5KTtcbiAgICB0aGlzLmNlbnRlck1hcChyZXN1bHQpO1xuXG4gICAgdGhpcy5tYXAuZmlyZUV2ZW50KCdnZW9zZWFyY2gvc2hvd2xvY2F0aW9uJywge1xuICAgICAgbG9jYXRpb246IHJlc3VsdCxcbiAgICAgIG1hcmtlcjogbWFya2VyXG4gICAgfSk7XG5cbiAgICBpZiAoYXV0b0Nsb3NlKSB7XG4gICAgICB0aGlzLmNsb3NlUmVzdWx0cygpO1xuICAgIH1cbiAgfSxcbiAgY2xvc2VSZXN1bHRzOiBmdW5jdGlvbiBjbG9zZVJlc3VsdHMoKSB7XG4gICAgdmFyIF9zZWFyY2hFbGVtZW50JGVsZW1lbjMgPSB0aGlzLnNlYXJjaEVsZW1lbnQuZWxlbWVudHMsXG4gICAgICAgIGNvbnRhaW5lciA9IF9zZWFyY2hFbGVtZW50JGVsZW1lbjMuY29udGFpbmVyLFxuICAgICAgICBpbnB1dCA9IF9zZWFyY2hFbGVtZW50JGVsZW1lbjMuaW5wdXQ7XG5cblxuICAgIGlmIChjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2FjdGl2ZScpO1xuICAgIH1cblxuICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgdGhpcy5yZXN1bHRMaXN0LmNsZWFyKCk7XG4gIH0sXG4gIGFkZE1hcmtlcjogZnVuY3Rpb24gYWRkTWFya2VyKHJlc3VsdCwgcXVlcnkpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfb3B0aW9uczMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIG9wdGlvbnMgPSBfb3B0aW9uczMubWFya2VyLFxuICAgICAgICBzaG93UG9wdXAgPSBfb3B0aW9uczMuc2hvd1BvcHVwLFxuICAgICAgICBwb3B1cEZvcm1hdCA9IF9vcHRpb25zMy5wb3B1cEZvcm1hdDtcblxuICAgIHZhciBtYXJrZXIgPSBuZXcgTC5NYXJrZXIoW3Jlc3VsdC55LCByZXN1bHQueF0sIG9wdGlvbnMpO1xuICAgIHZhciBwb3B1cExhYmVsID0gcmVzdWx0LmxhYmVsO1xuXG4gICAgaWYgKHR5cGVvZiBwb3B1cEZvcm1hdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcG9wdXBMYWJlbCA9IHBvcHVwRm9ybWF0KHsgcXVlcnk6IHF1ZXJ5LCByZXN1bHQ6IHJlc3VsdCB9KTtcbiAgICB9XG5cbiAgICBtYXJrZXIuYmluZFBvcHVwKHBvcHVwTGFiZWwpO1xuXG4gICAgdGhpcy5tYXJrZXJzLmFkZExheWVyKG1hcmtlcik7XG5cbiAgICBpZiAoc2hvd1BvcHVwKSB7XG4gICAgICBtYXJrZXIub3BlblBvcHVwKCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZHJhZ2dhYmxlKSB7XG4gICAgICBtYXJrZXIub24oJ2RyYWdlbmQnLCBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICBfdGhpczIubWFwLmZpcmVFdmVudCgnZ2Vvc2VhcmNoL21hcmtlci9kcmFnZW5kJywge1xuICAgICAgICAgIGxvY2F0aW9uOiBtYXJrZXIuZ2V0TGF0TG5nKCksXG4gICAgICAgICAgZXZlbnQ6IGFyZ3NcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWFya2VyO1xuICB9LFxuICBjZW50ZXJNYXA6IGZ1bmN0aW9uIGNlbnRlck1hcChyZXN1bHQpIHtcbiAgICB2YXIgX29wdGlvbnM0ID0gdGhpcy5vcHRpb25zLFxuICAgICAgICByZXRhaW5ab29tTGV2ZWwgPSBfb3B0aW9uczQucmV0YWluWm9vbUxldmVsLFxuICAgICAgICBhbmltYXRlWm9vbSA9IF9vcHRpb25zNC5hbmltYXRlWm9vbTtcblxuXG4gICAgdmFyIHJlc3VsdEJvdW5kcyA9IG5ldyBMLkxhdExuZ0JvdW5kcyhyZXN1bHQuYm91bmRzKTtcbiAgICB2YXIgYm91bmRzID0gcmVzdWx0Qm91bmRzLmlzVmFsaWQoKSA/IHJlc3VsdEJvdW5kcyA6IHRoaXMubWFya2Vycy5nZXRCb3VuZHMoKTtcblxuICAgIGlmICghcmV0YWluWm9vbUxldmVsICYmIHJlc3VsdEJvdW5kcy5pc1ZhbGlkKCkpIHtcbiAgICAgIHRoaXMubWFwLmZpdEJvdW5kcyhib3VuZHMsIHsgYW5pbWF0ZTogYW5pbWF0ZVpvb20gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubWFwLnNldFZpZXcoYm91bmRzLmdldENlbnRlcigpLCB0aGlzLmdldFpvb20oKSwgeyBhbmltYXRlOiBhbmltYXRlWm9vbSB9KTtcbiAgICB9XG4gIH0sXG4gIGdldFpvb206IGZ1bmN0aW9uIGdldFpvb20oKSB7XG4gICAgdmFyIF9vcHRpb25zNSA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgcmV0YWluWm9vbUxldmVsID0gX29wdGlvbnM1LnJldGFpblpvb21MZXZlbCxcbiAgICAgICAgem9vbUxldmVsID0gX29wdGlvbnM1Lnpvb21MZXZlbDtcblxuICAgIHJldHVybiByZXRhaW5ab29tTGV2ZWwgPyB0aGlzLm1hcC5nZXRab29tKCkgOiB6b29tTGV2ZWw7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIExlYWZsZXRDb250cm9sKCkge1xuICBpZiAoIUwgfHwgIUwuQ29udHJvbCB8fCAhTC5Db250cm9sLmV4dGVuZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignTGVhZmxldCBtdXN0IGJlIGxvYWRlZCBiZWZvcmUgaW5zdGFudGlhdGluZyB0aGUgR2VvU2VhcmNoIGNvbnRyb2wnKTtcbiAgfVxuXG4gIHZhciBMQ29udHJvbCA9IEwuQ29udHJvbC5leHRlbmQoQ29udHJvbCk7XG5cbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9wdGlvbnMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBvcHRpb25zW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoTENvbnRyb2wsIFtudWxsXS5jb25jYXQob3B0aW9ucykpKSgpO1xufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL2xlYWZsZXRDb250cm9sLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogJGFzeW5jYmluZCBoYXMgbXVsdGlwbGUgdXNlcywgZGVwZW5kaW5nIG9uIHRoZSBwYXJhbWV0ZXIgbGlzdC4gSXQgaXMgaW4gRnVuY3Rpb24ucHJvdG90eXBlLCBzbyAndGhpcycgaXMgYWx3YXlzIGEgZnVuY3Rpb25cbiAqXG4gKiAxKSBJZiBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCAodGhpcyksIGl0IGlzIHVzZWQgd2hlbiBkZWZpbmluZyBhbiBhc3luYyBmdW5jdGlvbiB0byBlbnN1cmUgd2hlblxuICogICAgICBpdCBpcyBpbnZva2VkLCB0aGUgY29ycmVjdCAndGhpcycgaXMgcHJlc2VudCwganVzdCBsaWtlIFwiYmluZFwiLiBGb3IgbGVnYWN5IHJlYXNvbnMsICd0aGlzJyBpcyBnaXZlblxuICogICAgICBhIG1lbWViZXIgJ3RoZW4nIHdoaWNoIHJlZmVycyB0byBpdHNlbGYuXG4gKiAyKSBJZiBjYWxsZWQgd2l0aCBhIHNlY29uZCBwYXJhbWV0ZXIgKFwiY2F0Y2hlclwiKSBhbmQgY2F0Y2hlciE9PXRydWUgaXQgaXMgYmVpbmcgdXNlZCB0byBpbnZva2UgYW4gYXN5bmNcbiAqICAgICAgZnVuY3Rpb24gd2hlcmUgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgdGhlIGVycm9yIGNhbGxiYWNrIChmb3Igc3luYyBleGNlcHRpb25zIGFuZCB0byBiZSBwYXNzZWQgdG9cbiAqICAgICAgbmVzdGVkIGFzeW5jIGNhbGxzKVxuICogMykgSWYgY2FsbGVkIHdpdGggdGhlIHNlY29uZCBwYXJhbWV0ZXI9PT10cnVlLCBpdCBpcyB0aGUgc2FtZSB1c2UgYXMgKDEpLCBidXQgdGhlIGZ1bmN0aW9uIGlzIHdyYXBwZWRcbiAqICAgICAgaW4gYW4gJ1Byb21pc2UnIGFzIHdlbGwgYm91bmQgdG8gJ3RoaXMnLlxuICogICAgICBJdCBpcyB0aGUgc2FtZSBhcyBjYWxsaW5nICduZXcgUHJvbWlzZSh0aGlzKScsIHdoZXJlICd0aGlzJyBpcyB0aGUgZnVuY3Rpb24gYmVpbmcgYm91bmQvd3JhcHBlZFxuICogNCkgSWYgY2FsbGVkIHdpdGggdGhlIHNlY29uZCBwYXJhbWV0ZXI9PT0wLCBpdCBpcyB0aGUgc2FtZSB1c2UgYXMgKDEpLCBidXQgdGhlIGZ1bmN0aW9uIGlzIHdyYXBwZWRcbiAqICAgICAgaW4gYSAnTGF6eVRoZW5hYmxlJywgd2hpY2ggZXhlY3V0ZXMgbGF6aWx5IGFuZCBjYW4gcmVzb2x2ZSBzeW5jaHJvbm91c2x5LlxuICogICAgICBJdCBpcyB0aGUgc2FtZSBhcyBjYWxsaW5nICduZXcgTGF6eVRoZW5hYmxlKHRoaXMpJyAoaWYgc3VjaCBhIHR5cGUgd2VyZSBleHBvc2VkKSwgd2hlcmUgJ3RoaXMnIGlzXG4gKiAgICAgIHRoZSBmdW5jdGlvbiBiZWluZyBib3VuZC93cmFwcGVkXG4gKi9cblxuZnVuY3Rpb24gcHJvY2Vzc0luY2x1ZGVzKGluY2x1ZGVzLGlucHV0KSB7XG4gICAgdmFyIHNyYyA9IGlucHV0LnRvU3RyaW5nKCkgO1xuICAgIHZhciB0ID0gXCJyZXR1cm4gXCIrc3JjIDtcbiAgICB2YXIgYXJncyA9IHNyYy5tYXRjaCgvLipcXCgoW14pXSopXFwpLylbMV0gO1xuICAgIHZhciByZSA9IC9bJ1wiXSEhIShbXidcIl0qKVsnXCJdL2cgO1xuICAgIHZhciBtID0gW10gO1xuICAgIHdoaWxlICgxKSB7XG4gICAgICAgIHZhciBteCA9IHJlLmV4ZWModCkgO1xuICAgICAgICBpZiAobXgpXG4gICAgICAgICAgICBtLnB1c2gobXgpIDtcbiAgICAgICAgZWxzZSBicmVhayA7XG4gICAgfVxuICAgIG0ucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7XG4gICAgICAgIHQgPSB0LnNsaWNlKDAsZS5pbmRleCkraW5jbHVkZXNbZVsxXV0rdC5zdWJzdHIoZS5pbmRleCtlWzBdLmxlbmd0aCkgO1xuICAgIH0pIDtcbiAgICB0ID0gdC5yZXBsYWNlKC9cXC9cXCpbXipdKlxcKlxcLy9nLCcgJykucmVwbGFjZSgvXFxzKy9nLCcgJykgO1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oYXJncyx0KSgpIDtcbn1cblxudmFyICRhc3luY2JpbmQgPSBwcm9jZXNzSW5jbHVkZXMoe1xuICAgIHpvdXNhbjpyZXF1aXJlKCcuL3pvdXNhbicpLnRvU3RyaW5nKCksXG4gICAgdGhlbmFibGU6cmVxdWlyZSgnLi90aGVuYWJsZUZhY3RvcnknKS50b1N0cmluZygpXG59LFxuZnVuY3Rpb24gJGFzeW5jYmluZChzZWxmLGNhdGNoZXIpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBpZiAoIUZ1bmN0aW9uLnByb3RvdHlwZS4kYXN5bmNiaW5kKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsXCIkYXN5bmNiaW5kXCIse3ZhbHVlOiRhc3luY2JpbmQsZW51bWVyYWJsZTpmYWxzZSxjb25maWd1cmFibGU6dHJ1ZSx3cml0YWJsZTp0cnVlfSkgO1xuICAgIH1cblxuICAgIGlmICghJGFzeW5jYmluZC50cmFtcG9saW5lKSB7XG4gICAgICAkYXN5bmNiaW5kLnRyYW1wb2xpbmUgPSBmdW5jdGlvbiB0cmFtcG9saW5lKHQseCxzLGUsdSl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBiKHEpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAocSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocS50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxID0gcS50aGVuKGIsIGUpIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1P3VuZGVmaW5lZDpxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5wb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcS5wb3AoKSA/IHguY2FsbCh0KSA6IHE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcSA9IHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcSA9IHEuY2FsbCh0KVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZShyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCEkYXN5bmNiaW5kLkxhenlUaGVuYWJsZSkge1xuICAgICAgICAkYXN5bmNiaW5kLkxhenlUaGVuYWJsZSA9ICchISF0aGVuYWJsZScoKTtcbiAgICAgICAgJGFzeW5jYmluZC5FYWdlclRoZW5hYmxlID0gJGFzeW5jYmluZC5UaGVuYWJsZSA9ICgkYXN5bmNiaW5kLkVhZ2VyVGhlbmFibGVGYWN0b3J5ID0gJyEhIXpvdXNhbicpKCk7XG4gICAgfVxuXG4gICAgdmFyIHJlc29sdmVyID0gdGhpcztcbiAgICBzd2l0Y2ggKGNhdGNoZXIpIHtcbiAgICBjYXNlIHRydWU6XG4gICAgICAgIHJldHVybiBuZXcgKCRhc3luY2JpbmQuVGhlbmFibGUpKGJvdW5kVGhlbik7XG4gICAgY2FzZSAwOlxuICAgICAgICByZXR1cm4gbmV3ICgkYXN5bmNiaW5kLkxhenlUaGVuYWJsZSkoYm91bmRUaGVuKTtcbiAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgLyogRm9yIHJ1bnRpbWUgY29tcGF0aWJpbGl0eSB3aXRoIE5vZGVudCB2Mi54LCBwcm92aWRlIGEgdGhlbmFibGUgKi9cbiAgICAgICAgYm91bmRUaGVuLnRoZW4gPSBib3VuZFRoZW4gO1xuICAgICAgICByZXR1cm4gYm91bmRUaGVuIDtcbiAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyLmFwcGx5KHNlbGYsYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0gY2F0Y2goZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2F0Y2hlcihleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYm91bmRUaGVuKCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZXIuYXBwbHkoc2VsZixhcmd1bWVudHMpO1xuICAgIH1cbn0pIDtcblxuZnVuY3Rpb24gJGFzeW5jc3Bhd24ocHJvbWlzZVByb3ZpZGVyLHNlbGYpIHtcbiAgICBpZiAoIUZ1bmN0aW9uLnByb3RvdHlwZS4kYXN5bmNzcGF3bikge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVuY3Rpb24ucHJvdG90eXBlLFwiJGFzeW5jc3Bhd25cIix7dmFsdWU6JGFzeW5jc3Bhd24sZW51bWVyYWJsZTpmYWxzZSxjb25maWd1cmFibGU6dHJ1ZSx3cml0YWJsZTp0cnVlfSkgO1xuICAgIH1cbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb24pKSByZXR1cm4gO1xuXG4gICAgdmFyIGdlbkYgPSB0aGlzIDtcbiAgICByZXR1cm4gbmV3IHByb21pc2VQcm92aWRlcihmdW5jdGlvbiBlbm91Z2gocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBnZW4gPSBnZW5GLmNhbGwoc2VsZiwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgZnVuY3Rpb24gc3RlcChmbixhcmcpIHtcbiAgICAgICAgICAgIHZhciBuZXh0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXh0ID0gZm4uY2FsbChnZW4sYXJnKTtcbiAgICAgICAgICAgICAgICBpZihuZXh0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQudmFsdWUgIT09IHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LnZhbHVlICYmIG5leHQudmFsdWU9PT1uZXh0LnZhbHVlLnRoZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQudmFsdWUocmVzb2x2ZSxyZWplY3QpIDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUgJiYgcmVzb2x2ZShuZXh0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUgPSBudWxsIDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG5leHQudmFsdWUudGhlbikge1xuICAgICAgICAgICAgICAgICAgICBuZXh0LnZhbHVlLnRoZW4oZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcChnZW4ubmV4dCx2KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcChnZW4udGhyb3csZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuLm5leHQsbmV4dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0ICYmIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICByZWplY3QgPSBudWxsIDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RlcChnZW4ubmV4dCk7XG4gICAgfSk7XG59XG5cbi8vIEluaXRpYWxpemUgYXN5bmMgYmluZGluZ3NcbiRhc3luY2JpbmQoKSA7XG4kYXN5bmNzcGF3bigpIDtcblxuLy8gRXhwb3J0IGFzeW5jIGJpbmRpbmdzXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICAkYXN5bmNiaW5kOiRhc3luY2JpbmQsXG4gICAgJGFzeW5jc3Bhd246JGFzeW5jc3Bhd25cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L25vZGVudC1ydW50aW1lL3J1bnRpbWUuanMiLCIvKiBUaGlzIGNvZGUgaXMgYmFzZWQgb246XG56b3VzYW4gLSBBIExpZ2h0bmluZyBGYXN0LCBZZXQgVmVyeSBTbWFsbCBQcm9taXNlIEErIENvbXBsaWFudCBJbXBsZW1lbnRhdGlvblxuaHR0cHM6Ly9naXRodWIuY29tL2JsdWVqYXZhL3pvdXNhblxuQXV0aG9yOiBHbGVubiBDcm93bm92ZXIgPGdsZW5uQGJsdWVqYXZhLmNvbT4gKGh0dHA6Ly93d3cuYmx1ZWphdmEuY29tKVxuVmVyc2lvbiAyLjMuM1xuTGljZW5zZTogTUlUICovXG5cInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGljayl7XG4gICAgdGljayA9IHRpY2sgfHwgKHR5cGVvZiBwcm9jZXNzPT09XCJvYmplY3RcIiAmJiBwcm9jZXNzLm5leHRUaWNrKSB8fCAodHlwZW9mIHNldEltbWVkaWF0ZT09PVwiZnVuY3Rpb25cIiAmJiBzZXRJbW1lZGlhdGUpIHx8IGZ1bmN0aW9uKGYpe3NldFRpbWVvdXQoZiwwKX07XG4gICAgdmFyIHNvb24gPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnEgPSBbXSwgZnFTdGFydCA9IDAsIGJ1ZmZlclNpemUgPSAxMDI0O1xuICAgICAgICBmdW5jdGlvbiBjYWxsUXVldWUoKSB7XG4gICAgICAgICAgICB3aGlsZSAoZnEubGVuZ3RoIC0gZnFTdGFydCkge1xuICAgICAgICAgICAgICAgIHRyeSB7IGZxW2ZxU3RhcnRdKCkgfSBjYXRjaChleCkgeyAvKiBjb25zb2xlLmVycm9yKGV4KSAqLyB9XG4gICAgICAgICAgICAgICAgZnFbZnFTdGFydCsrXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoZnFTdGFydCA9PT0gYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBmcS5zcGxpY2UoMCwgYnVmZmVyU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZxU3RhcnQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgIGZxLnB1c2goZm4pO1xuICAgICAgICAgICAgaWYgKGZxLmxlbmd0aCAtIGZxU3RhcnQgPT09IDEpXG4gICAgICAgICAgICAgICAgdGljayhjYWxsUXVldWUpO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG5cbiAgICBmdW5jdGlvbiBab3VzYW4oZnVuYykge1xuICAgICAgICBpZiAoZnVuYykge1xuICAgICAgICAgICAgdmFyIG1lID0gdGhpcztcbiAgICAgICAgICAgIGZ1bmMoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICAgICAgICAgIG1lLnJlc29sdmUoYXJnKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgICAgICBtZS5yZWplY3QoYXJnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgWm91c2FuLnByb3RvdHlwZSA9IHtcbiAgICAgICAgcmVzb2x2ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcylcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIkF0dGVtcHQgdG8gcmVzb2x2ZSBwcm9taXNlIHdpdGggc2VsZlwiKSk7XG4gICAgICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZW4gPSB2YWx1ZS50aGVuO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbiAocmEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpcnN0KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUucmVzb2x2ZShyYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnJlamVjdChycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZmlyc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9GVUxGSUxMRUQ7XG4gICAgICAgICAgICB0aGlzLnYgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChtZS5jKVxuICAgICAgICAgICAgICAgIHNvb24oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuID0gMCwgbCA9IG1lLmMubGVuZ3RoO24gPCBsOyBuKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBTVEFURV9GVUxGSUxMRUQobWUuY1tuXSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICByZWplY3Q6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFSkVDVEVEO1xuICAgICAgICAgICAgdGhpcy52ID0gcmVhc29uO1xuICAgICAgICAgICAgdmFyIGNsaWVudHMgPSB0aGlzLmM7XG4gICAgICAgICAgICBpZiAoY2xpZW50cylcbiAgICAgICAgICAgICAgICBzb29uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbiA9IDAsIGwgPSBjbGllbnRzLmxlbmd0aDtuIDwgbDsgbisrKVxuICAgICAgICAgICAgICAgICAgICAgICAgU1RBVEVfUkVKRUNURUQoY2xpZW50c1tuXSwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKG9uRiwgb25SKSB7XG4gICAgICAgICAgICB2YXIgcCA9IG5ldyBab3VzYW4oKTtcbiAgICAgICAgICAgIHZhciBjbGllbnQgPSB7XG4gICAgICAgICAgICAgICAgeTogb25GLFxuICAgICAgICAgICAgICAgIG46IG9uUixcbiAgICAgICAgICAgICAgICBwOiBwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYy5wdXNoKGNsaWVudCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmMgPSBbY2xpZW50XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSB0aGlzLnN0YXRlLCBhID0gdGhpcy52O1xuICAgICAgICAgICAgICAgIHNvb24oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzKGNsaWVudCwgYSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBTVEFURV9GVUxGSUxMRUQoYywgYXJnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYy55ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIHlyZXQgPSBjLnkuY2FsbCh1bmRlZmluZWQsIGFyZyk7XG4gICAgICAgICAgICAgICAgYy5wLnJlc29sdmUoeXJldCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjLnAucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgYy5wLnJlc29sdmUoYXJnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBTVEFURV9SRUpFQ1RFRChjLCByZWFzb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjLm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgeXJldCA9IGMubi5jYWxsKHVuZGVmaW5lZCwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBjLnAucmVzb2x2ZSh5cmV0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGMucC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBjLnAucmVqZWN0KHJlYXNvbik7XG4gICAgfVxuXG4gICAgWm91c2FuLnJlc29sdmUgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIGlmICh2YWwgJiYgKHZhbCBpbnN0YW5jZW9mIFpvdXNhbikpXG4gICAgICAgICAgICByZXR1cm4gdmFsIDtcbiAgICAgICAgdmFyIHogPSBuZXcgWm91c2FuKCk7XG4gICAgICAgIHoucmVzb2x2ZSh2YWwpO1xuICAgICAgICByZXR1cm4gejtcbiAgICB9O1xuICAgIFpvdXNhbi5yZWplY3QgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgKGVyciBpbnN0YW5jZW9mIFpvdXNhbikpXG4gICAgICAgICAgICByZXR1cm4gZXJyIDtcbiAgICAgICAgdmFyIHogPSBuZXcgWm91c2FuKCk7XG4gICAgICAgIHoucmVqZWN0KGVycik7XG4gICAgICAgIHJldHVybiB6O1xuICAgIH07XG5cbiAgICBab3VzYW4udmVyc2lvbiA9IFwiMi4zLjMtbm9kZW50XCIgO1xuICAgIHJldHVybiBab3VzYW4gO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbm9kZW50LXJ1bnRpbWUvem91c2FuLmpzIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAod2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3Byb2Nlc3MvYnJvd3Nlci5qcyIsInZhciBhcHBseSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtcblxuLy8gRE9NIEFQSXMsIGZvciBjb21wbGV0ZW5lc3NcblxuZXhwb3J0cy5zZXRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldFRpbWVvdXQsIHdpbmRvdywgYXJndW1lbnRzKSwgY2xlYXJUaW1lb3V0KTtcbn07XG5leHBvcnRzLnNldEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgVGltZW91dChhcHBseS5jYWxsKHNldEludGVydmFsLCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LCB0aGlzLl9pZCk7XG59O1xuXG4vLyBEb2VzIG5vdCBzdGFydCB0aGUgdGltZSwganVzdCBzZXRzIHVwIHRoZSBtZW1iZXJzIG5lZWRlZC5cbmV4cG9ydHMuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSwgbXNlY3MpIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IG1zZWNzO1xufTtcblxuZXhwb3J0cy51bmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuICBpdGVtLl9pZGxlVGltZW91dCA9IC0xO1xufTtcblxuZXhwb3J0cy5fdW5yZWZBY3RpdmUgPSBleHBvcnRzLmFjdGl2ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgY2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO1xuXG4gIHZhciBtc2VjcyA9IGl0ZW0uX2lkbGVUaW1lb3V0O1xuICBpZiAobXNlY3MgPj0gMCkge1xuICAgIGl0ZW0uX2lkbGVUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIG9uVGltZW91dCgpIHtcbiAgICAgIGlmIChpdGVtLl9vblRpbWVvdXQpXG4gICAgICAgIGl0ZW0uX29uVGltZW91dCgpO1xuICAgIH0sIG1zZWNzKTtcbiAgfVxufTtcblxuLy8gc2V0aW1tZWRpYXRlIGF0dGFjaGVzIGl0c2VsZiB0byB0aGUgZ2xvYmFsIG9iamVjdFxucmVxdWlyZShcInNldGltbWVkaWF0ZVwiKTtcbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuZXhwb3J0cy5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vICh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIihmdW5jdGlvbiAoZ2xvYmFsLCB1bmRlZmluZWQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbmV4dEhhbmRsZSA9IDE7IC8vIFNwZWMgc2F5cyBncmVhdGVyIHRoYW4gemVyb1xuICAgIHZhciB0YXNrc0J5SGFuZGxlID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgdmFyIHJlZ2lzdGVySW1tZWRpYXRlO1xuXG4gICAgZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4gICAgICAvLyBDYWxsYmFjayBjYW4gZWl0aGVyIGJlIGEgZnVuY3Rpb24gb3IgYSBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYWxsYmFjayA9IG5ldyBGdW5jdGlvbihcIlwiICsgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgLy8gQ29weSBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gU3RvcmUgYW5kIHJlZ2lzdGVyIHRoZSB0YXNrXG4gICAgICB2YXIgdGFzayA9IHsgY2FsbGJhY2s6IGNhbGxiYWNrLCBhcmdzOiBhcmdzIH07XG4gICAgICB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdID0gdGFzaztcbiAgICAgIHJlZ2lzdGVySW1tZWRpYXRlKG5leHRIYW5kbGUpO1xuICAgICAgcmV0dXJuIG5leHRIYW5kbGUrKztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpIHtcbiAgICAgICAgZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW4odGFzaykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICAgICAgICB2YXIgYXJncyA9IHRhc2suYXJncztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhbGxiYWNrKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKSB7XG4gICAgICAgIC8vIEZyb20gdGhlIHNwZWM6IFwiV2FpdCB1bnRpbCBhbnkgaW52b2NhdGlvbnMgb2YgdGhpcyBhbGdvcml0aG0gc3RhcnRlZCBiZWZvcmUgdGhpcyBvbmUgaGF2ZSBjb21wbGV0ZWQuXCJcbiAgICAgICAgLy8gU28gaWYgd2UncmUgY3VycmVudGx5IHJ1bm5pbmcgYSB0YXNrLCB3ZSdsbCBuZWVkIHRvIGRlbGF5IHRoaXMgaW52b2NhdGlvbi5cbiAgICAgICAgaWYgKGN1cnJlbnRseVJ1bm5pbmdBVGFzaykge1xuICAgICAgICAgICAgLy8gRGVsYXkgYnkgZG9pbmcgYSBzZXRUaW1lb3V0LiBzZXRJbW1lZGlhdGUgd2FzIHRyaWVkIGluc3RlYWQsIGJ1dCBpbiBGaXJlZm94IDcgaXQgZ2VuZXJhdGVkIGFcbiAgICAgICAgICAgIC8vIFwidG9vIG11Y2ggcmVjdXJzaW9uXCIgZXJyb3IuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgICAgICAgICAgaWYgKHRhc2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bih0YXNrKTtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckltbWVkaWF0ZShoYW5kbGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkgeyBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuVXNlUG9zdE1lc3NhZ2UoKSB7XG4gICAgICAgIC8vIFRoZSB0ZXN0IGFnYWluc3QgYGltcG9ydFNjcmlwdHNgIHByZXZlbnRzIHRoaXMgaW1wbGVtZW50YXRpb24gZnJvbSBiZWluZyBpbnN0YWxsZWQgaW5zaWRlIGEgd2ViIHdvcmtlcixcbiAgICAgICAgLy8gd2hlcmUgYGdsb2JhbC5wb3N0TWVzc2FnZWAgbWVhbnMgc29tZXRoaW5nIGNvbXBsZXRlbHkgZGlmZmVyZW50IGFuZCBjYW4ndCBiZSB1c2VkIGZvciB0aGlzIHB1cnBvc2UuXG4gICAgICAgIGlmIChnbG9iYWwucG9zdE1lc3NhZ2UgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKSB7XG4gICAgICAgICAgICB2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkT25NZXNzYWdlID0gZ2xvYmFsLm9ubWVzc2FnZTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKFwiXCIsIFwiKlwiKTtcbiAgICAgICAgICAgIGdsb2JhbC5vbm1lc3NhZ2UgPSBvbGRPbk1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICAvLyBJbnN0YWxscyBhbiBldmVudCBoYW5kbGVyIG9uIGBnbG9iYWxgIGZvciB0aGUgYG1lc3NhZ2VgIGV2ZW50OiBzZWVcbiAgICAgICAgLy8gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9ET00vd2luZG93LnBvc3RNZXNzYWdlXG4gICAgICAgIC8vICogaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvY29tbXMuaHRtbCNjcm9zc0RvY3VtZW50TWVzc2FnZXNcblxuICAgICAgICB2YXIgbWVzc2FnZVByZWZpeCA9IFwic2V0SW1tZWRpYXRlJFwiICsgTWF0aC5yYW5kb20oKSArIFwiJFwiO1xuICAgICAgICB2YXIgb25HbG9iYWxNZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGdsb2JhbCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIiwgb25HbG9iYWxNZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UobWVzc2FnZVByZWZpeCArIGhhbmRsZSwgXCIqXCIpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgICAgdmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgICAgICAgc2NyaXB0ID0gbnVsbDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBodG1sLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIElmIHN1cHBvcnRlZCwgd2Ugc2hvdWxkIGF0dGFjaCB0byB0aGUgcHJvdG90eXBlIG9mIGdsb2JhbCwgc2luY2UgdGhhdCBpcyB3aGVyZSBzZXRUaW1lb3V0IGV0IGFsLiBsaXZlLlxuICAgIHZhciBhdHRhY2hUbyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTtcbiAgICBhdHRhY2hUbyA9IGF0dGFjaFRvICYmIGF0dGFjaFRvLnNldFRpbWVvdXQgPyBhdHRhY2hUbyA6IGdsb2JhbDtcblxuICAgIC8vIERvbid0IGdldCBmb29sZWQgYnkgZS5nLiBicm93c2VyaWZ5IGVudmlyb25tZW50cy5cbiAgICBpZiAoe30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09IFwiW29iamVjdCBwcm9jZXNzXVwiKSB7XG4gICAgICAgIC8vIEZvciBOb2RlLmpzIGJlZm9yZSAwLjlcbiAgICAgICAgaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoY2FuVXNlUG9zdE1lc3NhZ2UoKSkge1xuICAgICAgICAvLyBGb3Igbm9uLUlFMTAgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxQb3N0TWVzc2FnZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgICAvLyBGb3Igd2ViIHdvcmtlcnMsIHdoZXJlIHN1cHBvcnRlZFxuICAgICAgICBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChkb2MgJiYgXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIiBpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSkge1xuICAgICAgICAvLyBGb3IgSUUgNuKAkzhcbiAgICAgICAgaW5zdGFsbFJlYWR5U3RhdGVDaGFuZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICBhdHRhY2hUby5zZXRJbW1lZGlhdGUgPSBzZXRJbW1lZGlhdGU7XG4gICAgYXR0YWNoVG8uY2xlYXJJbW1lZGlhdGUgPSBjbGVhckltbWVkaWF0ZTtcbn0odHlwZW9mIHNlbGYgPT09IFwidW5kZWZpbmVkXCIgPyB0eXBlb2YgZ2xvYmFsID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IGdsb2JhbCA6IHNlbGYpKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAod2VicGFjaykvfi9ub2RlLWxpYnMtYnJvd3Nlci9+L3RpbWVycy1icm93c2VyaWZ5L34vc2V0aW1tZWRpYXRlL3NldEltbWVkaWF0ZS5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gaXNUaGVuYWJsZShvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiAob2JqIGluc3RhbmNlb2YgT2JqZWN0KSAmJiB0eXBlb2Ygb2JqLnRoZW49PT1cImZ1bmN0aW9uXCI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x1dGlvbihwLHIsaG93KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvKiAyLjIuNy4xICovXG4gICAgICAgICAgICB2YXIgeCA9IGhvdyA/IGhvdyhyKTpyIDtcblxuICAgICAgICAgICAgaWYgKHA9PT14KSAvKiAyLjMuMSAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBwLnJlamVjdChuZXcgVHlwZUVycm9yKFwiUHJvbWlzZSByZXNvbHV0aW9uIGxvb3BcIikpIDtcblxuICAgICAgICAgICAgaWYgKGlzVGhlbmFibGUoeCkpIHtcbiAgICAgICAgICAgICAgICAvKiAyLjMuMyAqL1xuICAgICAgICAgICAgICAgIHgudGhlbihmdW5jdGlvbih5KXtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x1dGlvbihwLHkpO1xuICAgICAgICAgICAgICAgIH0sZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIHAucmVqZWN0KGUpXG4gICAgICAgICAgICAgICAgfSkgO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwLnJlc29sdmUoeCkgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgLyogMi4yLjcuMiAqL1xuICAgICAgICAgICAgcC5yZWplY3QoZXgpIDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIENoYWluZWQoKSB7fTtcbiAgICBDaGFpbmVkLnByb3RvdHlwZSA9IHtcbiAgICAgICAgcmVzb2x2ZTpfdW5jaGFpbmVkLFxuICAgICAgICByZWplY3Q6X3VuY2hhaW5lZCxcbiAgICAgICAgdGhlbjp0aGVuQ2hhaW5cbiAgICB9O1xuICAgIGZ1bmN0aW9uIF91bmNoYWluZWQodil7fVxuICAgIGZ1bmN0aW9uIHRoZW5DaGFpbihyZXMscmVqKXtcbiAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzO1xuICAgICAgICB0aGlzLnJlamVjdCA9IHJlajtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gdGhlbihyZXMscmVqKXtcbiAgICAgICAgdmFyIGNoYWluID0gbmV3IENoYWluZWQoKSA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlcihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1RoZW5hYmxlKHZhbHVlKSA/IHZhbHVlLnRoZW4ocmVzLHJlaikgOiByZXNvbHV0aW9uKGNoYWluLHZhbHVlLHJlcyk7XG4gICAgICAgICAgICB9LGZ1bmN0aW9uKGV4KSB7XG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbihjaGFpbixleCxyZWopIDtcbiAgICAgICAgICAgIH0pIDtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24oY2hhaW4sZXgscmVqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhaW4gO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFRoZW5hYmxlKHJlc29sdmVyKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVyID0gcmVzb2x2ZXIgO1xuICAgICAgICB0aGlzLnRoZW4gPSB0aGVuIDtcbiAgICB9O1xuXG4gICAgVGhlbmFibGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHYpe1xuICAgICAgICByZXR1cm4gVGhlbmFibGUuaXNUaGVuYWJsZSh2KSA/IHYgOiB7dGhlbjpmdW5jdGlvbihyZXNvbHZlKXtyZXR1cm4gcmVzb2x2ZSh2KX19O1xuICAgIH07XG5cbiAgICBUaGVuYWJsZS5pc1RoZW5hYmxlID0gaXNUaGVuYWJsZSA7XG5cbiAgICByZXR1cm4gVGhlbmFibGUgO1xufSA7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L25vZGVudC1ydW50aW1lL3RoZW5hYmxlRmFjdG9yeS5qcyIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyB0aGUgYFR5cGVFcnJvcmAgbWVzc2FnZSBmb3IgXCJGdW5jdGlvbnNcIiBtZXRob2RzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgcmVzdWx0ID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZyA/IG5hdGl2ZU1pbihyZXN1bHQsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICByZXR1cm4gaW52b2tlRnVuYyhsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gIGRlYm91bmNlZC5mbHVzaCA9IGZsdXNoO1xuICByZXR1cm4gZGVib3VuY2VkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbGVhZmxldC1nZW9zZWFyY2gvfi9sb2Rhc2guZGVib3VuY2UvaW5kZXguanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbm9kZW50UnVudGltZSA9IHJlcXVpcmUoJ25vZGVudC1ydW50aW1lJyk7XG5cbnZhciBfbm9kZW50UnVudGltZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2RlbnRSdW50aW1lKTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9kb21VdGlscyA9IHJlcXVpcmUoJy4vZG9tVXRpbHMnKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgU2VhcmNoRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VhcmNoRWxlbWVudCgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBfcmVmJGhhbmRsZVN1Ym1pdCA9IF9yZWYuaGFuZGxlU3VibWl0LFxuICAgICAgICBoYW5kbGVTdWJtaXQgPSBfcmVmJGhhbmRsZVN1Ym1pdCA9PT0gdW5kZWZpbmVkID8gZnVuY3Rpb24gKCkge30gOiBfcmVmJGhhbmRsZVN1Ym1pdCxcbiAgICAgICAgX3JlZiRzZWFyY2hMYWJlbCA9IF9yZWYuc2VhcmNoTGFiZWwsXG4gICAgICAgIHNlYXJjaExhYmVsID0gX3JlZiRzZWFyY2hMYWJlbCA9PT0gdW5kZWZpbmVkID8gJ3NlYXJjaCcgOiBfcmVmJHNlYXJjaExhYmVsLFxuICAgICAgICBfcmVmJGNsYXNzTmFtZXMgPSBfcmVmLmNsYXNzTmFtZXMsXG4gICAgICAgIGNsYXNzTmFtZXMgPSBfcmVmJGNsYXNzTmFtZXMgPT09IHVuZGVmaW5lZCA/IHt9IDogX3JlZiRjbGFzc05hbWVzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNlYXJjaEVsZW1lbnQpO1xuXG4gICAgdmFyIGNvbnRhaW5lciA9ICgwLCBfZG9tVXRpbHMuY3JlYXRlRWxlbWVudCkoJ2RpdicsIFsnZ2Vvc2VhcmNoJywgY2xhc3NOYW1lcy5jb250YWluZXJdLmpvaW4oJyAnKSk7XG4gICAgdmFyIGZvcm0gPSAoMCwgX2RvbVV0aWxzLmNyZWF0ZUVsZW1lbnQpKCdmb3JtJywgWycnLCBjbGFzc05hbWVzLmZvcm1dLmpvaW4oJyAnKSwgY29udGFpbmVyKTtcbiAgICB2YXIgaW5wdXQgPSAoMCwgX2RvbVV0aWxzLmNyZWF0ZUVsZW1lbnQpKCdpbnB1dCcsIFsnZ2xhc3MnLCBjbGFzc05hbWVzLmlucHV0XS5qb2luKCcgJyksIGZvcm0pO1xuXG4gICAgaW5wdXQudHlwZSA9ICd0ZXh0JztcbiAgICBpbnB1dC5wbGFjZWhvbGRlciA9IHNlYXJjaExhYmVsO1xuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMub25JbnB1dChlKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMub25LZXlVcChlKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMub25LZXlQcmVzcyhlKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMub25Gb2N1cyhlKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5vbkJsdXIoZSk7XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgdGhpcy5lbGVtZW50cyA9IHsgY29udGFpbmVyOiBjb250YWluZXIsIGZvcm06IGZvcm0sIGlucHV0OiBpbnB1dCB9O1xuICAgIHRoaXMuaGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFNlYXJjaEVsZW1lbnQsIFt7XG4gICAga2V5OiAnb25Gb2N1cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uRm9jdXMoKSB7XG4gICAgICAoMCwgX2RvbVV0aWxzLmFkZENsYXNzTmFtZSkodGhpcy5lbGVtZW50cy5mb3JtLCAnYWN0aXZlJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25CbHVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25CbHVyKCkge1xuICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKHRoaXMuZWxlbWVudHMuZm9ybSwgJ2FjdGl2ZScpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uU3VibWl0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdWJtaXQoZXZlbnQpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoJHJldHVybiwgJGVycm9yKSB7XG4gICAgICAgIHZhciBfZWxlbWVudHMsIGlucHV0LCBjb250YWluZXI7XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgX2VsZW1lbnRzID0gdGhpcy5lbGVtZW50cywgaW5wdXQgPSBfZWxlbWVudHMuaW5wdXQsIGNvbnRhaW5lciA9IF9lbGVtZW50cy5jb250YWluZXI7XG5cbiAgICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2Vycm9yJyk7XG4gICAgICAgICgwLCBfZG9tVXRpbHMuYWRkQ2xhc3NOYW1lKShjb250YWluZXIsICdwZW5kaW5nJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU3VibWl0KHsgcXVlcnk6IGlucHV0LnZhbHVlIH0pLnRoZW4oZnVuY3Rpb24gKCRhd2FpdF8xKSB7XG4gICAgICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ3BlbmRpbmcnKTtcbiAgICAgICAgICByZXR1cm4gJHJldHVybigpO1xuICAgICAgICB9LiRhc3luY2JpbmQodGhpcywgJGVycm9yKSwgJGVycm9yKTtcbiAgICAgIH0uJGFzeW5jYmluZCh0aGlzKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25JbnB1dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5wdXQoKSB7XG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5lbGVtZW50cy5jb250YWluZXI7XG5cblxuICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgKDAsIF9kb21VdGlscy5yZW1vdmVDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2Vycm9yJyk7XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbktleVVwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25LZXlVcChldmVudCkge1xuICAgICAgdmFyIF9lbGVtZW50czIgPSB0aGlzLmVsZW1lbnRzLFxuICAgICAgICAgIGNvbnRhaW5lciA9IF9lbGVtZW50czIuY29udGFpbmVyLFxuICAgICAgICAgIGlucHV0ID0gX2VsZW1lbnRzMi5pbnB1dDtcblxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX2NvbnN0YW50cy5FU0NBUEVfS0VZKSB7XG4gICAgICAgICgwLCBfZG9tVXRpbHMucmVtb3ZlQ2xhc3NOYW1lKShjb250YWluZXIsICdwZW5kaW5nJyk7XG4gICAgICAgICgwLCBfZG9tVXRpbHMucmVtb3ZlQ2xhc3NOYW1lKShjb250YWluZXIsICdhY3RpdmUnKTtcblxuICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuZm9jdXMoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5ibHVyKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb25LZXlQcmVzcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5UHJlc3MoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfY29uc3RhbnRzLkVOVEVSX0tFWSkge1xuICAgICAgICB0aGlzLm9uU3VibWl0KGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRRdWVyeScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICB2YXIgaW5wdXQgPSB0aGlzLmVsZW1lbnRzLmlucHV0O1xuXG4gICAgICBpbnB1dC52YWx1ZSA9IHF1ZXJ5O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZWFyY2hFbGVtZW50O1xufSgpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBTZWFyY2hFbGVtZW50O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL3NlYXJjaEVsZW1lbnQuanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG4vKiBlc2xpbnQtZGlzYWJsZSBpbXBvcnQvcHJlZmVyLWRlZmF1bHQtZXhwb3J0ICovXG52YXIgY3JlYXRlRWxlbWVudCA9IGV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQoZWxlbWVudCkge1xuICB2YXIgY2xhc3NOYW1lcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJyc7XG4gIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50KTtcbiAgZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lcztcblxuICBpZiAocGFyZW50KSB7XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgfVxuXG4gIHJldHVybiBlbDtcbn07XG5cbnZhciBjcmVhdGVTY3JpcHRFbGVtZW50ID0gZXhwb3J0cy5jcmVhdGVTY3JpcHRFbGVtZW50ID0gZnVuY3Rpb24gY3JlYXRlU2NyaXB0RWxlbWVudCh1cmwsIGNiKSB7XG4gIHZhciBzY3JpcHQgPSBjcmVhdGVFbGVtZW50KCdzY3JpcHQnLCBudWxsLCBkb2N1bWVudC5ib2R5KTtcbiAgc2NyaXB0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0L2phdmFzY3JpcHQnKTtcblxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICB3aW5kb3dbY2JdID0gZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIHNjcmlwdC5yZW1vdmUoKTtcbiAgICAgIGRlbGV0ZSB3aW5kb3dbY2JdO1xuICAgICAgcmVzb2x2ZShqc29uKTtcbiAgICB9O1xuXG4gICAgc2NyaXB0LnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTtcbiAgfSk7XG59O1xuXG52YXIgYWRkQ2xhc3NOYW1lID0gZXhwb3J0cy5hZGRDbGFzc05hbWUgPSBmdW5jdGlvbiBhZGRDbGFzc05hbWUoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gIGlmIChlbGVtZW50ICYmICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gIH1cbn07XG5cbnZhciByZW1vdmVDbGFzc05hbWUgPSBleHBvcnRzLnJlbW92ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzTmFtZShlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICB9XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL2RvbVV0aWxzLmpzIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgRU5URVJfS0VZID0gZXhwb3J0cy5FTlRFUl9LRVkgPSAxMztcbnZhciBFU0NBUEVfS0VZID0gZXhwb3J0cy5FU0NBUEVfS0VZID0gMjc7XG52YXIgQVJST1dfRE9XTl9LRVkgPSBleHBvcnRzLkFSUk9XX0RPV05fS0VZID0gNDA7XG52YXIgQVJST1dfVVBfS0VZID0gZXhwb3J0cy5BUlJPV19VUF9LRVkgPSAzODtcbnZhciBBUlJPV19MRUZUX0tFWSA9IGV4cG9ydHMuQVJST1dfTEVGVF9LRVkgPSAzNztcbnZhciBBUlJPV19SSUdIVF9LRVkgPSBleHBvcnRzLkFSUk9XX1JJR0hUX0tFWSA9IDM5O1xuXG52YXIgU1BFQ0lBTF9LRVlTID0gZXhwb3J0cy5TUEVDSUFMX0tFWVMgPSBbRU5URVJfS0VZLCBFU0NBUEVfS0VZLCBBUlJPV19ET1dOX0tFWSwgQVJST1dfVVBfS0VZLCBBUlJPV19MRUZUX0tFWSwgQVJST1dfUklHSFRfS0VZXTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2xlYWZsZXQtZ2Vvc2VhcmNoL2xpYi9jb25zdGFudHMuanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZG9tVXRpbHMgPSByZXF1aXJlKCcuL2RvbVV0aWxzJyk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBjeCA9IGZ1bmN0aW9uIGN4KCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NuYW1lcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGNsYXNzbmFtZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gY2xhc3NuYW1lcy5qb2luKCcgJykudHJpbSgpO1xufTtcblxudmFyIFJlc3VsdExpc3QgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJlc3VsdExpc3QoKSB7XG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBfcmVmJGhhbmRsZUNsaWNrID0gX3JlZi5oYW5kbGVDbGljayxcbiAgICAgICAgaGFuZGxlQ2xpY2sgPSBfcmVmJGhhbmRsZUNsaWNrID09PSB1bmRlZmluZWQgPyBmdW5jdGlvbiAoKSB7fSA6IF9yZWYkaGFuZGxlQ2xpY2ssXG4gICAgICAgIF9yZWYkY2xhc3NOYW1lcyA9IF9yZWYuY2xhc3NOYW1lcyxcbiAgICAgICAgY2xhc3NOYW1lcyA9IF9yZWYkY2xhc3NOYW1lcyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJGNsYXNzTmFtZXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzdWx0TGlzdCk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLnByb3BzID0geyBoYW5kbGVDbGljazogaGFuZGxlQ2xpY2ssIGNsYXNzTmFtZXM6IGNsYXNzTmFtZXMgfTtcbiAgICB0aGlzLnNlbGVjdGVkID0gLTE7XG5cbiAgICB2YXIgY29udGFpbmVyID0gKDAsIF9kb21VdGlscy5jcmVhdGVFbGVtZW50KSgnZGl2JywgY3goJ3Jlc3VsdHMnLCBjbGFzc05hbWVzLmNvbnRhaW5lcikpO1xuICAgIHZhciByZXN1bHRJdGVtID0gKDAsIF9kb21VdGlscy5jcmVhdGVFbGVtZW50KSgnZGl2JywgY3goY2xhc3NOYW1lcy5pdGVtKSk7XG5cbiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuICAgIHRoaXMuZWxlbWVudHMgPSB7IGNvbnRhaW5lcjogY29udGFpbmVyLCByZXN1bHRJdGVtOiByZXN1bHRJdGVtIH07XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUmVzdWx0TGlzdCwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICB2YXIgX2VsZW1lbnRzID0gdGhpcy5lbGVtZW50cyxcbiAgICAgICAgICBjb250YWluZXIgPSBfZWxlbWVudHMuY29udGFpbmVyLFxuICAgICAgICAgIHJlc3VsdEl0ZW0gPSBfZWxlbWVudHMucmVzdWx0SXRlbTtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuXG4gICAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCwgaWR4KSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHJlc3VsdEl0ZW0uY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JywgaWR4KTtcbiAgICAgICAgY2hpbGQuaW5uZXJIVE1MID0gcmVzdWx0LmxhYmVsO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgKDAsIF9kb21VdGlscy5hZGRDbGFzc05hbWUpKGNvbnRhaW5lciwgJ2FjdGl2ZScpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlc3VsdHMgPSByZXN1bHRzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlbGVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdChpbmRleCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZWxlbWVudHMuY29udGFpbmVyO1xuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZnVzaW5nLWFycm93XG5cbiAgICAgIEFycmF5LmZyb20oY29udGFpbmVyLmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCwgaWR4KSB7XG4gICAgICAgIHJldHVybiBpZHggPT09IGluZGV4ID8gKDAsIF9kb21VdGlscy5hZGRDbGFzc05hbWUpKGNoaWxkLCAnYWN0aXZlJykgOiAoMCwgX2RvbVV0aWxzLnJlbW92ZUNsYXNzTmFtZSkoY2hpbGQsICdhY3RpdmUnKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNlbGVjdGVkID0gaW5kZXg7XG4gICAgICByZXR1cm4gdGhpcy5yZXN1bHRzW2luZGV4XTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvdW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVzdWx0cyA/IHRoaXMucmVzdWx0cy5sZW5ndGggOiAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NsZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5lbGVtZW50cy5jb250YWluZXI7XG5cbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSAtMTtcblxuICAgICAgd2hpbGUgKGNvbnRhaW5lci5sYXN0Q2hpbGQpIHtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKGNvbnRhaW5lci5sYXN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAoMCwgX2RvbVV0aWxzLnJlbW92ZUNsYXNzTmFtZSkoY29udGFpbmVyLCAnYWN0aXZlJyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFJlc3VsdExpc3Q7XG59KCk7XG5cbnZhciBfaW5pdGlhbGlzZVByb3BzID0gZnVuY3Rpb24gX2luaXRpYWxpc2VQcm9wcygpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLm9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9yZWYyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgdGFyZ2V0ID0gX3JlZjIudGFyZ2V0O1xuXG4gICAgdmFyIGhhbmRsZUNsaWNrID0gX3RoaXMucHJvcHMuaGFuZGxlQ2xpY2s7XG4gICAgdmFyIGNvbnRhaW5lciA9IF90aGlzLmVsZW1lbnRzLmNvbnRhaW5lcjtcblxuXG4gICAgaWYgKHRhcmdldC5wYXJlbnROb2RlICE9PSBjb250YWluZXIgfHwgIXRhcmdldC5oYXNBdHRyaWJ1dGUoJ2RhdGEta2V5JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWR4ID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcbiAgICB2YXIgcmVzdWx0ID0gX3RoaXMucmVzdWx0c1tpZHhdO1xuICAgIGhhbmRsZUNsaWNrKHsgcmVzdWx0OiByZXN1bHQgfSk7XG4gIH07XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXN1bHRMaXN0O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL3Jlc3VsdExpc3QuanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfbm9kZW50UnVudGltZSA9IHJlcXVpcmUoJ25vZGVudC1ydW50aW1lJyk7XG5cbnZhciBfbm9kZW50UnVudGltZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub2RlbnRSdW50aW1lKTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9wcm92aWRlciA9IHJlcXVpcmUoJy4vcHJvdmlkZXInKTtcblxudmFyIF9wcm92aWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm92aWRlcik7XG5cbnZhciBfZG9tVXRpbHMgPSByZXF1aXJlKCcuLi9kb21VdGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQcm92aWRlciA9IGZ1bmN0aW9uIChfQmFzZVByb3ZpZGVyKSB7XG4gIF9pbmhlcml0cyhQcm92aWRlciwgX0Jhc2VQcm92aWRlcik7XG5cbiAgZnVuY3Rpb24gUHJvdmlkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQcm92aWRlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByb3ZpZGVyLCBbe1xuICAgIGtleTogJ2VuZHBvaW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5kcG9pbnQoKSB7XG4gICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5LFxuICAgICAgICAgIHByb3RvY29sID0gX3JlZi5wcm90b2NvbCxcbiAgICAgICAgICBqc29ucCA9IF9yZWYuanNvbnA7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLm9wdGlvbnMucGFyYW1zO1xuXG5cbiAgICAgIHZhciBwYXJhbVN0cmluZyA9IHRoaXMuZ2V0UGFyYW1TdHJpbmcoX2V4dGVuZHMoe30sIHBhcmFtcywge1xuICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgIGpzb25wOiBqc29ucFxuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gcHJvdG9jb2wgKyAnLy9kZXYudmlydHVhbGVhcnRoLm5ldC9SRVNUL3YxL0xvY2F0aW9ucz8nICsgcGFyYW1TdHJpbmc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncGFyc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXJzZShfcmVmMikge1xuICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhO1xuXG4gICAgICBpZiAoZGF0YS5yZXNvdXJjZVNldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEucmVzb3VyY2VTZXRzWzBdLnJlc291cmNlcy5tYXAoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiByLnBvaW50LmNvb3JkaW5hdGVzWzFdLFxuICAgICAgICAgIHk6IHIucG9pbnQuY29vcmRpbmF0ZXNbMF0sXG4gICAgICAgICAgbGFiZWw6IHIuYWRkcmVzcy5mb3JtYXR0ZWRBZGRyZXNzLFxuICAgICAgICAgIGJvdW5kczogW1tyLmJib3hbMF0sIHIuYmJveFsxXV0sIC8vIHMsIHdcbiAgICAgICAgICBbci5iYm94WzJdLCByLmJib3hbM11dXSxcbiAgICAgICAgICByYXc6IHJcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlYXJjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaChfcmVmMykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgkcmV0dXJuLCAkZXJyb3IpIHtcbiAgICAgICAgdmFyIHF1ZXJ5LCBwcm90b2NvbCwganNvbnAsIHVybCwganNvbjtcbiAgICAgICAgcXVlcnkgPSBfcmVmMy5xdWVyeTtcblxuICAgICAgICBwcm90b2NvbCA9IH5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCdodHRwJykgPyBsb2NhdGlvbi5wcm90b2NvbCA6ICdodHRwczonO1xuXG4gICAgICAgIGpzb25wID0gJ0JJTkdfSlNPTlBfQ0JfJyArIERhdGUubm93KCk7XG4gICAgICAgIHVybCA9IHRoaXMuZW5kcG9pbnQoeyBxdWVyeTogcXVlcnksIHByb3RvY29sOiBwcm90b2NvbCwganNvbnA6IGpzb25wIH0pO1xuXG4gICAgICAgIHJldHVybiAoMCwgX2RvbVV0aWxzLmNyZWF0ZVNjcmlwdEVsZW1lbnQpKHVybCwganNvbnApLnRoZW4oZnVuY3Rpb24gKCRhd2FpdF8xKSB7XG4gICAgICAgICAganNvbiA9ICRhd2FpdF8xO1xuICAgICAgICAgIHJldHVybiAkcmV0dXJuKHRoaXMucGFyc2UoeyBkYXRhOiBqc29uIH0pKTtcbiAgICAgICAgfS4kYXN5bmNiaW5kKHRoaXMsICRlcnJvciksICRlcnJvcik7XG4gICAgICB9LiRhc3luY2JpbmQodGhpcykpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQcm92aWRlcjtcbn0oX3Byb3ZpZGVyMi5kZWZhdWx0KTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gUHJvdmlkZXI7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9sZWFmbGV0LWdlb3NlYXJjaC9saWIvcHJvdmlkZXJzL2JpbmdQcm92aWRlci5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9ub2RlbnRSdW50aW1lID0gcmVxdWlyZSgnbm9kZW50LXJ1bnRpbWUnKTtcblxudmFyIF9ub2RlbnRSdW50aW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vZGVudFJ1bnRpbWUpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm92aWRlcik7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByb3ZpZGVyLCBbe1xuICAgIGtleTogJ2dldFBhcmFtU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFyYW1TdHJpbmcocGFyYW1zKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tleV0pO1xuICAgICAgfSkuam9pbignJicpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlYXJjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaChfcmVmKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKCRyZXR1cm4sICRlcnJvcikge1xuICAgICAgICB2YXIgcXVlcnksIHByb3RvY29sLCB1cmwsIHJlcXVlc3QsIGpzb247XG4gICAgICAgIHF1ZXJ5ID0gX3JlZi5xdWVyeTtcblxuICAgICAgICBwcm90b2NvbCA9IH5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCdodHRwJykgPyBsb2NhdGlvbi5wcm90b2NvbCA6ICdodHRwczonO1xuICAgICAgICB1cmwgPSB0aGlzLmVuZHBvaW50KHsgcXVlcnk6IHF1ZXJ5LCBwcm90b2NvbDogcHJvdG9jb2wgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCkudGhlbihmdW5jdGlvbiAoJGF3YWl0XzEpIHtcbiAgICAgICAgICByZXF1ZXN0ID0gJGF3YWl0XzE7XG4gICAgICAgICAgcmV0dXJuIHJlcXVlc3QuanNvbigpLnRoZW4oZnVuY3Rpb24gKCRhd2FpdF8yKSB7XG4gICAgICAgICAgICBqc29uID0gJGF3YWl0XzI7XG4gICAgICAgICAgICByZXR1cm4gJHJldHVybih0aGlzLnBhcnNlKHsgZGF0YToganNvbiB9KSk7XG4gICAgICAgICAgfS4kYXN5bmNiaW5kKHRoaXMsICRlcnJvciksICRlcnJvcik7XG4gICAgICAgIH0uJGFzeW5jYmluZCh0aGlzLCAkZXJyb3IpLCAkZXJyb3IpO1xuICAgICAgfS4kYXN5bmNiaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUHJvdmlkZXI7XG59KCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByb3ZpZGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL3Byb3ZpZGVycy9wcm92aWRlci5qcyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9wcm92aWRlciA9IHJlcXVpcmUoJy4vcHJvdmlkZXInKTtcblxudmFyIF9wcm92aWRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm92aWRlcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFByb3ZpZGVyID0gZnVuY3Rpb24gKF9CYXNlUHJvdmlkZXIpIHtcbiAgX2luaGVyaXRzKFByb3ZpZGVyLCBfQmFzZVByb3ZpZGVyKTtcblxuICBmdW5jdGlvbiBQcm92aWRlcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJvdmlkZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQcm92aWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFByb3ZpZGVyKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHJvdmlkZXIsIFt7XG4gICAga2V5OiAnZW5kcG9pbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmRwb2ludCgpIHtcbiAgICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBxdWVyeSA9IF9yZWYucXVlcnksXG4gICAgICAgICAgcHJvdG9jb2wgPSBfcmVmLnByb3RvY29sO1xuXG4gICAgICB2YXIgcGFyYW1zID0gdGhpcy5vcHRpb25zLnBhcmFtcztcblxuXG4gICAgICB2YXIgcGFyYW1TdHJpbmcgPSB0aGlzLmdldFBhcmFtU3RyaW5nKF9leHRlbmRzKHt9LCBwYXJhbXMsIHtcbiAgICAgICAgZjogJ2pzb24nLFxuICAgICAgICB0ZXh0OiBxdWVyeVxuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gcHJvdG9jb2wgKyAnLy9nZW9jb2RlLmFyY2dpcy5jb20vYXJjZ2lzL3Jlc3Qvc2VydmljZXMvV29ybGQvR2VvY29kZVNlcnZlci9maW5kPycgKyBwYXJhbVN0cmluZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXJzZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKF9yZWYyKSB7XG4gICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7XG5cbiAgICAgIHJldHVybiBkYXRhLmxvY2F0aW9ucy5tYXAoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB4OiByLmZlYXR1cmUuZ2VvbWV0cnkueCxcbiAgICAgICAgICB5OiByLmZlYXR1cmUuZ2VvbWV0cnkueSxcbiAgICAgICAgICBsYWJlbDogci5uYW1lLFxuICAgICAgICAgIGJvdW5kczogW1tyLmV4dGVudC55bWluLCByLmV4dGVudC54bWluXSwgLy8gcywgd1xuICAgICAgICAgIFtyLmV4dGVudC55bWF4LCByLmV4dGVudC54bWF4XV0sXG4gICAgICAgICAgcmF3OiByXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUHJvdmlkZXI7XG59KF9wcm92aWRlcjIuZGVmYXVsdCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IFByb3ZpZGVyO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vbGVhZmxldC1nZW9zZWFyY2gvbGliL3Byb3ZpZGVycy9lc3JpUHJvdmlkZXIuanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcHJvdmlkZXIgPSByZXF1aXJlKCcuL3Byb3ZpZGVyJyk7XG5cbnZhciBfcHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvdmlkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQcm92aWRlciA9IGZ1bmN0aW9uIChfQmFzZVByb3ZpZGVyKSB7XG4gIF9pbmhlcml0cyhQcm92aWRlciwgX0Jhc2VQcm92aWRlcik7XG5cbiAgZnVuY3Rpb24gUHJvdmlkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQcm92aWRlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByb3ZpZGVyLCBbe1xuICAgIGtleTogJ2VuZHBvaW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5kcG9pbnQoKSB7XG4gICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5LFxuICAgICAgICAgIHByb3RvY29sID0gX3JlZi5wcm90b2NvbDtcblxuICAgICAgdmFyIHBhcmFtcyA9IHRoaXMub3B0aW9ucy5wYXJhbXM7XG5cblxuICAgICAgdmFyIHBhcmFtU3RyaW5nID0gdGhpcy5nZXRQYXJhbVN0cmluZyhfZXh0ZW5kcyh7fSwgcGFyYW1zLCB7XG4gICAgICAgIGFkZHJlc3M6IHF1ZXJ5XG4gICAgICB9KSk7XG5cbiAgICAgIC8vIGdvb2dsZSByZXF1aXJlcyBhIHNlY3VyZSBjb25uZWN0aW9uIHdoZW4gdXNpbmcgYXBpIGtleXNcbiAgICAgIHZhciBwcm90byA9IHBhcmFtcyAmJiBwYXJhbXMua2V5ID8gJ2h0dHBzOicgOiBwcm90b2NvbDtcbiAgICAgIHJldHVybiBwcm90byArICcvL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uPycgKyBwYXJhbVN0cmluZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXJzZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKF9yZWYyKSB7XG4gICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7XG5cbiAgICAgIHJldHVybiBkYXRhLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogci5nZW9tZXRyeS5sb2NhdGlvbi5sbmcsXG4gICAgICAgICAgeTogci5nZW9tZXRyeS5sb2NhdGlvbi5sYXQsXG4gICAgICAgICAgbGFiZWw6IHIuZm9ybWF0dGVkX2FkZHJlc3MsXG4gICAgICAgICAgYm91bmRzOiBbW3IuZ2VvbWV0cnkudmlld3BvcnQuc291dGh3ZXN0LmxhdCwgci5nZW9tZXRyeS52aWV3cG9ydC5zb3V0aHdlc3QubG5nXSwgLy8gcywgd1xuICAgICAgICAgIFtyLmdlb21ldHJ5LnZpZXdwb3J0Lm5vcnRoZWFzdC5sYXQsIHIuZ2VvbWV0cnkudmlld3BvcnQubm9ydGhlYXN0LmxuZ11dLFxuICAgICAgICAgIHJhdzogclxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByb3ZpZGVyO1xufShfcHJvdmlkZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQcm92aWRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2xlYWZsZXQtZ2Vvc2VhcmNoL2xpYi9wcm92aWRlcnMvZ29vZ2xlUHJvdmlkZXIuanMiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfcHJvdmlkZXIgPSByZXF1aXJlKCcuL3Byb3ZpZGVyJyk7XG5cbnZhciBfcHJvdmlkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvdmlkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBQcm92aWRlciA9IGZ1bmN0aW9uIChfQmFzZVByb3ZpZGVyKSB7XG4gIF9pbmhlcml0cyhQcm92aWRlciwgX0Jhc2VQcm92aWRlcik7XG5cbiAgZnVuY3Rpb24gUHJvdmlkZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByb3ZpZGVyKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQcm92aWRlcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFByb3ZpZGVyLCBbe1xuICAgIGtleTogJ2VuZHBvaW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW5kcG9pbnQoKSB7XG4gICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5LFxuICAgICAgICAgIHByb3RvY29sID0gX3JlZi5wcm90b2NvbDtcblxuICAgICAgdmFyIHBhcmFtcyA9IHRoaXMub3B0aW9ucy5wYXJhbXM7XG5cblxuICAgICAgdmFyIHBhcmFtU3RyaW5nID0gdGhpcy5nZXRQYXJhbVN0cmluZyhfZXh0ZW5kcyh7fSwgcGFyYW1zLCB7XG4gICAgICAgIGZvcm1hdDogJ2pzb24nLFxuICAgICAgICBxOiBxdWVyeVxuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gcHJvdG9jb2wgKyAnLy9ub21pbmF0aW0ub3BlbnN0cmVldG1hcC5vcmcvc2VhcmNoPycgKyBwYXJhbVN0cmluZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwYXJzZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlKF9yZWYyKSB7XG4gICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7XG5cbiAgICAgIHJldHVybiBkYXRhLm1hcChmdW5jdGlvbiAocikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IHIubG9uLFxuICAgICAgICAgIHk6IHIubGF0LFxuICAgICAgICAgIGxhYmVsOiByLmRpc3BsYXlfbmFtZSxcbiAgICAgICAgICBib3VuZHM6IFtbcGFyc2VGbG9hdChyLmJvdW5kaW5nYm94WzBdKSwgcGFyc2VGbG9hdChyLmJvdW5kaW5nYm94WzJdKV0sIC8vIHMsIHdcbiAgICAgICAgICBbcGFyc2VGbG9hdChyLmJvdW5kaW5nYm94WzFdKSwgcGFyc2VGbG9hdChyLmJvdW5kaW5nYm94WzNdKV1dLFxuICAgICAgICAgIHJhdzogclxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByb3ZpZGVyO1xufShfcHJvdmlkZXIyLmRlZmF1bHQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBQcm92aWRlcjtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9+L2xlYWZsZXQtZ2Vvc2VhcmNoL2xpYi9wcm92aWRlcnMvb3BlblN0cmVldE1hcFByb3ZpZGVyLmpzIiwiaW1wb3J0IHt0b2dnbGVMYXllcn0gZnJvbSBcIi4vbGF5ZXJcIjtcclxuaW1wb3J0IHttYWtlT3BhY2l0eVNsaWRlcn0gZnJvbSBcIi4vb3BhY2l0eVNsaWRlclwiXHJcbmltcG9ydCB7c2V0T3BhY2l0eVNsaWRlclBvc2l0aW9ufSBmcm9tIFwiLi9vcGFjaXR5U2xpZGVyXCJcclxuaW1wb3J0IHt1cGRhdGVTaGFyZVVybH0gZnJvbSBcIi4vc2hhcmVcIjtcclxuXHJcbnZhciBsYXllckdyb3VwTGF5b3V0ID0gW11cclxudmFyIGxheWVyR3JvdXBzXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0QWN0aXZlTGF5ZXJHcm91cHMgKCkge1xyXG5cdHJldHVybiBsYXllckdyb3VwTGF5b3V0LmZpbHRlcihsYXllckdyb3VwID0+IHtcclxuXHRcdHJldHVybiBsYXllckdyb3VwLmFjdGl2ZVxyXG5cdH0pXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNldFBhbmVsU3RhdGUgKCkge1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldExheWVyR3JvdXBzICgpIHtcclxuXHRyZXR1cm4gbGF5ZXJHcm91cHNcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFNldHVwUGFuZWwgKGxheWVycywgbGF5b3V0KSB7XHJcblx0bGF5ZXJHcm91cExheW91dCA9IGxheW91dFsnbGF5ZXItZ3JvdXBzLW9yZGVyJ11cclxuXHRsYXllckdyb3VwcyA9IG1ha2VMYXllckdyb3VwcyhsYXlvdXRbJ2xheWVyLWdyb3Vwcy1vcmRlciddKTtcclxuXHRtYWtlTGF5ZXJFbGVtcyhsYXllckdyb3VwcywgbGF5ZXJzKTtcclxuXHRtYWtlUGFuZWxEcmFnZ2FibGUoKVxyXG5cdHNldFBhbmVsU2Nyb2xsSGFuZGxlcigpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJyb3dzZXJJc0ludGVybmV0RXhwbG9yZXIoKSB7XHJcblx0dmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnRcclxuXHRyZXR1cm4gdWEuaW5kZXhPZignTVNJRScpID4gLTEgfHwgdWEuaW5kZXhPZigncnY6MTEuMCcpID4gLTFcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0UGFuZWxTY3JvbGxIYW5kbGVyKCkge1xyXG5cdHZhciBwYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC1wYW5lbCcpXHJcblx0cGFuZWwub25zY3JvbGwgPSB1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VQYW5lbERyYWdnYWJsZSgpIHtcclxuXHRpZiAoYnJvd3NlcklzSW50ZXJuZXRFeHBsb3JlcigpKSByZXR1cm5cclxuXHJcblx0dmFyIG92ZXJsYXkgPSBkMy5zZWxlY3QoJyNyaWdodC1wYW5lbC1kcmFnLW92ZXJsYXknKVxyXG5cclxuXHRvdmVybGF5LnN0eWxlKCdjdXJzb3InLCAnZXctcmVzaXplJylcclxuXHJcblx0b3ZlcmxheS5jYWxsKGQzLmRyYWcoKVxyXG5cdFx0Lm9uKCdkcmFnJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0cGFuZWxEcmFnRXZlbnRIYW5kbGVyLmNhbGwodGhpcylcclxuXHR9KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhbmVsRHJhZ0V2ZW50SGFuZGxlcigpIHtcclxuXHR1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0KClcclxuXHR1cGRhdGVQYW5lbFdpZHRoKClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVBhbmVsRHJhZ092ZXJsYXlIZWlnaHQgKCkge1xyXG5cdHZhciBwYW5lbCA9IGQzLnNlbGVjdCgnI3JpZ2h0LXBhbmVsJylcclxuXHR2YXIgcGFuZWxPZmZzZXRIZWlnaHQgPSBwYW5lbC5wcm9wZXJ0eSgnb2Zmc2V0SGVpZ2h0JylcclxuXHR2YXIgcGFuZWxEcmFnT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC1wYW5lbC1kcmFnLW92ZXJsYXknKVxyXG5cdHZhciBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmlnaHQtcGFuZWwtaGVhZGVyJylcclxuXHJcblx0dmFyIG5ld0hlaWdodFxyXG5cclxuXHRpZiAocGFuZWwuY2xhc3NlZCgnZ3JhcGhzLWFjdGl2ZScpKSB7XHJcblx0XHR2YXIgZ3JhcGhMaXN0RXh0cmFTcGFjZSA9IDcwMFxyXG5cdFx0dmFyIGdyYXBoTGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncmFwaC1saXN0JylcclxuXHRcdG5ld0hlaWdodCA9IGhlYWRlci5zY3JvbGxIZWlnaHQgKyBncmFwaExpc3Quc2Nyb2xsSGVpZ2h0ICsgZ3JhcGhMaXN0RXh0cmFTcGFjZVxyXG5cdH1cclxuXHRlbHNlIHsgLy8gcGFuZWwuY2xhc3NlZCgnbGF5ZXJzLWFjdGl2ZScpXHJcblx0XHR2YXIgbGF5ZXJMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xheWVyLWxpc3QnKVxyXG5cdFx0bmV3SGVpZ2h0ID0gaGVhZGVyLnNjcm9sbEhlaWdodCArIGxheWVyTGlzdC5zY3JvbGxIZWlnaHRcclxuXHR9XHJcblx0bmV3SGVpZ2h0ID0gbmV3SGVpZ2h0ID4gcGFuZWxPZmZzZXRIZWlnaHQgPyBgJHtuZXdIZWlnaHR9YCsncHgnIDogbnVsbFxyXG5cdHBhbmVsRHJhZ092ZXJsYXkuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVBhbmVsV2lkdGgoKSB7XHJcblx0dmFyIHBhbmVsID0gZDMuc2VsZWN0KCcjcmlnaHQtcGFuZWwnKVxyXG5cdHZhciBwYW5lbE1pbldpZHRoID0gK3BhbmVsLnN0eWxlKCdtaW4td2lkdGgnKS5zbGljZSgwLCAtMilcclxuXHR2YXIgcGFuZWxDbGllbnRXaWR0aCA9IHBhbmVsLnByb3BlcnR5KCdjbGllbnRXaWR0aCcpXHJcblxyXG5cdHZhciB3cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXBwZXInKVxyXG5cdHZhciB3cmFwcGVyV2lkdGggPSB3cmFwcGVyLmNsaWVudFdpZHRoXHJcblxyXG5cdHZhciBtYXBXcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcC13cmFwcGVyJylcclxuXHJcblx0dmFyIG1vdXNlWCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnhcclxuXHR2YXIgeERlbHRhID0gKHdyYXBwZXJXaWR0aCAtIG1vdXNlWCkgLSBwYW5lbENsaWVudFdpZHRoXHJcblxyXG5cdHZhciBuZXdQYW5lbFdpZHRoID0gcGFuZWxDbGllbnRXaWR0aCArIHhEZWx0YVxyXG5cdG5ld1BhbmVsV2lkdGggPSBuZXdQYW5lbFdpZHRoIDwgcGFuZWxNaW5XaWR0aCA/XHJcblx0XHRwYW5lbE1pbldpZHRoXHJcblx0OiAgIG5ld1BhbmVsV2lkdGggPiB3cmFwcGVyV2lkdGggP1xyXG5cdFx0d3JhcHBlcldpZHRoXHJcblx0OiAgIG5ld1BhbmVsV2lkdGhcclxuXHRtYXBXcmFwcGVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IGAke25ld1BhbmVsV2lkdGh9YCsncHgnXHJcblx0cGFuZWwuc3R5bGUoJ3dpZHRoJywgYCR7bmV3UGFuZWxXaWR0aH1gKydweCcpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VMYXllckdyb3VwcyAobGF5b3V0KSB7XHJcblx0cmV0dXJuIGQzLnNlbGVjdCgnI2xheWVyLWxpc3QnKVxyXG5cdFx0LnNlbGVjdEFsbCgnLmxheWVyLWdyb3VwLXdyYXBwZXInKVxyXG5cdFx0LmRhdGEobGF5b3V0KVxyXG5cdFx0LmVudGVyKClcclxuXHRcdFx0LmFwcGVuZCgnZGl2JylcclxuXHRcdFx0LmF0dHIoJ2NsYXNzJywgJ2xheWVyLWdyb3VwLXdyYXBwZXInKVxyXG5cdFx0XHQuYXR0cignaWQnLCBsYXllckdyb3VwID0+IGxheWVyR3JvdXAuaWQpXHJcblx0XHRcdC5jbGFzc2VkKCdhY3RpdmUnLCBsYXllckdyb3VwID0+IGxheWVyR3JvdXAuYWN0aXZlKVxyXG5cdFx0XHQuZWFjaChmdW5jdGlvbiAobGF5ZXJHcm91cCkge1xyXG5cdFx0XHRcdGQzLnNlbGVjdCh0aGlzKS5hcHBlbmQoJ2RpdicpXHJcblx0XHRcdFx0XHQuYXR0cignY2xhc3MnLCAnbGF5ZXItZ3JvdXAtYnRuIGJ0bicpXHJcblx0XHRcdFx0XHQub24oJ2NsaWNrJywgZnVuY3Rpb24gKGxheWVyR3JvdXApIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIHRvZ2dsZSB0aGUgbGF5ZXIgbGlzdCBhY2NvcmRpYW5zXHJcblx0XHRcdFx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdFx0XHRcdFx0XHQgIGV2ZW50Q2F0ZWdvcnk6ICdsYXllciBsaXN0JyxcclxuXHRcdFx0XHRcdFx0ICBldmVudEFjdGlvbjogJ3RvZ2dsZSAnICsgIWxheWVyR3JvdXAuYWN0aXZlLFxyXG5cdFx0XHRcdFx0XHQgIGV2ZW50TGFiZWw6IGxheWVyR3JvdXAubmFtZSxcclxuXHRcdFx0XHRcdFx0ICBub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRsYXllckdyb3VwLmFjdGl2ZSA9ICFsYXllckdyb3VwLmFjdGl2ZTtcclxuXHRcdFx0XHRcdFx0ZDMuc2VsZWN0KHRoaXMucGFyZW50Tm9kZSkuY2xhc3NlZCgnYWN0aXZlJywgKCkgPT4gbGF5ZXJHcm91cC5hY3RpdmUpO1xyXG5cdFx0XHRcdFx0XHR1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0KClcclxuXHRcdFx0XHRcdFx0dXBkYXRlU2hhcmVVcmwoKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC50ZXh0KGxheWVyR3JvdXAubmFtZSlcclxuXHRcdFx0fSlcclxuXHRcdFx0LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnbGF5ZXItZ3JvdXAnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZUxheWVyRWxlbXMgKGxheWVyR3JvdXBzLCBsYXllcnMpIHtcclxuXHRsYXllckdyb3Vwcy5zZWxlY3RBbGwoJy5sYXllci1zZWxlY3QnKVxyXG5cdFx0LmRhdGEobGF5ZXJHcm91cCA9PiBsYXllcnNbbGF5ZXJHcm91cC5pZF0pXHJcblx0XHQuZW50ZXIoKS5hcHBlbmQoJ2RpdicpXHJcblx0XHQuYXR0cignY2xhc3MnLCAnbGF5ZXItc2VsZWN0JylcclxuXHRcdC5lYWNoKGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0XHR2YXIgZ3JvdXBOYW1lID0gdGhpcy5wYXJlbnROb2RlLnBhcmVudE5vZGUuaWQ7XHJcblx0XHRcdHZhciBsYXllckRpdiA9IGQzLnNlbGVjdCh0aGlzKVxyXG5cdFx0XHRsYXllci5sYXllckRpdiA9IGxheWVyRGl2XHJcblx0XHRcdG1ha2VDaGVja2JveChsYXllciwgbGF5ZXJEaXYpO1xyXG5cdFx0XHRtYWtlTGFiZWwobGF5ZXIsIGxheWVyRGl2KTtcclxuXHRcdFx0bWFrZURlc2NyaXB0aW9uKGxheWVyLCBsYXllckRpdik7XHJcblx0XHRcdGxheWVyRGl2Lm5vZGUoKS5hcHBlbmRDaGlsZChtYWtlTGF5ZXJUb29scyhsYXllcikpO1xyXG5cdFx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VDaGVja2JveCAobGF5ZXIsIGxheWVyRGl2KSB7XHJcblx0bGF5ZXJEaXYuYXBwZW5kKCdpbnB1dCcpXHJcblx0XHQuYXR0cigndHlwZScsICdjaGVja2JveCcpXHJcblx0XHQuYXR0cignaWQnLCBsYXllciA9PiBsYXllci5pZClcclxuXHRcdC5hdHRyKCdjaGVja2VkJywgKGxheWVyKSA9PiB7XHJcblx0XHRcdHJldHVybiBsYXllci5hY3RpdmUgPyAnY2hlY2tlZCcgOiBudWxsO1xyXG5cdFx0fSlcclxuXHRcdC5vbignY2xpY2snLCBmdW5jdGlvbihsYXllcikge1xyXG5cdFx0XHR0b2dnbGVMYXllcihsYXllcilcclxuXHRcdFx0dG9nZ2xlTGF5ZXJUb29sc1VJKGxheWVyKVxyXG5cdFx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVMYXllclRvb2xzVUkgKGxheWVyKSB7XHJcblx0bGF5ZXIubGF5ZXJEaXYuc2VsZWN0KCcubGF5ZXItdG9vbHMtd3JhcHBlcicpXHJcblx0XHQuY2xhc3NlZCgnYWN0aXZlJywgbGF5ZXIuYWN0aXZlKTtcclxuXHRpZiAobGF5ZXIuYWN0aXZlKSB7XHJcblx0XHR2YXIgc2xpZGVySGFuZGxlID0gbGF5ZXIubGF5ZXJEaXYuc2VsZWN0KCcub3BhY2l0eS1zbGlkZXItaGFuZGxlJykubm9kZSgpXHJcblx0XHRzZXRPcGFjaXR5U2xpZGVyUG9zaXRpb24obGF5ZXIsIHNsaWRlckhhbmRsZSwgbGF5ZXIub3BhY2l0aXkpXHJcblx0fSAgICBcclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZUxhYmVsKGxheWVyLCBsYXllckRpdikge1xyXG5cdGxheWVyRGl2XHJcblx0XHQuYXBwZW5kKCdkaXYnKVxyXG5cdFx0XHQuYXR0cignY2xhc3MnLCAnbGF5ZXItbGFiZWwtd3JhcHBlcicpXHJcblx0XHQuYXBwZW5kKCdsYWJlbCcpXHJcblx0XHRcdC5hdHRyKCdmb3InLCBsYXllciA9PiBsYXllci5pZClcclxuXHRcdFx0LmF0dHIoJ2NsYXNzJywgJ2xheWVyLWxhYmVsJylcclxuXHRcdFx0Lmh0bWwobGF5ZXIgPT4gbGF5ZXIubmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VEZXNjcmlwdGlvbiAobGF5ZXIsIGxheWVyRGl2KSB7XHJcblx0aWYgKGxheWVyLmluZm8gJiYgbGF5ZXIuaW5mbyAhPT0gJycpIHtcclxuXHRcdGxheWVyRGl2LmFwcGVuZCgnZGl2JylcclxuXHRcdFx0LmF0dHIoJ2NsYXNzJywgJ2xheWVyLWluZm8tYnRuLXdyYXBwZXInKVxyXG5cdFx0XHQub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpXHJcblx0XHRcdFx0XHQuc2VsZWN0KCcubGF5ZXItaW5mby13cmFwcGVyJylcclxuXHRcdFx0XHRcdC5jbGFzc2VkKCdhY3RpdmUnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHQgIFxyXG5cdFx0XHRcdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBjbGljayBvbiBsYXllciBpbmZvXHJcblx0XHRcdFx0XHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdFx0XHRcdFx0XHQgIGV2ZW50Q2F0ZWdvcnk6ICdsYXllciBpbmZvJyxcclxuXHRcdFx0XHRcdFx0ICBldmVudEFjdGlvbjogJ2NsaWNrZWQnLFxyXG5cdFx0XHRcdFx0XHQgIGV2ZW50TGFiZWw6IGxheWVyLm5hbWUgKyBcIiBcIiArICFkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnYWN0aXZlJyksXHJcblx0XHRcdFx0XHRcdCAgbm9uSW50ZXJhY3Rpb246IGZhbHNlXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiAhZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0fSlcclxuXHRcdFx0LmFwcGVuZCgnaW1nJylcclxuXHRcdFx0XHQuYXR0cignY2xhc3MnLCAnbGF5ZXItaW5mby1pY29uJylcclxuXHRcdFx0XHQuYXR0cignc3JjJywgJ2ltZ3MvbW9yZS1pbmZvLWljb24tNjR4NjQucG5nJylcclxuXHRcdFx0XHQuYXR0cihcImFsdFwiLCBcIlJlYWQgbW9yZSBhYm91dCB0aGUgXCIgKyBsYXllci5uYW1lICsgXCIgbGF5ZXJcIilcclxuXHRcdFx0XHQuYXR0cihcInRpdGxlXCIsIFwiUmVhZCBtb3JlIGFib3V0IHRoZSBcIiArIGxheWVyLm5hbWUgKyBcIiBsYXllclwiKVxyXG5cclxuXHRcdGxheWVyRGl2LmFwcGVuZCgnZGl2JylcclxuXHRcdFx0LmF0dHIoJ2NsYXNzJywgJ2xheWVyLWluZm8td3JhcHBlcicpXHJcblx0XHRcdC50ZXh0KGxheWVyID0+IGxheWVyLmluZm8pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZUxheWVyVG9vbHMobGF5ZXIsIGxheWVyRGl2KSB7XHJcblx0dmFyIGxheWVyVG9vbHNEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdGxheWVyVG9vbHNEaXYuY2xhc3NMaXN0LmFkZCgnbGF5ZXItdG9vbHMtd3JhcHBlcicpXHJcblx0aWYgKGxheWVyLmFjdGl2ZSkgbGF5ZXJUb29sc0Rpdi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cclxuXHR2YXIgb3BhY2l0eVNsaWRlciA9IG1ha2VPcGFjaXR5U2xpZGVyKGxheWVyKTtcclxuXHR2YXIgbGVnZW5kID0gbWFrZUxlZ2VuZChsYXllcik7XHJcblxyXG5cdGxheWVyVG9vbHNEaXYuYXBwZW5kQ2hpbGQobGVnZW5kKVxyXG5cdGxheWVyVG9vbHNEaXYuYXBwZW5kQ2hpbGQob3BhY2l0eVNsaWRlcilcclxuXHJcblx0cmV0dXJuIGxheWVyVG9vbHNEaXZcclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZUxlZ2VuZCAobGF5ZXIsIGxheWVyVG9vbHNXcmFwcGVyKSB7XHJcblx0dmFyIGxlZ2VuZFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdHZhciBsZWdlbmRJbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG5cdGxlZ2VuZFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbGVnZW5kLXdyYXBwZXInKVxyXG5cdGxlZ2VuZEltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGxheWVyLmxlZ2VuZClcclxuXHRsZWdlbmRXcmFwcGVyLmFwcGVuZENoaWxkKGxlZ2VuZEltZylcclxuXHRyZXR1cm4gbGVnZW5kV3JhcHBlclxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3BhbmVsLmpzIiwiaW1wb3J0IHtHZXRNYXB9IGZyb20gXCIuL21hcFwiO1xyXG5pbXBvcnQge3VwZGF0ZVNoYXJlVXJsfSBmcm9tIFwiLi9zaGFyZVwiO1xyXG5pbXBvcnQge3RvZ2dsZUxheWVyVG9vbHNVSX0gZnJvbSBcIi4vcGFuZWxcIjtcclxuLyoqXHJcbiAqIE5lZWRlZCBmb3IgdGhlIHNoYXJlIHVybCBzaW5jZSBMZWFmbGV0IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IHdheSB0byBzdXJmYWNlXHJcbiAqIHRoZSBvcmRlciBvZiBsYXllcnMgaW4gdGhlIG1hcFxyXG4gKi9cclxudmFyIF9jdXJyZW50X2xheWVycyA9IFtdO1xyXG52YXIgX2N1cnJlbnRfbGF5ZXJzX29iamVjdHMgPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBOb3RlOiBsYXllciBpcyBub3QgdGhlIGxlYWZsZXQgY29uY2VwdCBvZiBhIGxheWVyLCBidXQgcmF0aGVyIHRoZSBpbnRlcm5hbFxyXG4gKiAgICAgICBvYmplY3Qgd2hpY2ggdHJhY2tzIHRoZW0uIGxheWVyLm1hcExheWVyIGlzIHRoZSBwb2ludGVyIHRvIHRoZVxyXG4gKiAgICAgICBsZWFmbGV0IGxheWVyLlxyXG4gKi9cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0Q3VycmVudExheWVycyAoKSB7XHJcblx0cmV0dXJuIF9jdXJyZW50X2xheWVycztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHR1cm5PZmZOb25CYXNlTGF5ZXJzICgpIHtcclxuXHR3aGlsZSAoX2N1cnJlbnRfbGF5ZXJzX29iamVjdHMubGVuZ3RoKSB7XHJcblx0XHR2YXIgbGF5ZXIgPSBfY3VycmVudF9sYXllcnNfb2JqZWN0cy5wb3AoKVxyXG5cdFx0bGF5ZXIuYWN0aXZlID0gZmFsc2VcclxuXHRcdGRpc2FibGVMYXllcihsYXllcilcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxheWVyLmlkKS5jaGVja2VkID0gZmFsc2VcclxuXHRcdHRvZ2dsZUxheWVyVG9vbHNVSShsYXllcilcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVEZWZhdWx0TGF5ZXJzIChsYXllcnMsIGRlZmF1bHRMYXllcnMpIHtcclxuXHR2YXIgaSwgaiwgcHJvcCwgbGF5ZXJncm91cDtcclxuXHR2YXIgZGVmYXVsdExheWVyO1xyXG5cdHZhciBmb3VuZExheWVyO1xyXG5cclxuXHRpZiAoIWRlZmF1bHRMYXllcnMgfHwgZGVmYXVsdExheWVycy5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHJcblx0Zm9yIChpID0gMDsgaSA8IGRlZmF1bHRMYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGZvdW5kTGF5ZXIgPSBmYWxzZTtcclxuXHRcdGRlZmF1bHRMYXllciA9IGRlZmF1bHRMYXllcnNbaV07XHJcblx0XHRmb3IgKHByb3AgaW4gbGF5ZXJzKSB7XHJcblx0XHRcdGlmICghbGF5ZXJzLmhhc093blByb3BlcnR5KHByb3ApKSByZXR1cm47XHJcblx0XHRcdGxheWVyZ3JvdXAgPSBsYXllcnNbcHJvcF07XHJcblx0XHRcdGZvciAoaiA9IDA7IGogPCBsYXllcmdyb3VwLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0aWYgKGxheWVyZ3JvdXBbal0uaWQgPT09IGRlZmF1bHRMYXllcikge1xyXG5cdFx0XHRcdFx0ZW5hYmxlTGF5ZXIobGF5ZXJncm91cFtqXSk7XHJcblx0XHRcdFx0XHRmb3VuZExheWVyID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZm91bmRMYXllcikgYnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlTGF5ZXIgKGxheWVyKSB7XHJcblx0aWYgKCFsYXllci5hY3RpdmUpIHtcclxuXHRcdGVuYWJsZUxheWVyKGxheWVyKTtcclxuXHJcblx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyB0b2dnbGUgdGhlIGxheWVyIG9uXHJcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcclxuXHRcdCAgZXZlbnRDYXRlZ29yeTogJ2xheWVyJyxcclxuXHRcdCAgZXZlbnRBY3Rpb246ICd0b2dnbGUgb24nLFxyXG5cdFx0ICBldmVudExhYmVsOiBsYXllci5uYW1lLFxyXG5cdFx0ICBub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHRcdH0pO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGlzYWJsZUxheWVyKGxheWVyKTtcclxuXHJcblx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyB0b2dnbGUgdGhlIGxheWVyIG9mZlxyXG5cdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHQgIGV2ZW50Q2F0ZWdvcnk6ICdsYXllcicsXHJcblx0XHQgIGV2ZW50QWN0aW9uOiAndG9nZ2xlIG9mZicsXHJcblx0XHQgIGV2ZW50TGFiZWw6IGxheWVyLm5hbWUsXHJcblx0XHQgIG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUxheWVyIChsYXllcikge1xyXG5cdHZhciBtYXAgPSBHZXRNYXAoKTtcclxuXHJcblx0bGF5ZXIuYWN0aXZlID0gdHJ1ZTtcclxuXHRsYXllci5tYXBMYXllciA9IGxheWVyLm1hcExheWVyIHx8IG1ha2VXbXNUaWxlTGF5ZXIobGF5ZXIpO1xyXG5cdG1hcC5hZGRMYXllcihsYXllci5tYXBMYXllcik7XHJcblx0YWRkTGF5ZXJUb0ludGVybmFsVHJhY2tlcihsYXllcik7XHJcblx0bW92ZU92ZXJsYXlMYXllcnNUb1RvcCgpO1xyXG5cdHVwZGF0ZVNoYXJlVXJsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1vdmVPdmVybGF5TGF5ZXJzVG9Ub3AgKCkge1xyXG5cdHZhciBsYXllcjtcclxuXHR2YXIgaSwgbDtcclxuXHJcblx0Zm9yIChpID0gMCwgbCA9IF9jdXJyZW50X2xheWVyc19vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0bGF5ZXIgPSBfY3VycmVudF9sYXllcnNfb2JqZWN0c1tpXTtcclxuXHRcdGlmIChsYXllci50eXBlID09PSBcIm92ZXJsYXlcIikgbGF5ZXIubWFwTGF5ZXIuYnJpbmdUb0Zyb250KCk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRMYXllclRvSW50ZXJuYWxUcmFja2VyIChsYXllcikge1xyXG5cdF9jdXJyZW50X2xheWVycy5wdXNoKGxheWVyLmlkKTtcclxuXHRfY3VycmVudF9sYXllcnNfb2JqZWN0cy5wdXNoKGxheWVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVMYXllciAobGF5ZXIpIHtcclxuXHR2YXIgbWFwID0gR2V0TWFwKCk7XHJcblxyXG5cdGxheWVyLmFjdGl2ZSA9IGZhbHNlO1xyXG5cdGlmIChsYXllci5tYXBMYXllciAmJiBtYXAuaGFzTGF5ZXIobGF5ZXIubWFwTGF5ZXIpKSB7XHJcblx0XHRtYXAucmVtb3ZlTGF5ZXIobGF5ZXIubWFwTGF5ZXIpO1xyXG5cdH1cclxuXHRyZW1vdmVMYXllckZyb21JbnRlcm5hbFRyYWNrZXIobGF5ZXIpO1xyXG5cdHVwZGF0ZVNoYXJlVXJsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUxheWVyRnJvbUludGVybmFsVHJhY2tlciAobGF5ZXIpIHtcclxuXHR2YXIgbG9jID0gX2N1cnJlbnRfbGF5ZXJzLmluZGV4T2YobGF5ZXIuaWQpO1xyXG5cdGlmIChsb2MgPT09IC0xKSByZXR1cm47XHJcblx0X2N1cnJlbnRfbGF5ZXJzLnNwbGljZShsb2MsIDEpO1xyXG5cdF9jdXJyZW50X2xheWVyc19vYmplY3RzLnNwbGljZShsb2MsIDEpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTGF5ZXJPcGFjaXR5IChsYXllciwgbmV3T3BhY2l0eSkge1xyXG5cdGxheWVyLm9wYWNpdHkgPSBuZXdPcGFjaXR5XHJcblx0bGF5ZXIubWFwTGF5ZXIuc2V0T3BhY2l0eShuZXdPcGFjaXR5KVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlV21zVGlsZUxheWVyIChsYXllcikge1xyXG5cdHJldHVybiBMLnRpbGVMYXllci53bXMobGF5ZXIudXJsLCB7XHJcblx0XHRsYXllcnM6IGxheWVyLmlkLFxyXG5cdFx0dHJhbnNwYXJlbnQ6IGxheWVyLnRyYW5zcGFyZW50IHx8IHRydWUsXHJcblx0XHR2ZXJzaW9uOiBsYXllci52ZXJzaW9uIHx8ICcxLjMuMCcsXHJcblx0XHRjcnM6IGxheWVyLmNycyB8fCBMLkNSUy5FUFNHOTAwOTEzLFxyXG5cdFx0Zm9ybWF0OiBsYXllci5mb3JtYXQgfHwgJ2ltYWdlL3BuZycsXHJcblx0XHRvcGFjaXR5OiBsYXllci5vcGFjaXR5IHx8IC43NSxcclxuXHRcdHRpbGVTaXplOiBsYXllci50aWxlU2l6ZSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcFwiKS5jbGllbnRXaWR0aFxyXG5cdH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL2xheWVyLmpzIiwiaW1wb3J0IHtyZW1vdmVBbGxQb2ludHNPZkludGVyZXN0fSBmcm9tICcuL3BvaSdcclxuaW1wb3J0IHt0dXJuT2ZmTm9uQmFzZUxheWVyc30gZnJvbSAnLi9sYXllcidcclxuaW1wb3J0IHtyZW1vdmVBbGxHcmFwaHN9IGZyb20gJy4vZ3JhcGgnXHJcbmltcG9ydCB7cmVzZXRQYW5lbFN0YXRlfSBmcm9tICcuL3BhbmVsJ1xyXG5pbXBvcnQge3VwZGF0ZVBhbmVsRHJhZ092ZXJsYXlIZWlnaHR9IGZyb20gICcuL3BhbmVsJ1xyXG5pbXBvcnQge3VwZGF0ZVNoYXJlVXJsfSBmcm9tICcuL3NoYXJlJ1xyXG5cclxudmFyIG1hcDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhck1hcCAoKSB7XHJcblx0cmVtb3ZlQWxsUG9pbnRzT2ZJbnRlcmVzdCgpXHJcblx0cmVtb3ZlQWxsR3JhcGhzKClcclxuXHR0dXJuT2ZmTm9uQmFzZUxheWVycygpXHJcblx0cmVzZXRQYW5lbFN0YXRlKClcclxuXHR1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0KClcclxuXHR1cGRhdGVTaGFyZVVybCgpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVNYXAgKG1hcENvbmZpZykge1xyXG5cdHZhciBpZCA9IG1hcENvbmZpZy5pZCB8fCBcIm1hcFwiO1xyXG5cdHZhciBvcHRpb25zID0gbWFwQ29uZmlnLm9wdGlvbnMgfHwge1wic2Nyb2xsV2hlZWxab29tXCIgOiBmYWxzZX07XHJcblx0dmFyIGluaXRpYWxDZW50ZXIgPSBtYXBDb25maWcuY2VudGVyIHx8IFtcIjM4LjVcIiwgXCItODFcIl07XHJcblx0dmFyIGluaXRpYWxab29tID0gbWFwQ29uZmlnLnpvb20gfHwgNjtcclxuXHJcblx0bWFwID0gTC5tYXAoaWQsIG9wdGlvbnMpLnNldFZpZXcoaW5pdGlhbENlbnRlciwgaW5pdGlhbFpvb20pO1xyXG5cdEwuY29udHJvbC5hdHRyaWJ1dGlvbigpLmFkZFRvKG1hcClcclxuXHJcblx0dmFyIGxlYWZsZXRab29tSW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibGVhZmxldC1jb250cm9sLXpvb20taW5cIilbMF07XHJcblxyXG5cdGxlYWZsZXRab29tSW4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcblx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBmb3Igc2VhY3JjaCBieSBhZGRyZXNzXHJcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcclxuXHRcdFx0ZXZlbnRDYXRlZ29yeTogJ21hcCcsXHJcblx0XHRcdGV2ZW50QWN0aW9uOiAnY2xpY2sgYnV0dG9uJyxcclxuXHRcdFx0ZXZlbnRMYWJlbDogJ3pvb20gaW4nLFxyXG5cdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHRcdH0pO1xyXG5cdH0pXHJcblxyXG5cdHZhciBsZWFmbGV0Wm9vbU91dCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJsZWFmbGV0LWNvbnRyb2wtem9vbS1vdXRcIilbMF07XHJcblxyXG5cdGxlYWZsZXRab29tT3V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG5cdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZm9yIHNlYWNyY2ggYnkgYWRkcmVzc1xyXG5cdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxyXG5cdFx0XHRldmVudEFjdGlvbjogJ2NsaWNrIGJ1dHRvbicsXHJcblx0XHRcdGV2ZW50TGFiZWw6ICd6b29tIG91dCcsXHJcblx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdFx0fSk7XHJcblx0fSlcclxuXHJcblx0bWFwLm9uKFwiZHJhZ2VuZFwiLCBmdW5jdGlvbihlKXtcclxuXHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGZvciBkcmFnIChwYW4pIGVuZFxyXG5cdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxyXG5cdFx0XHRldmVudEFjdGlvbjogJ2RyYWcnLFxyXG5cdFx0XHRldmVudExhYmVsOiBKU09OLnN0cmluZ2lmeShtYXAuZ2V0Qm91bmRzKCkpLFxyXG5cdFx0XHRub25JbnRlcmFjdGlvbjogdHJ1ZVxyXG5cdFx0fSk7XHJcblx0fSlcclxuXHJcblx0bWFwLm9uKFwiem9vbWVuZFwiLCBmdW5jdGlvbihlKXtcclxuXHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGZvciB6b29tIGVuZFxyXG5cdFx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdtYXAnLFxyXG5cdFx0XHRldmVudEFjdGlvbjogJ3pvb20nLFxyXG5cdFx0XHRldmVudExhYmVsOiBKU09OLnN0cmluZ2lmeShtYXAuZ2V0Qm91bmRzKCkpLFxyXG5cdFx0XHRub25JbnRlcmFjdGlvbjogdHJ1ZVxyXG5cdFx0fSk7XHJcblx0fSlcclxuXHRyZXR1cm4gbWFwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0TWFwICgpIHtcclxuXHRyZXR1cm4gbWFwO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21hcC5qcyIsImltcG9ydCB7R2V0TWFwfSBmcm9tICcuL21hcCc7XHJcbmltcG9ydCB7QkFTRV9MQVlFUl9UWVBFfSBmcm9tICcuL2Jhc2VsYXllcic7XHJcbmltcG9ydCB7R2V0Q3VycmVudExheWVyc30gZnJvbSAnLi9sYXllcic7XHJcbmltcG9ydCB7R2V0QWxsUG9pbnRzT2ZJbnRlcmVzdCwgY3JlYXRlUE9JfSBmcm9tICcuL3BvaSc7XHJcbmltcG9ydCB7R2V0QWN0aXZlTGF5ZXJHcm91cHN9IGZyb20gJy4vcGFuZWwnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEJpbmRVcGRhdGVTaGFyZVVybCAobWFwKSB7XHJcblx0bWFwLm9uKFwibW92ZWVuZFwiLCB1cGRhdGVTaGFyZVVybCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTaGFyZVVybCAoZSkge1xyXG5cdHZhciBtYXAgPSBHZXRNYXAoKTtcclxuXHJcblx0dmFyIHBhcmFtcyA9IFtcclxuXHRcdG1ha2VDZW50ZXJTdHJpbmcobWFwKSxcclxuXHRcdG1ha2Vab29tU3RyaW5nKG1hcCksXHJcblx0XHRtYWtlTGF5ZXJTdHJpbmcobWFwKSxcclxuXHRcdG1ha2VMYXllckdyb3Vwc1N0cmluZygpLFxyXG5cdFx0bWFrZUJhc2VMYXllclN0cmluZyhtYXApLFxyXG5cdFx0bWFrZVBvaW50c09mSW50ZXJlc3RTdHJpbmcoKSxcclxuXHRcdG1ha2VBY3RpdmVUYWJTdHJpbmcoKSxcclxuXHRcdG1ha2VBY3RpdmVHcmFwaFRhYlN0cmluZygpXHJcblx0XTtcclxuXHJcblx0c2V0U2hhcmVVcmwobWFrZVNoYXJlVXJsKHBhcmFtcykpO1xyXG5cdHNldENvcHlMaW5rVXJsKCk7XHJcblx0c2V0U29jaWFsVXJscygpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQWRkU2hhcmVTZXR0aW5nc1RvQ29uZmlnIChjb25maWcpIHtcclxuXHR2YXIgc2hhcmUgPSBwYXJzZVNoYXJlVXJsKCk7XHJcblx0aWYgKCFzaGFyZSkgcmV0dXJuO1xyXG5cdGlmIChzaGFyZS5jZW50ZXIpIGNvbmZpZy5tYXAuY2VudGVyID0gc2hhcmUuY2VudGVyO1xyXG5cdGlmIChzaGFyZS56b29tKSBjb25maWcubWFwLnpvb20gPSBzaGFyZS56b29tO1xyXG5cdGlmIChzaGFyZS5sYXllcnMpIGFkZExheWVyU2V0dGluZ3NUb0NvbmZpZyhzaGFyZS5sYXllcnMsIGNvbmZpZyk7XHJcblx0aWYgKHNoYXJlLmJhc2VsYXllcnMpIGFkZEJhc2VMYXllclNldHRpbmdzVG9Db25maWcoc2hhcmUuYmFzZWxheWVycywgY29uZmlnKTtcclxuXHRpZiAoc2hhcmUucG9pcykgYWRkUG9pbnRzT2ZJbnRlcmVzdFRvQ29uZmlnKHNoYXJlLnBvaXMsIGNvbmZpZylcclxuXHRpZiAoc2hhcmUudGFiKSBjb25maWcudGFiID0gc2hhcmUudGFiO1xyXG5cdGlmIChzaGFyZS5ncmFwaCkgY29uZmlnLmdyYXBoID0gc2hhcmUuZ3JhcGg7XHJcblx0aWYgKHNoYXJlLmxheWVyR3JvdXBzKSBjb25maWcubGF5ZXJHcm91cHMgPSBhZGRMYXllckdyb3VwU2V0dGluZ3NUb0NvbmZpZyhzaGFyZS5sYXllckdyb3VwcywgY29uZmlnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlU2hhcmVVcmwgKHBhcmFtcykge1xyXG5cdHJldHVybiBcIj9cIiArIHBhcmFtcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAgIT09IHVuZGVmaW5lZCB9KS5qb2luKFwiJlwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0U2hhcmVVcmwgKHVybCkge1xyXG5cdGlmICh3aW5kb3cuaGlzdG9yeSAmJiB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHtcclxuXHRcdHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgXCJcIiwgdXJsKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldENvcHlMaW5rVXJsICgpIHtcclxuXHR2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZXVybC1saW5rLXVybFwiKS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCB1cmwpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQmluZENvcHlMaW5rRXZlbnRzICgpIHtcclxuXHRkMy5zZWxlY3QoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgaGFuZGxlQm9keUNsaWNrKTtcclxuXHRkMy5zZWxlY3QoXCIuc2hhcmV1cmwtbGluayBhXCIpLm9uKFwiY2xpY2tcIiwgaGFuZGxlU2hhcmVMaW5rQnV0dG9uQ2xpY2spO1xyXG5cdGQzLnNlbGVjdChcIi5zaGFyZXVybC1saW5rLXVybFwiKS5vbihcImNsaWNrXCIsIGhhbmRsZVNoYXJlTGlua1VybENsaWNrKTtcclxuXHRkMy5zZWxlY3QoXCIuc2hhcmV1cmwtbGluay1wb3B1cC1yZW1vdmVyXCIpLm9uKFwiY2xpY2tcIiwgaGFuZGxlU2hhcmVMaW5rQ2xvc2VCdXR0b25DbGljayk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTaG91bGQgY2xvc2UgdGhlIGNvcHkgbGluayBwb3B1cCBpZiBpdCBpcyBhY3RpdmUgYW5kIGlmIHlvdSBjbGljayBvbiBhbnkgZWxlbWVudFxyXG4gKiB0aGF0IGlzIG5vdCB0aGUgcG9wdXAgb3IgaXRzIGNoaWxkcmVuLlxyXG4gKi9cclxuZnVuY3Rpb24gaGFuZGxlQm9keUNsaWNrICgpIHtcclxuXHR2YXIgZXZlbnQgPSBkMy5ldmVudDtcclxuXHR2YXIgbm9kZVBhdGggPSBbXVxyXG5cdG5vZGVQYXRoID0gZ2V0RG9tUGF0aChldmVudC50YXJnZXQpXHJcblxyXG5cdHZhciB0b0Nsb3NlUG9wdXAgPSB0cnVlO1xyXG5cdHZhciBpLCBsO1xyXG5cclxuXHRmb3IgKGkgPSAwLCBsID0gbm9kZVBhdGgubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAobm9kZVBhdGhbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzaGFyZXVybC1saW5rLXBvcHVwJykgfHxcclxuXHRcdFx0XHRcdG5vZGVQYXRoW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2hhcmV1cmwtbGluaycpKSB7XHJcblx0XHRcdFx0dG9DbG9zZVBvcHVwID0gZmFsc2U7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH0gICAgICAgICAgICBcclxuXHRcdH0gY2F0Y2goZSkge1xyXG5cdFx0XHQvLyBjbGlja2luZyBzdmcgdGhyb3dzIGFuIGVycm9yIGluIElFXHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAodG9DbG9zZVBvcHVwKSB7XHJcblx0XHR2YXIgc2hhcmVQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NoYXJldXJsLWxpbmstcG9wdXAnKS5pdGVtKDApXHJcblx0XHRoYW5kbGVDb3B5TGlua0Nsb3NlKHNoYXJlUG9wdXApO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RG9tUGF0aChub2RlKSB7XHJcblx0dmFyIHBhdGggPSBbXVxyXG5cdHdoaWxlIChub2RlICYmIG5vZGUucGFyZW50Tm9kZSkge1xyXG5cdFx0cGF0aC5wdXNoKG5vZGUpXHJcblx0XHRub2RlID0gbm9kZS5wYXJlbnROb2RlXHJcblx0fVxyXG5cdHJldHVybiBwYXRoXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVNoYXJlTGlua0J1dHRvbkNsaWNrICgpIHtcclxuXHR2YXIgc2hhcmVQb3B1cCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzaGFyZXVybC1saW5rLXBvcHVwXCIpLml0ZW0oMClcclxuXHRpZiAoZDMuc2VsZWN0KHNoYXJlUG9wdXApLmNsYXNzZWQoXCJhY3RpdmVcIikpIHtcclxuXHRcdGhhbmRsZUNvcHlMaW5rQ2xvc2Uoc2hhcmVQb3B1cClcclxuXHR9IGVsc2Uge1xyXG5cdFx0aGFuZGxlQ29weUxpbmtPcGVuKHNoYXJlUG9wdXApO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU2hhcmVMaW5rQ2xvc2VCdXR0b25DbGljayAoKSB7XHJcblx0dmFyIHNoYXJlUG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic2hhcmV1cmwtbGluay1wb3B1cFwiKS5pdGVtKDApXHJcblx0aGFuZGxlQ29weUxpbmtDbG9zZShzaGFyZVBvcHVwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU2hhcmVMaW5rVXJsQ2xpY2sgKCkge1xyXG5cdHNlbGVjdENvcHlMaW5rVXJsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNvcHlMaW5rT3BlbiAoc2hhcmVQb3B1cCkge1xyXG5cdHNoYXJlUG9wdXAuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKVxyXG5cdHNlbGVjdENvcHlMaW5rVXJsKCk7XHJcblxyXG5cdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGV2ZW50IGNsaWNrIG9uIHNoYXJlIHVybFxyXG5cdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdCAgZXZlbnRDYXRlZ29yeTogJ3NoYXJldXJsJyxcclxuXHQgIGV2ZW50QWN0aW9uOiAnb3BlbicsXHJcblx0ICBldmVudExhYmVsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoYXJldXJsLWxpbmstdXJsXCIpLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpLFxyXG5cdCAgbm9uSW50ZXJhY3Rpb246IGZhbHNlXHJcblx0fSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDb3B5TGlua0Nsb3NlIChzaGFyZVBvcHVwKSB7XHJcblxyXG5cdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGV2ZW50IGNsaWNrIG9uIHNoYXJlIHVybCBjbG9zZVxyXG5cdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdCAgZXZlbnRDYXRlZ29yeTogJ3NoYXJldXJsJyxcclxuXHQgIGV2ZW50QWN0aW9uOiAnY2xvc2UnLFxyXG5cdCAgZXZlbnRMYWJlbDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZXVybC1saW5rLXVybFwiKS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxcclxuXHQgIG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdH0pO1xyXG5cclxuXHRzaGFyZVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIilcclxufVxyXG5cclxuZnVuY3Rpb24gc2VsZWN0Q29weUxpbmtVcmwgKCkge1xyXG5cdHZhciBzaGFyZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaGFyZXVybC1saW5rLXVybFwiKTtcclxuXHRzaGFyZUlucHV0LmZvY3VzKCk7XHJcblx0c2hhcmVJbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBzaGFyZUlucHV0LnZhbHVlLmxlbmd0aCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFNvY2lhbFVybHMgKCkge1xyXG5cdHZhciB1cmwgPSBtYW5nbGVQYXJhbVN0cmluZyh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcblx0dmFyIHNvY2lhbExpbmtzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInNoYXJldXJsLXNvY2lhbFwiKTtcclxuXHR2YXIgc29jaWFsTGluaztcclxuXHR2YXIgbmV3VXJsO1xyXG5cdHZhciBpLCBsO1xyXG5cclxuXHRmb3IgKGkgPSAwLCBsID0gc29jaWFsTGlua3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRzb2NpYWxMaW5rID0gc29jaWFsTGlua3NbaV07XHJcblxyXG5cdFx0bmV3VXJsID0gc29jaWFsTGluay5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhc2V1cmxcIikgKyB1cmw7XHJcblx0XHRzb2NpYWxMaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgbmV3VXJsKTtcclxuXHJcblx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBldmVudCBmb3Igc29jaWFsIHVybHNcclxuXHRcdHNvY2lhbExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHQgIGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdFx0XHRldmVudENhdGVnb3J5OiAnc2hhcmV1cmwnLFxyXG5cdFx0XHRldmVudEFjdGlvbjogdGhpcy5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpLFxyXG5cdFx0XHRldmVudExhYmVsOiB0aGlzLmhyZWYsXHJcblx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdFx0ICB9KTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlQ2VudGVyU3RyaW5nIChtYXApIHtcclxuXHR2YXIgY2VudGVyID0gbWFwLmdldENlbnRlcigpO1xyXG5cdHJldHVybiBcImNlbnRlcj1cIiArIGNlbnRlci5sYXQudG9TdHJpbmcoKSArIFwiLFwiICsgY2VudGVyLmxuZy50b1N0cmluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlWm9vbVN0cmluZyAobWFwKSB7XHJcblx0cmV0dXJuIFwiem9vbT1cIiArIG1hcC5nZXRab29tKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VMYXllclN0cmluZyAobWFwKSB7XHJcblx0dmFyIGxheWVycyA9IFtdO1xyXG5cdHZhciBvcGFjaXR5VmFscyA9IHt9O1xyXG5cdHZhciBjdXJyZW50TGF5ZXJzID0gR2V0Q3VycmVudExheWVycygpO1xyXG5cclxuXHRtYXAuZWFjaExheWVyKGZ1bmN0aW9uIChsYXllcikge1xyXG5cdFx0dmFyIG9wdGlvbnMgPSBsYXllci5vcHRpb25zO1xyXG5cdFx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sYXllcnMpIHtcclxuXHRcdFx0b3BhY2l0eVZhbHNbb3B0aW9ucy5sYXllcnNdID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcIm9wYWNpdHlcIikgPyBvcHRpb25zLm9wYWNpdHkgOiBcIjFcIjtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0dmFyIGN1cnJlbnRMYXllcjtcclxuXHR2YXIgaTtcclxuXHRmb3IgKGkgPSAwOyBpIDwgY3VycmVudExheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0Y3VycmVudExheWVyID0gY3VycmVudExheWVyc1tpXTtcclxuXHRcdGxheWVycy5wdXNoKGN1cnJlbnRMYXllcik7XHJcblx0XHRsYXllcnMucHVzaChvcGFjaXR5VmFsc1tjdXJyZW50TGF5ZXJdKTtcclxuXHR9XHJcblx0cmV0dXJuIFwibGF5ZXJzPVwiICsgbGF5ZXJzLmpvaW4oXCIsXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlQmFzZUxheWVyU3RyaW5nIChtYXApIHtcclxuXHR2YXIgbGF5ZXJzID0gW107XHJcblx0bWFwLmVhY2hMYXllcihmdW5jdGlvbiAobGF5ZXIpIHtcclxuXHRcdGlmIChsYXllci5vcHRpb25zICYmIGxheWVyLm9wdGlvbnMudHlwZSA9PT0gQkFTRV9MQVlFUl9UWVBFKSB7XHJcblx0XHRcdGxheWVycy5wdXNoKGxheWVyLm9wdGlvbnMuaWQpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cdHJldHVybiBcImJhc2VsYXllcnM9XCIgKyBsYXllcnMuam9pbihcIixcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VMYXllckdyb3Vwc1N0cmluZyAoKSB7XHJcblx0dmFyIGFjdGl2ZUxheWVyR3JvdXBzID0gR2V0QWN0aXZlTGF5ZXJHcm91cHMoKVxyXG5cdHJldHVybiBcImxheWVyR3JvdXBzPVwiK2FjdGl2ZUxheWVyR3JvdXBzLm1hcChkID0+IGQuaWQpLmpvaW4oJywnKVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlUG9pbnRzT2ZJbnRlcmVzdFN0cmluZyAoKSB7XHJcblx0dmFyIHBvaXMgPSBHZXRBbGxQb2ludHNPZkludGVyZXN0KClcclxuXHRpZiAoIXBvaXMubGVuZ3RoKSByZXR1cm47XHJcblx0dmFyIHBvaVN0cmluZyA9IFwicG9pcz1cIjtcclxuXHRwb2lzLmZvckVhY2gocG9pID0+IHtcclxuXHRcdHBvaVN0cmluZyArPSBwb2kubGF0ICsgJywnICsgcG9pLmxuZztcclxuXHRcdGlmIChwb2kucGxvdHMgJiYgcG9pLnBsb3RzLmxlbmd0aCkge1xyXG5cdFx0XHRwb2lTdHJpbmcgKz0gJywnICsgcG9pLnBsb3RzLmpvaW4oJywnKTtcclxuXHRcdH1cclxuXHRcdHBvaVN0cmluZyArPSAnOyc7XHJcblx0fSlcclxuXHRyZXR1cm4gcG9pU3RyaW5nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlQWN0aXZlVGFiU3RyaW5nICgpIHtcclxuXHRyZXR1cm4gXCJ0YWI9XCIgKyBkMy5zZWxlY3QoXCIucGFuZWwtdG9wLWJ0bi5hY3RpdmVcIikuYXR0cihcImRhdGEtYWN0aXZlXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlQWN0aXZlR3JhcGhUYWJTdHJpbmcgKCkge1xyXG5cdHJldHVybiBcImdyYXBoPVwiICsgZDMuc2VsZWN0KFwiLmdyYXBoLXR5cGUtYnRuLmFjdGl2ZVwiKS5hdHRyKFwiZGF0YS10eXBlXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZVNoYXJlVXJsICgpIHtcclxuXHR2YXIgcGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuXHRpZiAocGFyYW1zID09PSBcIlwiKSByZXR1cm47XHJcblxyXG5cdHBhcmFtcyA9IGdldFBhcmFtc0FycmF5KHBhcmFtcyk7XHJcblx0cGFyYW1zID0gbWFrZUtleWVkUGFyYW1zT2JqZWN0KHBhcmFtcyk7XHJcblxyXG5cdGZvcm1hdFBhcmFtcyhwYXJhbXMpO1xyXG5cdHJldHVybiBwYXJhbXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFBhcmFtc0FycmF5IChwYXJhbXMpIHtcclxuXHRwYXJhbXMgPSBwYXJhbXMuc3Vic3RyaW5nKDEpO1xyXG5cdHBhcmFtcyA9IHVubWFuZ2xlUGFyYW1TdHJpbmcocGFyYW1zKTtcclxuXHRyZXR1cm4gcGFyYW1zLnNwbGl0KFwiJlwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFuZ2xlUGFyYW1TdHJpbmcgKHVybCkge1xyXG5cdHJldHVybiB1cmwucmVwbGFjZSgvXFw6L2csIFwiJTNBXCIpXHJcblx0XHQucmVwbGFjZSgvXFw7L2csIFwiJTNCXCIpXHJcblx0XHQucmVwbGFjZSgvXFwvL2csIFwiJTJGXCIpXHJcblx0XHQucmVwbGFjZSgvXFwsL2csIFwiJTJDXCIpXHJcblx0XHQucmVwbGFjZSgvXFwmL2csIFwiJTI2XCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1bm1hbmdsZVBhcmFtU3RyaW5nIChwYXJhbXMpIHtcclxuXHRyZXR1cm4gcGFyYW1zLnJlcGxhY2UoL1xcJTJbY3xDXS9nLCBcIixcIikucmVwbGFjZSgvXFwlM1tifEJdL2csIFwiO1wiKVxyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlS2V5ZWRQYXJhbXNPYmplY3QgKHBhcmFtc0Fycikge1xyXG5cdHZhciBwYXJzZWRQYXJhbXMgPSB7fTtcclxuXHR2YXIgcGFyYW1QYWlyO1xyXG5cdHZhciBpO1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgcGFyYW1zQXJyLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRwYXJhbVBhaXIgPSBwYXJhbXNBcnJbaV0uc3BsaXQoXCI9XCIpO1xyXG5cdFx0cGFyc2VkUGFyYW1zW3BhcmFtUGFpclswXV0gPSBwYXJhbVBhaXJbMV1cclxuXHR9XHJcblxyXG5cdHJldHVybiBwYXJzZWRQYXJhbXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFBhcmFtcyAocGFyYW1zKSB7XHJcblx0aWYgKHBhcmFtcy5jZW50ZXIpIHBhcmFtcy5jZW50ZXIgPSBmb3JtYXRDZW50ZXJQYXJhbShwYXJhbXMuY2VudGVyKTtcclxuXHRpZiAocGFyYW1zLmxheWVycykgcGFyYW1zLmxheWVycyA9IGZvcm1hdExheWVyUGFyYW0ocGFyYW1zLmxheWVycyk7XHJcblx0aWYgKHBhcmFtcy5iYXNlbGF5ZXJzKSBwYXJhbXMuYmFzZWxheWVycyA9IGZvcm1hdEJhc2VMYXllclBhcmFtKHBhcmFtcy5iYXNlbGF5ZXJzKTtcclxuXHRpZiAocGFyYW1zLnBvaXMpIHBhcmFtcy5wb2lzID0gZm9ybWF0UG9pbnRzT2ZJbnRlcmVzdFBhcmFtKHBhcmFtcy5wb2lzKVxyXG5cdGlmIChwYXJhbXMubGF5ZXJHcm91cHMpIHBhcmFtcy5sYXllckdyb3VwcyA9IGZvcm1hdExheWVyR3JvdXBzUGFyYW0ocGFyYW1zLmxheWVyR3JvdXBzKVxyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRDZW50ZXJQYXJhbSAoY2VudGVyKSB7XHJcblx0cmV0dXJuIGNlbnRlci5zcGxpdChcIixcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdExheWVyUGFyYW0gKGxheWVycykge1xyXG5cdHZhciBmb3JtYXR0ZWRMYXllcnMgPSB7XHJcblx0XHRcImVuYWJsZWRMYXllcnNcIjogW10sXHJcblx0XHRcIm9wYWNpdHlWYWxzXCI6IHt9XHJcblx0fTtcclxuXHR2YXIgbGF5ZXJJZDtcclxuXHR2YXIgaTtcclxuXHJcblx0bGF5ZXJzID0gbGF5ZXJzLnNwbGl0KFwiLFwiKTtcclxuXHRmb3IgKGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aDsgaSA9IGkgKyAyKSB7XHJcblx0XHRsYXllcklkID0gbGF5ZXJzW2ldO1xyXG5cdFx0Zm9ybWF0dGVkTGF5ZXJzLmVuYWJsZWRMYXllcnMucHVzaChsYXllcklkKTtcclxuXHRcdGZvcm1hdHRlZExheWVycy5vcGFjaXR5VmFsc1tsYXllcklkXSA9IGxheWVyc1tpKzFdO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGZvcm1hdHRlZExheWVycztcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0QmFzZUxheWVyUGFyYW0gKGJhc2VsYXllcnMpIHtcclxuXHRyZXR1cm4gYmFzZWxheWVycy5zcGxpdChcIixcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFBvaW50c09mSW50ZXJlc3RQYXJhbSAocG9pcykge1xyXG5cdHJldHVybiBwb2lzLnNwbGl0KCc7JylcclxuXHRcdC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSAnJylcclxuXHRcdC5tYXAoKHBvaSkgPT4ge1xyXG5cdFx0XHRwb2kgPSBwb2kuc3BsaXQoJywnKTtcclxuXHRcdFx0aWYgKHBvaS5sZW5ndGggPiAyKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZVBPSShwb2lbMF0sIHBvaVsxXSwgcG9pLnNwbGljZSgyKSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIGNyZWF0ZVBPSShwb2lbMF0sIHBvaVsxXSwgbnVsbCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRMYXllckdyb3Vwc1BhcmFtIChsYXllckdyb3VwU2V0dGluZ3MpIHtcclxuXHRyZXR1cm4gbGF5ZXJHcm91cFNldHRpbmdzLnNwbGl0KCcsJylcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkTGF5ZXJHcm91cFNldHRpbmdzVG9Db25maWcoYWN0aXZlTGF5ZXJHcm91cElkcywgY29uZmlnKSB7XHJcblx0Y29uZmlnLmxheW91dFsnbGF5ZXItZ3JvdXBzLW9yZGVyJ10uZm9yRWFjaChsYXllckdyb3VwID0+IHtcclxuXHRcdC8vIHNldCBsYXllciBncm91cCB0byBhY3RpdmUgaWYgaXRzIGlkIGFwcGVhcnMgaW4gdGhlIHNoYXJlIHVybCBzZXR0aW5nc1xyXG5cdFx0bGF5ZXJHcm91cC5hY3RpdmUgPSBhY3RpdmVMYXllckdyb3VwSWRzLmZpbHRlcihpZCA9PiB7XHJcblx0XHRcdHJldHVybiBpZCA9PT0gbGF5ZXJHcm91cC5pZFxyXG5cdFx0fSkubGVuZ3RoID4gMFxyXG5cdH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZExheWVyU2V0dGluZ3NUb0NvbmZpZyAoc2hhcmVMYXllclNldHRpbmdzLCBjb25maWcpIHtcclxuXHR2YXIgZW5hYmxlZExheWVycyA9IHNoYXJlTGF5ZXJTZXR0aW5ncy5lbmFibGVkTGF5ZXJzO1xyXG5cdGNvbmZpZ1tcImFjdGl2ZS1sYXllcnNcIl0gPSBlbmFibGVkTGF5ZXJzO1xyXG5cclxuXHR2YXIgaSwgaiwgcHJvcCwgbGF5ZXJncm91cDtcclxuXHR2YXIgZW5hYmxlZExheWVyO1xyXG5cdHZhciBmb3VuZExheWVyO1xyXG5cdHZhciBsYXllcnMgPSBjb25maWcubGF5ZXJzO1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgZW5hYmxlZExheWVycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0Zm91bmRMYXllciA9IGZhbHNlO1xyXG5cdFx0ZW5hYmxlZExheWVyID0gZW5hYmxlZExheWVyc1tpXTtcclxuXHRcdGZvciAocHJvcCBpbiBsYXllcnMpIHtcclxuXHRcdFx0aWYgKCFsYXllcnMuaGFzT3duUHJvcGVydHkocHJvcCkpIHJldHVybjtcclxuXHRcdFx0bGF5ZXJncm91cCA9IGxheWVyc1twcm9wXTtcclxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGxheWVyZ3JvdXAubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRpZiAobGF5ZXJncm91cFtqXS5pZCA9PT0gZW5hYmxlZExheWVyKSB7XHJcblx0XHRcdFx0XHRsYXllcmdyb3VwW2pdLm9wYWNpdHkgPSBzaGFyZUxheWVyU2V0dGluZ3Mub3BhY2l0eVZhbHNbZW5hYmxlZExheWVyXTtcclxuXHRcdFx0XHRcdGZvdW5kTGF5ZXIgPSB0cnVlO1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChmb3VuZExheWVyKSBicmVhaztcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEJhc2VMYXllclNldHRpbmdzVG9Db25maWcgKHNoYXJlQmFzZUxheWVyU2V0dGluZ3MsIGNvbmZpZykge1xyXG5cdHZhciBiYXNlbGF5ZXJzID0gY29uZmlnLmJhc2VsYXllcnM7XHJcblx0dmFyIGJhc2VsYXllcjtcclxuXHR2YXIgaTtcclxuXHJcblx0Zm9yIChpID0gMDsgaSA8IGJhc2VsYXllcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGJhc2VsYXllciA9IGJhc2VsYXllcnNbaV07XHJcblx0XHRiYXNlbGF5ZXIuYWN0aXZlID0gKHNoYXJlQmFzZUxheWVyU2V0dGluZ3MuaW5kZXhPZihiYXNlbGF5ZXIuaWQpICE9PSAtMSkgPyB0cnVlIDogZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQb2ludHNPZkludGVyZXN0VG9Db25maWcocG9pcywgY29uZmlnKSB7XHJcblx0Y29uZmlnW1wicG9pc1wiXSA9IHBvaXNcclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvc2hhcmUuanMiLCJpbXBvcnQge0dldE1hcH0gZnJvbSBcIi4vbWFwXCI7XHJcbmltcG9ydCB7dXBkYXRlU2hhcmVVcmx9IGZyb20gXCIuL3NoYXJlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQkFTRV9MQVlFUl9UWVBFID0gXCJiYXNlbGF5ZXJcIjtcclxuXHJcbnZhciBfYmFzZWxheWVycztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVCYXNlTGF5ZXJzIChtYXAsIGxheWVyQ29uZmlnKSB7XHJcblx0bGF5ZXJDb25maWcgPSBsYXllckNvbmZpZyB8fFxyXG5cdFx0W3tcclxuXHRcdFx0XCJpZFwiIDogXCJjYXJ0by1saWdodC1kZWZhdWx0XCIsXHJcblx0XHRcdFwidXJsXCIgOiBcImh0dHA6Ly97c30uYmFzZW1hcHMuY2FydG9jZG4uY29tL2xpZ2h0X2FsbC97en0ve3h9L3t5fS5wbmdcIixcclxuXHRcdFx0XCJhdHRyaWJ1dGlvblwiIDogJyZjb3B5OyA8YSBocmVmPVwiaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMsICZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb25zXCI+Q0FSVE88L2E+J1xyXG5cdFx0fV07XHJcblxyXG5cdF9iYXNlbGF5ZXJzID0gbGF5ZXJDb25maWc7XHJcblx0dmFyIGk7XHJcblx0dmFyIGJhc2VMYXllcjtcclxuXHR2YXIgY29uZmlnO1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgbGF5ZXJDb25maWcubGVuZ3RoOyBpKyspIHtcclxuXHRcdGNvbmZpZyA9IGxheWVyQ29uZmlnW2ldO1xyXG5cclxuXHRcdGlmICghY29uZmlnLmFjdGl2ZSkgY29udGludWU7XHJcblx0XHRiYXNlTGF5ZXIgPSBjcmVhdGVCYXNlTGF5ZXIoY29uZmlnKTtcclxuXHRcdGNvbmZpZy5sYXllciA9IGJhc2VMYXllcjtcclxuXHRcdGJhc2VMYXllci5hZGRUbyhtYXApO1xyXG5cdH1cclxuXHJcblx0Y3JlYXRlQmFzZUxheWVyVUkobGF5ZXJDb25maWcpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VMYXllclVJIChjb25maWcpIHtcclxuXHR2YXIgYmFzZVVJID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRiYXNlVUkuY2xhc3NOYW1lID0gXCJiYXNlbGF5ZXItdWlcIjtcclxuXHR2YXIgYmFzZVdyYXBwZXI7XHJcblx0dmFyIGJhc2VJbWc7XHJcblx0dmFyIGJhc2VMYWJlbDtcclxuXHJcblx0dmFyIGxheWVyO1xyXG5cdGZvciAodmFyIGkgPSAwLCBsID0gY29uZmlnLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0bGF5ZXIgPSBjb25maWdbaV07XHJcblx0XHRpZiAoIWxheWVyLmhhc093blByb3BlcnR5KFwiaW1hZ2VcIikpIGNvbnRpbnVlO1xyXG5cclxuXHRcdGJhc2VXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGJhc2VXcmFwcGVyLnNldEF0dHJpYnV0ZShcImRhdGEtbGF5ZXJcIiwgbGF5ZXIuaWQpO1xyXG5cdFx0YmFzZUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRiYXNlSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBsYXllci5pbWFnZSk7XHJcblx0XHRiYXNlSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBsYXllci5sYWJlbCk7XHJcblx0XHRiYXNlSW1nLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGxheWVyLmxhYmVsKTtcclxuXHRcdGJhc2VMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRiYXNlTGFiZWwudGV4dENvbnRlbnQgPSBsYXllci5sYWJlbDtcclxuXHRcdGJhc2VXcmFwcGVyLmFwcGVuZENoaWxkKGJhc2VJbWcpO1xyXG5cdFx0YmFzZVdyYXBwZXIuYXBwZW5kQ2hpbGQoYmFzZUxhYmVsKTtcclxuXHRcdGJhc2VXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVCYXNlQ2xpY2spXHJcblxyXG5cdFx0ZDMuc2VsZWN0KGJhc2VXcmFwcGVyKVxyXG5cdFx0XHQuY2xhc3NlZChcImJhc2Utc2VsZWN0b3JcIiwgdHJ1ZSlcclxuXHRcdFx0LmNsYXNzZWQoXCJhY3RpdmVcIiwgbGF5ZXIuYWN0aXZlKTtcclxuXHJcblx0XHRiYXNlVUkuYXBwZW5kQ2hpbGQoYmFzZVdyYXBwZXIpO1xyXG5cdH1cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxlYWZsZXQtYm90dG9tIGxlYWZsZXQtbGVmdFwiKVswXS5hcHBlbmRDaGlsZChiYXNlVUkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVCYXNlQ2xpY2sgKGUpIHtcclxuXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdHZhciBsYXllcmlkID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxheWVyXCIpO1xyXG5cdHRvZ2dsZUFjdGl2ZUJhc2VVSSh0aGlzKTtcclxuXHRyZW1vdmVDdXJyZW50QmFzZUxheWVyKCk7XHJcblx0YWRkTmV3QmFzZUxheWVyVG9NYXAobGF5ZXJpZCk7XHJcblxyXG5cdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGZvciBjaGFuZ2VpbmcgYmFzZSBsYXllclxyXG5cdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdCAgZXZlbnRDYXRlZ29yeTogJ21hcCcsXHJcblx0ICBldmVudEFjdGlvbjogJ2NoYW5nZSBiYXNlIGxheWVyJyxcclxuXHQgIGV2ZW50TGFiZWw6IGxheWVyaWQsXHJcblx0ICBub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHR9KTtcclxuXHJcblx0dXBkYXRlU2hhcmVVcmwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlQWN0aXZlQmFzZVVJIChiYXNlVUlFbGVtKSB7XHJcblx0ZDMuc2VsZWN0KFwiLmJhc2Utc2VsZWN0b3IuYWN0aXZlXCIpLmNsYXNzZWQoXCJhY3RpdmVcIiwgZmFsc2UpO1xyXG5cdGQzLnNlbGVjdChiYXNlVUlFbGVtKS5jbGFzc2VkKFwiYWN0aXZlXCIsIHRydWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVDdXJyZW50QmFzZUxheWVyICgpIHtcclxuXHR2YXIgbWFwID0gR2V0TWFwKCk7XHJcblxyXG5cdG1hcC5lYWNoTGF5ZXIoZnVuY3Rpb24gKGxheWVyKSB7XHJcblx0XHRpZiAobGF5ZXIub3B0aW9ucy50eXBlICE9PSBCQVNFX0xBWUVSX1RZUEUpIHJldHVybjtcclxuXHRcdG1hcC5yZW1vdmVMYXllcihsYXllcik7XHJcblx0fSlcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkTmV3QmFzZUxheWVyVG9NYXAgKGxheWVyaWQpIHtcclxuXHR2YXIgbWFwID0gR2V0TWFwKCk7XHJcblxyXG5cdHZhciBsYXllcjtcclxuXHRmb3IgKHZhciBpID0gMCwgbCA9IF9iYXNlbGF5ZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0bGF5ZXIgPSBfYmFzZWxheWVyc1tpXTtcclxuXHRcdGlmIChsYXllci5pZCAhPT0gbGF5ZXJpZCkgY29udGludWU7XHJcblx0XHRpZiAoIWxheWVyLmxheWVyKSBsYXllci5sYXllciA9IGNyZWF0ZUJhc2VMYXllcihsYXllcik7XHJcblx0XHRsYXllci5sYXllci5hZGRUbyhtYXApO1xyXG5cdFx0bGF5ZXIubGF5ZXIuYnJpbmdUb0JhY2soKTtcclxuXHRcdGJyZWFrO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQmFzZUxheWVyIChsYXllckNvbmZpZykge1xyXG5cdHJldHVybiBMLnRpbGVMYXllcihcclxuXHRcdGxheWVyQ29uZmlnLnVybCxcclxuXHRcdG1ha2VCYXNlTGF5ZXJPcHRpb25zKGxheWVyQ29uZmlnKVxyXG5cdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VCYXNlTGF5ZXJPcHRpb25zIChjb25maWcpIHtcclxuXHR2YXIgb3B0aW9ucyA9IHt9O1xyXG5cdGlmIChjb25maWcuaWQpIG9wdGlvbnMuaWQgPSBjb25maWcuaWQ7XHJcblx0aWYgKGNvbmZpZy5hdHRyaWJ1dGlvbikgb3B0aW9ucy5hdHRyaWJ1dGlvbiA9IGNvbmZpZy5hdHRyaWJ1dGlvbjtcclxuXHRpZiAoY29uZmlnLnN1YmRvbWFpbnMpIG9wdGlvbnMuc3ViZG9tYWlucyA9IGNvbmZpZy5zdWJkb21haW5zO1xyXG5cdG9wdGlvbnMudHlwZSA9IEJBU0VfTEFZRVJfVFlQRTtcclxuXHJcblx0cmV0dXJuIG9wdGlvbnM7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvYmFzZWxheWVyLmpzIiwiaW1wb3J0IHtjcmVhdGVHcmFwaERpdn0gZnJvbSAnLi9ncmFwaCc7XHJcbmltcG9ydCB7Y3JlYXRlTWFya2VyLCBnZXRJY29ufSBmcm9tICcuL21hcmtlcic7XHJcbmltcG9ydCB7dXBkYXRlU2hhcmVVcmx9IGZyb20gJy4vc2hhcmUnO1xyXG5pbXBvcnQge0dldE1hcH0gZnJvbSAnLi9tYXAnO1xyXG5pbXBvcnQge0dldEFjdGl2ZVRhYiwgSGFuZGxlVGFiQ2hhbmdlfSBmcm9tICcuL3RhYnMnO1xyXG5pbXBvcnQge3VwZGF0ZVBhbmVsRHJhZ092ZXJsYXlIZWlnaHR9IGZyb20gJy4vcGFuZWwnO1xyXG5cclxudmFyIF9wb2ludHNfb2ZfaW50ZXJlc3QgPSBbXVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEJpbmRHcmFwaEV2ZW50cyAobWFwKSB7XHJcblx0bWFwLm9uKFwiY2xpY2tcIiwgaGFuZGxlTWFwQ2xpY2spO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsUG9pbnRzT2ZJbnRlcmVzdCAoKSB7XHJcblx0dmFyIG1hcCA9IEdldE1hcCgpXHJcblx0X3BvaW50c19vZl9pbnRlcmVzdC5mb3JFYWNoKHBvaSA9PiB7XHJcblx0XHRtYXAucmVtb3ZlTGF5ZXIocG9pLm1hcmtlcilcclxuXHR9KVxyXG5cdF9wb2ludHNfb2ZfaW50ZXJlc3QgPSBbXVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVNYXBDbGljayAoZSkge1xyXG5cdHZhciBtYXAgPSB0aGlzO1xyXG5cdHZhciBsYXQgPSBlLmxhdGxuZy5sYXQ7XHJcblx0dmFyIGxuZyA9IGUubGF0bG5nLmxuZztcclxuXHJcblx0dmFyIHBvaSA9IGNyZWF0ZVBPSShsYXQsIGxuZywgbnVsbCk7XHJcblx0QWRkUG9pbnRPZkludGVyZXN0VG9UcmFja2VyKHBvaSk7XHJcblx0U2V0dXBQb2ludE9mSW50ZXJlc3RVSShtYXAsIHBvaSk7XHJcblx0dXBkYXRlU2hhcmVVcmwoKTtcclxuXHJcblx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZXZlbnQgY2xpY2sgb24gbWFwXHJcblx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRldmVudENhdGVnb3J5OiAnbWFwJyxcclxuXHRcdGV2ZW50QWN0aW9uOiAnY2xpY2snLFxyXG5cdFx0ZXZlbnRMYWJlbDogSlNPTi5zdHJpbmdpZnkoe1wiYWN0aW9uXCI6XCJhZGQgbWFwIG1hcmtlclwiLFwibGF0XCI6bGF0LFwibG9uZ1wiOmxuZ30pLFxyXG5cdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUdyYXBoUmVtb3ZlciAobWFwLCBkaXYsIG1hcmtlciwgcG9pKSB7XHJcblx0dmFyIGVsZW0gPSBjcmVhdGVHcmFwaFJlbW92ZXJFbGVtKCk7XHJcblx0ZGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmFwaC1lbGVtLWhlYWRlclwiKVswXS5hcHBlbmRDaGlsZChlbGVtKTtcclxuXHRkMy5zZWxlY3QoZWxlbSkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgcmVtb3ZlIGdyYXBoXHJcblx0XHRnYSgnc2VuZCcsICdldmVudCcsIHtcclxuXHRcdFx0ZXZlbnRDYXRlZ29yeTogJ2dyYXBoJyxcclxuXHRcdFx0ZXZlbnRBY3Rpb246ICdjbGljaycsXHJcblx0XHRcdGV2ZW50TGFiZWw6ICdyZW1vdmUnLFxyXG5cdFx0XHRub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHRcdH0pO1xyXG5cclxuXHRcdFJlbW92ZVBvaW50T2ZJbnRlcmVzdEZyb21UcmFja2VyKHBvaSlcclxuXHRcdFJlbW92ZVBvaW50T2ZJbnRlcmVzdFVJKG1hcCwgZGl2LCBtYXJrZXIpXHJcblx0XHR1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0KClcclxuXHRcdHVwZGF0ZVNoYXJlVXJsKClcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlR3JhcGhSZW1vdmVyRWxlbSAoKSB7XHJcblx0dmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG5cdGVsZW0uY2xhc3NOYW1lID0gXCJyZW1vdmUtZ3JhcGhcIjtcclxuXHRlbGVtLmlubmVyVGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoXCIxMDAwNVwiKTtcclxuXHRlbGVtLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIFwiUmVtb3ZlIGdyYXBoXCIpO1xyXG5cdHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0QWxsUG9pbnRzT2ZJbnRlcmVzdCAoKSB7XHJcblx0cmV0dXJuIF9wb2ludHNfb2ZfaW50ZXJlc3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQT0kgKGxhdCwgbG5nLCBwbG90cykge1xyXG5cdHJldHVybiB7XHJcblx0XHRsYXQ6IGxhdCxcclxuXHRcdGxuZzogbG5nLFxyXG5cdFx0cGxvdHM6IHBsb3RzIHx8IFtcImJhc2VsaW5lXCIsIFwiMjAxNVwiLCBcInRocmVzaG9sZHNcIl1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZFBvaW50T2ZJbnRlcmVzdFRvVHJhY2tlciAocG9pKSB7XHJcblx0X3BvaW50c19vZl9pbnRlcmVzdC5wdXNoKHBvaSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXR1cFBvaW50c09mSW50ZXJlc3QgKG1hcCwgbmV3UG9pcykge1xyXG5cdEFkZE11bHRpcGxlUG9pbnRzT2ZJbnRlcmVzdChuZXdQb2lzKVxyXG5cdHZhciBwb2lzID0gR2V0QWxsUG9pbnRzT2ZJbnRlcmVzdCgpXHJcblx0dmFyIG1hcCA9IEdldE1hcCgpXHJcblx0cG9pcy5mb3JFYWNoKHBvaSA9PiB7XHJcblx0XHRTZXR1cFBvaW50T2ZJbnRlcmVzdFVJKG1hcCwgcG9pKVxyXG5cdH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZE11bHRpcGxlUG9pbnRzT2ZJbnRlcmVzdCAocG9pcykge1xyXG5cdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KF9wb2ludHNfb2ZfaW50ZXJlc3QsIHBvaXMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVQb2ludE9mSW50ZXJlc3RGcm9tVHJhY2tlcihwb2lUb1JlbW92ZSkge1xyXG5cdF9wb2ludHNfb2ZfaW50ZXJlc3QgPSBfcG9pbnRzX29mX2ludGVyZXN0LmZpbHRlcihwb2kgPT4ge1xyXG5cdFx0cmV0dXJuICEocG9pID09PSBwb2lUb1JlbW92ZSlcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gU2V0dXBQb2ludE9mSW50ZXJlc3RVSSAobWFwLCBwb2kpIHtcclxuXHR2YXIgZGl2ID0gY3JlYXRlR3JhcGhEaXYocG9pKTtcclxuXHR2YXIgbWFya2VyID0gY3JlYXRlTWFya2VyKHBvaS5sYXQsIHBvaS5sbmcpO1xyXG5cdHBvaS5ncmFwaERpdiA9IGRpdlxyXG5cdHBvaS5tYXJrZXIgPSBtYXJrZXJcclxuXHRtYXJrZXIuYWRkVG8obWFwKVxyXG5cdGNyZWF0ZUdyYXBoUmVtb3ZlcihtYXAsIGRpdiwgbWFya2VyLCBwb2kpO1xyXG5cclxuXHRkMy5zZWxlY3QoZGl2KS5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdG1hcmtlci5zZXRJY29uKGdldEljb24oJ2hvdmVyJykpO1xyXG5cdH0pXHJcblx0ZDMuc2VsZWN0KGRpdikub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uICgpIHtcclxuXHRcdG1hcmtlci5zZXRJY29uKGdldEljb24oJ2dyYXBoJykpO1xyXG5cdH0pXHJcblx0bWFya2VyLm9uKCdjbGljayBkYmxjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRoYW5kbGVNYXJrZXJNb3VzZUV2ZW50KGUsIHBvaSlcclxuXHR9KVxyXG5cdG1hcmtlci5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdG1hcmtlci5zZXRJY29uKGdldEljb24oJ2hvdmVyJykpXHJcblx0fSlcclxuXHRtYXJrZXIub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdG1hcmtlci5zZXRJY29uKGdldEljb24oJ2dyYXBoJykpXHJcblx0XHRwb2kuZ3JhcGhEaXYuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncGFuLXRvLW1hcmtlci1idG4nKVswXS5jbGFzc0xpc3QucmVtb3ZlKCdhbmltYXRlJylcclxuXHR9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVNYXJrZXJNb3VzZUV2ZW50IChlLCBwb2kpIHtcclxuXHRlLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuXHRIYW5kbGVUYWJDaGFuZ2UoJ2dyYXBocy1hY3RpdmUnKVxyXG5cdHNjcm9sbFRvUG9pbnRPZkludGVyZXN0R3JhcGgocG9pKVxyXG5cdHRyaWdnZXJHcmFwaEFuaW1hdGlvbihwb2kpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyaWdnZXJHcmFwaEFuaW1hdGlvbiAocG9pKSB7XHJcblx0cG9pLmdyYXBoRGl2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Bhbi10by1tYXJrZXItYnRuJylbMF0uY2xhc3NMaXN0LmFkZCgnYW5pbWF0ZScpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNjcm9sbFRvUG9pbnRPZkludGVyZXN0R3JhcGggKHBvaSkge1xyXG5cdHZhciByaWdodFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXBhbmVsJyk7XHJcblx0cmlnaHRQYW5lbC5zY3JvbGxUb3AgPSBwb2kuZ3JhcGhEaXYub2Zmc2V0VG9wO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVQb2ludE9mSW50ZXJlc3RVSSAobWFwLCBkaXYsIG1hcmtlcikge1xyXG5cdHZhciBsaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyYXBoLWxpc3QnKTtcclxuXHRsaXN0LnJlbW92ZUNoaWxkKGRpdik7XHJcblx0bWFwLnJlbW92ZUxheWVyKG1hcmtlcik7XHJcblx0dXBkYXRlU2hhcmVVcmwoKVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3BvaS5qcyIsImltcG9ydCB7dXBkYXRlUGFuZWxEcmFnT3ZlcmxheUhlaWdodH0gZnJvbSAnLi9wYW5lbCdcclxuaW1wb3J0IHt1cGRhdGVTaGFyZVVybH0gZnJvbSAnLi9zaGFyZSdcclxuaW1wb3J0IHtHZXRNYXB9IGZyb20gJy4vbWFwJ1xyXG5pbXBvcnQge0dldEFqYXhPYmplY3R9IGZyb20gJy4vcGFyc2VyJ1xyXG5cclxudmFyIHRpcCA9IHt9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFNldHVwR3JhcGhzICgpIHtcclxuXHRkMy5zZWxlY3RBbGwoXCIuZ3JhcGgtdHlwZS1idG5cIikub24oXCJjbGlja1wiLCBoYW5kbGVHcmFwaFR5cGVCdG5DbGljayk7XHJcblx0ZXh0ZW5kRGF0ZU1vZHVsZSgpO1xyXG5cdHRpcCA9IGQzLnRpcCgpLmF0dHIoJ2NsYXNzJywgJ2QzLXRpcCcpLmh0bWwoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQ7IH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsR3JhcGhzKCkge1xyXG5cdHZhciBncmFwaExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JhcGgtbGlzdCcpXHJcblx0d2hpbGUgKGdyYXBoTGlzdC5maXJzdENoaWxkKSB7XHJcblx0XHRncmFwaExpc3QucmVtb3ZlQ2hpbGQoZ3JhcGhMaXN0LmZpcnN0Q2hpbGQpXHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBleHRlbmREYXRlTW9kdWxlICgpIHtcclxuXHREYXRlLnByb3RvdHlwZS5pc0xlYXBZZWFyID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgeWVhciA9IHRoaXMuZ2V0RnVsbFllYXIoKTtcclxuXHRcdGlmICgoeWVhciAmIDMpICE9IDApIHJldHVybiBmYWxzZTtcclxuXHRcdHJldHVybiAoKHllYXIgJSAxMDApICE9IDAgfHwgKHllYXIgJSA0MDApID09IDApO1xyXG5cdH07XHJcblxyXG5cdC8vIEdldCBEYXkgb2YgWWVhclxyXG5cdERhdGUucHJvdG90eXBlLmdldERPWSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGRheUNvdW50ID0gWzAsIDMxLCA1OSwgOTAsIDEyMCwgMTUxLCAxODEsIDIxMiwgMjQzLCAyNzMsIDMwNCwgMzM0XTtcclxuXHRcdHZhciBtbiA9IHRoaXMuZ2V0TW9udGgoKTtcclxuXHRcdHZhciBkbiA9IHRoaXMuZ2V0RGF0ZSgpO1xyXG5cdFx0dmFyIGRheU9mWWVhciA9IGRheUNvdW50W21uXSArIGRuO1xyXG5cdFx0aWYgKG1uID4gMSAmJiB0aGlzLmlzTGVhcFllYXIoKSkgZGF5T2ZZZWFyKys7XHJcblx0XHRyZXR1cm4gZGF5T2ZZZWFyO1xyXG5cdH07XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gR1JBUEggREFUQSBQUk9DRVNTSU5HIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUdyYXBoRGF0YVJlc3BvbnNlIChkaXYsIHBvaSwgcmVzcG9uc2UpIHtcclxuXHRyZXNwb25zZSA9IHJlc3BvbnNlLnJlcGxhY2UoL1xcW3xcXF18XFwnL2csIFwiXCIpLnNwbGl0KFwiLCBcIik7XHJcblx0ZHJhd0dyYXBoKHJlc3BvbnNlLCBkaXYsIHBvaSk7XHJcblx0dXBkYXRlUGFuZWxEcmFnT3ZlcmxheUhlaWdodCgpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGEocG9pLCBkaXYpIHtcclxuXHR2YXIgdXJsID0gXCJodHRwczovL2ZjYXYtbmR2aS5uZW1hYy5vcmcvbGFuZGRhdF9wcm9kdWN0LmNnaT9hcmdzPVwiICsgcG9pLmxuZyArIFwiLFwiICsgcG9pLmxhdDtcclxuXHR2YXIgb1JlcSA9IEdldEFqYXhPYmplY3QoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0XHRoYW5kbGVHcmFwaERhdGFSZXNwb25zZShkaXYsIHBvaSwgcmVzcG9uc2UpXHJcblx0fSlcclxuXHJcblx0b1JlcS5vcGVuKFwiR0VUXCIsIHVybCk7XHJcblx0b1JlcS5zZW5kKClcclxufVxyXG5cclxuZnVuY3Rpb24gc3BsaXREYXRhKGRhdGEpIHtcclxuXHR2YXIgaTtcclxuXHRmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG5cdFx0ZGF0YVtpXSA9IGRhdGFbaV0uc3BsaXQoXCIsXCIpO1xyXG5cdH1cclxuXHRyZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVwcm9jZXNzRGF0YSAob3JpZ2RhdGEpIHtcclxuXHR2YXIgZXhwZWN0ZWRZZWFyTGVuZ3RoID0gNDY7XHJcblx0dmFyIGRhdGEgPSB7fTtcclxuXHR2YXIgcG9pbnQ7XHJcblx0dmFyIGtleTtcclxuXHR2YXIgaSwgajtcclxuXHJcblx0ZGF0YVtcImtleXNcIl0gPSBbXTtcclxuXHRmb3IgKGkgPSAwOyBpIDwgb3JpZ2RhdGEubGVuZ3RoOyBpKyspIHtcclxuXHRcdHBvaW50ID0gb3JpZ2RhdGFbaV07XHJcblx0XHRrZXkgPSBwb2ludFswXS5zdWJzdHJpbmcoMCw0KTtcclxuXHRcdGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdGRhdGFba2V5XSA9IFtdO1xyXG5cdFx0XHRkYXRhW1wia2V5c1wiXS5wdXNoKGtleSk7XHJcblx0XHR9XHJcblx0XHRkYXRhW2tleV0ucHVzaChwb2ludCk7XHJcblx0fVxyXG5cclxuXHR2YXIga2V5c1RvQmVEZWxldGVkID0gW107XHJcblx0Zm9yIChpID0gMDsgaSA8IGRhdGEua2V5cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0a2V5ID0gZGF0YS5rZXlzW2ldO1xyXG5cdFx0aWYgKGRhdGFba2V5XS5sZW5ndGggIT09IGV4cGVjdGVkWWVhckxlbmd0aCkge1xyXG5cdFx0XHRrZXlzVG9CZURlbGV0ZWQucHVzaChrZXkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Zm9yIChpID0gMDsgaSA8IGtleXNUb0JlRGVsZXRlZC5sZW5ndGg7IGkrKykge1xyXG5cdFx0a2V5ID0ga2V5c1RvQmVEZWxldGVkW2ldO1xyXG5cdFx0ZGVsZXRlIGRhdGFba2V5XTtcclxuXHRcdGRhdGEua2V5cy5zcGxpY2UoZGF0YS5rZXlzLmluZGV4T2Yoa2V5KSwgMSk7XHJcblx0fVxyXG5cclxuXHR2YXIgZGF0YUZvckJhc2VsaW5lO1xyXG5cdHZhciBtZWFuO1xyXG5cdGRhdGFbXCJiYXNlbGluZVwiXSA9IFtdO1xyXG5cdGZvciAoaSA9IDA7IGkgPCBleHBlY3RlZFllYXJMZW5ndGg7IGkrKykge1xyXG5cdFx0ZGF0YUZvckJhc2VsaW5lID0gW107XHJcblx0XHRmb3IgKGogPSBpOyBqIDwgb3JpZ2RhdGEubGVuZ3RoOyBqICs9IGV4cGVjdGVkWWVhckxlbmd0aCkge1xyXG5cdFx0XHRkYXRhRm9yQmFzZWxpbmUucHVzaChwYXJzZUludChvcmlnZGF0YVtqXVsxXSwgMTApKTtcclxuXHRcdH1cclxuXHJcblx0XHRtZWFuID0gY29tcHV0ZUF2ZXJhZ2UoZGF0YUZvckJhc2VsaW5lKTtcclxuXHRcdGRhdGFbXCJiYXNlbGluZVwiXS5wdXNoKG1lYW4pO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXB1dGVBdmVyYWdlIChhcnIpIHtcclxuXHR2YXIgc3VtID0gMCwgaSwgbDtcclxuXHJcblx0Zm9yIChpID0gMCwgbCA9IGFyci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdHN1bSArPSBhcnJbaV07XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gKHN1bSAvIGwpLnRvU3RyaW5nKCk7XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gR1JBUEggSU5URVJGQUNFIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlR3JhcGhUeXBlQnRuQ2xpY2sgKCkge1xyXG5cdHZhciB0eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpO1xyXG5cdHZhciBhY3RpdmVUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyYXBoLXR5cGUtYnRuIGFjdGl2ZVwiKVswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpO1xyXG5cclxuXHRpZiAodHlwZSA9PT0gYWN0aXZlVHlwZSkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgY2xpY2sgb24gZ3JhcGggdHlwZVxyXG5cdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdCAgZXZlbnRDYXRlZ29yeTogJ2dyYXBoIHR5cGUnLFxyXG5cdCAgZXZlbnRBY3Rpb246ICdjbGljaycsXHJcblx0ICBldmVudExhYmVsOiB0eXBlLFxyXG5cdCAgbm9uSW50ZXJhY3Rpb246IGZhbHNlXHJcblx0fSk7XHJcblxyXG5cdEhhbmRsZUdyYXBoVGFiQ2hhbmdlKHR5cGUsIGFjdGl2ZVR5cGUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlR3JhcGhUYWJDaGFuZ2UgKGdyYXBoVHlwZSkge1xyXG5cdGlmICghaXNHcmFwaExpc3RFbXB0eSgpKSB7XHJcblx0XHR2YXIgb2xkQWN0aXZlR3JhcGhFbGVtSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ3JhcGgtZWxlbScpWzBdLnNjcm9sbEhlaWdodFxyXG5cdFx0dmFyIG9sZEFjdGl2ZUdyYXBoSW5mb0hlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2dyYXBoLXR5cGUtaW5mbyBhY3RpdmUnKVswXS5zY3JvbGxIZWlnaHRcclxuXHRcdHZhciByaWdodFBhbmVsU2Nyb2xsVG9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JpZ2h0LXBhbmVsJykuc2Nyb2xsVG9wXHJcblx0fVxyXG5cdGRpc2FibGVBY3RpdmVHcmFwaFRhYigpO1xyXG5cdGVuYWJsZUdyYXBoVGFiKGdyYXBoVHlwZSk7XHJcblx0aWYgKCFpc0dyYXBoTGlzdEVtcHR5KCkpIGFkanVzdFNjcm9sbFBvc2l0aW9uKG9sZEFjdGl2ZUdyYXBoSW5mb0hlaWdodCwgb2xkQWN0aXZlR3JhcGhFbGVtSGVpZ2h0LCByaWdodFBhbmVsU2Nyb2xsVG9wKVxyXG5cdHVwZGF0ZVNoYXJlVXJsKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzR3JhcGhMaXN0RW1wdHkoKSB7XHJcblx0cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2dyYXBoLWVsZW0nKVswXSA9PT0gdW5kZWZpbmVkXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkanVzdFNjcm9sbFBvc2l0aW9uKG9sZEdyYXBoSW5mb0hlaWdodCwgb2xkR3JhcGhFbGVtSGVpZ2h0LCBvbGRSaWdodFBhbmVsU2Nyb2xsVG9wKSB7XHJcblx0dmFyIG5ld0dyYXBoSW5mb0hlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2dyYXBoLXR5cGUtaW5mbyBhY3RpdmUnKVswXS5zY3JvbGxIZWlnaHRcclxuXHR2YXIgbmV3R3JhcGhFbGVtSGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ3JhcGgtZWxlbScpWzBdLnNjcm9sbEhlaWdodFxyXG5cclxuXHR2YXIgbmV3R3JhcGhFbGVtSGVpZ2h0U2NhbGUgPSAobmV3R3JhcGhFbGVtSGVpZ2h0IC8gb2xkR3JhcGhFbGVtSGVpZ2h0KVxyXG5cdHZhciBuZXdSaWdodFBhbmVsU2Nyb2xsVG9wID0gbmV3R3JhcGhJbmZvSGVpZ2h0ICsgKFxyXG5cdFx0KG9sZFJpZ2h0UGFuZWxTY3JvbGxUb3AgLSBvbGRHcmFwaEluZm9IZWlnaHQpICogbmV3R3JhcGhFbGVtSGVpZ2h0U2NhbGVcclxuXHQpXHJcblxyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyaWdodC1wYW5lbCcpLnNjcm9sbFRvcCA9IG5ld1JpZ2h0UGFuZWxTY3JvbGxUb3BcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzYWJsZUFjdGl2ZUdyYXBoVGFiICgpIHtcclxuXHR2YXIgYWN0aXZlRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmFwaC10eXBlLWJ0biBhY3RpdmVcIilbMF07XHJcblx0dmFyIGFjdGl2ZUNsYXNzID0gXCJncmFwaC1cIiArIGFjdGl2ZUVsZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIpO1xyXG5cclxuXHRhY3RpdmVFbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaC1saXN0XCIpLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbmFibGVHcmFwaFRhYiAoZ3JhcGhUeXBlKSB7XHJcblx0ZDMuc2VsZWN0KFwiLmdyYXBoLXR5cGUtYnRuW2RhdGEtdHlwZT0nXCIgKyBncmFwaFR5cGUgKyBcIiddXCIpLmNsYXNzZWQoXCJhY3RpdmVcIiwgdHJ1ZSk7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaC1saXN0XCIpLmNsYXNzTGlzdC5hZGQoXCJncmFwaC1cIiArIGdyYXBoVHlwZSk7XHJcblx0ZDMuc2VsZWN0QWxsKCcuZ3JhcGgtdHlwZS1pbmZvJylcclxuXHQuY2xhc3NlZCgnYWN0aXZlJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGdyYXBoVHlwZSA9PT0gdGhpcy5pZC5zcGxpdCgnLScpWzBdXHJcblx0fSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdyYXBoRGl2IChwb2kpIHtcclxuXHR2YXIgZGVjaW1hbFBsYWNlcyA9IDNcclxuXHR2YXIgbGF0U2hvcnQgPSByb3VuZEZsb2F0KHBvaS5sYXQsIGRlY2ltYWxQbGFjZXMpXHJcblx0dmFyIGxuZ1Nob3J0ID0gcm91bmRGbG9hdChwb2kubG5nLCBkZWNpbWFsUGxhY2VzKVxyXG5cdHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHR2YXIgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHR3cmFwcGVyLmFwcGVuZENoaWxkKGhlYWRlcilcclxuXHR2YXIgem9vbVRvTWFya2VyQnV0dG9uID0gbWFrZVpvb21Ub01hcE1hcmtlckJ1dHRvbihwb2kpXHJcblx0dmFyIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkxhdDogXCIgKyBsYXRTaG9ydCArIFwiLCBMb25nOiBcIiArIGxuZ1Nob3J0KTtcclxuXHR2YXIgY29udGVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29udGVudERpdi5jbGFzc05hbWUgPSBcImdyYXBoLWxhdC1sb25cIjtcclxuXHRjb250ZW50RGl2LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xyXG5cclxuXHRoZWFkZXIuYXBwZW5kQ2hpbGQoem9vbVRvTWFya2VyQnV0dG9uKVxyXG5cdGhlYWRlci5hcHBlbmRDaGlsZChjb250ZW50RGl2KTtcclxuXHJcblx0dmFyIGxvYWRpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGxvYWRpbmdEaXYuY2xhc3NMaXN0LmFkZChcImdyYXBoLWxvYWRpbmctZGl2XCIpO1xyXG5cdHdyYXBwZXIuYXBwZW5kQ2hpbGQobG9hZGluZ0Rpdik7XHJcblxyXG5cdHdyYXBwZXIuY2xhc3NMaXN0LmFkZChcImdyYXBoLWVsZW1cIik7XHJcblx0d3JhcHBlci5jbGFzc0xpc3QuYWRkKFwiZ3JhcGgtbG9hZGluZ1wiKTtcclxuXHRoZWFkZXIuY2xhc3NMaXN0LmFkZChcImdyYXBoLWVsZW0taGVhZGVyXCIpO1xyXG5cclxuXHR2YXIgbGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JhcGgtbGlzdFwiKTtcclxuXHRsaXN0LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xyXG5cdGdldERhdGEocG9pLCB3cmFwcGVyKTtcclxuXHRyZXR1cm4gd3JhcHBlcjtcclxufVxyXG5cclxuZnVuY3Rpb24gbWFrZVpvb21Ub01hcE1hcmtlckJ1dHRvbihwb2kpIHtcclxuXHR2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxyXG5cdGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdidG4nKVxyXG5cdGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwYW4tdG8tbWFya2VyLWJ0bicpXHJcblx0YnV0dG9uLnRleHRDb250ZW50ID0gXCJTaG93IE9uIE1hcFwiXHJcblx0YnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbiAocG9pLCBlKSB7XHJcblx0XHR2YXIgbWFwID0gR2V0TWFwKClcclxuXHRcdG1hcC5wYW5UbyhbcG9pLmxhdCwgcG9pLmxuZ10pXHJcblxyXG5cdFx0Ly9zZW5kIGdvb2dsZSBhbmFseXRpY3MgY2xpY2sgb24gc2hvdyBvbiBtYXBcclxuXHRcdGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdFx0ICBldmVudENhdGVnb3J5OiAnZ3JhcGgnLFxyXG5cdFx0ICBldmVudEFjdGlvbjogJ2NsaWNrJyxcclxuXHRcdCAgZXZlbnRMYWJlbDogJ3tcInNob3cgb24gbWFwXCI6e1wibGF0XCI6JyArIHBvaS5sYXQgKyAnLFwibG9uZ1wiOicrICBwb2kubG5nKyAnfX0nLFxyXG5cdFx0ICBub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHRcdH0pO1xyXG5cclxuXHR9LmJpbmQoYnV0dG9uLCBwb2kpXHJcblx0cmV0dXJuIGJ1dHRvblxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3R3JhcGgoZGF0YSwgZGl2LCBwb2kpIHtcclxuXHRkYXRhID0gc3BsaXREYXRhKGRhdGEpO1xyXG5cdHZhciByZXByb2Nlc3NlZERhdGEgPSByZXByb2Nlc3NEYXRhKGRhdGEpO1xyXG5cdG1ha2VVcERvd25MaW5lR3JhcGgoZGF0YSwgZGl2KTtcclxuXHRtYWtlVXBEb3duT3ZlcmxhcGluZ0xpbmVHcmFwaFdpdGhDaGVja2JveGVzKHJlcHJvY2Vzc2VkRGF0YSwgZGl2LCBwb2kpO1xyXG5cdGRyYXdVcERvd25Qb2xhcldpdGhDaGVja2JveGVzQW5kVGhyZXNob2xkcyhyZXByb2Nlc3NlZERhdGEsIGRpdiwgcG9pKTtcclxuXHRkaXYuY2xhc3NMaXN0LnJlbW92ZShcImdyYXBoLWxvYWRpbmdcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJvdW5kRmxvYXQobnVtYmVyLCBkZWNpbWFsUGxhY2VzKSB7XHJcblx0cmV0dXJuIE1hdGgucm91bmQobnVtYmVyICogTWF0aC5wb3coMTAsIGRlY2ltYWxQbGFjZXMpKSAvIChNYXRoLnBvdygxMCwgZGVjaW1hbFBsYWNlcykpXHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLyBUSU1FU0VSSUVTIExJTkUgR1JBUEggLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIG1ha2VVcERvd25MaW5lR3JhcGggKGRhdGEsIGRpdikge1xyXG5cdC8vIFNldCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgY2FudmFzIC8gZ3JhcGhcclxuXHR2YXIgbWFyZ2luID0ge3RvcDogMzAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMCwgbGVmdDogMjl9LFxyXG5cdHdpZHRoID0gNTgwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXHJcblx0aGVpZ2h0ID0gMjcwIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XHJcblxyXG5cdC8vIFNldCB0aGUgcmFuZ2VzXHJcblx0dmFyIHggPSBkMy5zY2FsZVRpbWUoKS5yYW5nZShbMCwgd2lkdGhdKVxyXG5cdFx0LmRvbWFpbihbXHJcblx0XHRcdHBhcnNlRGF0ZShkYXRhWzBdWzBdKSxcclxuXHRcdFx0cGFyc2VEYXRlKGRhdGFbZGF0YS5sZW5ndGgtMV1bMF0pXHJcblx0XHRdKTtcclxuXHR2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pXHJcblx0XHQuZG9tYWluKFswLCAxMDBdKTtcclxuXHJcblx0Ly8gRGVmaW5lIHRoZSBheGVzXHJcblx0dmFyIHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KVxyXG5cdFx0LnRpY2tzKDE2KVxyXG5cdFx0LnRpY2tGb3JtYXQoZnVuY3Rpb24gKGQpIHtcclxuXHRcdFx0cmV0dXJuIGQuZ2V0RnVsbFllYXIoKTtcclxuXHRcdH0pO1xyXG5cclxuXHR2YXIgeUF4aXMgPSBkMy5heGlzTGVmdCh5KVxyXG5cdFx0LnRpY2tzKDYpO1xyXG5cclxuXHQvLyBEZWZpbmUgdGhlIGxpbmVcclxuXHR2YXIgdmFsdWVsaW5lID0gZDMubGluZSgpXHJcblx0XHQueChmdW5jdGlvbihkKSB7IHJldHVybiB4KHBhcnNlRGF0ZShkWzBdKSk7IH0pXHJcblx0XHQueShmdW5jdGlvbihkKSB7IHJldHVybiB5KGRbMV0pOyB9KTtcclxuXHJcblx0dmFyIHdyYXBwZXIgPSBkMy5zZWxlY3QoZGl2KVxyXG5cdFx0LmFwcGVuZChcImRpdlwiKVxyXG5cdFx0LmNsYXNzZWQoXCJ0aW1lc2VyaWVzLWdyYXBoXCIsIHRydWUpO1xyXG5cclxuXHQvLyBBZGRzIHRoZSBzdmcgY2FudmFzXHJcblx0dmFyIHN2ZyA9IHdyYXBwZXIuYXBwZW5kKFwic3ZnXCIpXHJcblx0XHQuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuXHRcdC5hdHRyKCd2aWV3Qm94JywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgdyA9IHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHRcclxuXHRcdFx0dmFyIGggPSBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbVxyXG5cdFx0XHRyZXR1cm4gJzAgMCAnICsgdyArICcgJyArIGhcclxuXHRcdH0pXHJcblx0XHQuYXR0cigncHJlc2VydmVBc3BlY3RSYXRpbycsICd4TWlkWU1pZCcpXHJcblx0XHQuYXBwZW5kKFwiZ1wiKVxyXG5cdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xyXG5cclxuXHRzdmcuY2FsbCh0aXApO1xyXG5cclxuXHQvLyBBZGQgdGhlIHZhbHVlbGluZSBwYXRoLlxyXG5cdGRyYXdMaW5lYXJQYXRoKGRhdGEsIHZhbHVlbGluZSwgc3ZnKTtcclxuXHJcblx0Ly8gQWRkIHRoZSBYIEF4aXNcclxuXHRzdmcuYXBwZW5kKFwiZ1wiKVxyXG5cdFx0LmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKVxyXG5cdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxyXG5cdFx0LmNhbGwoeEF4aXMpO1xyXG5cclxuXHQvLyBBZGQgdGhlIFkgQXhpc1xyXG5cdHN2Zy5hcHBlbmQoXCJnXCIpXHJcblx0XHQuYXR0cihcImNsYXNzXCIsIFwieSBheGlzXCIpXHJcblx0XHQuY2FsbCh5QXhpcyk7XHJcblx0LyoqXHJcblx0ICogVGhpcyBibG9jayBvZiBjb2RlIGRyYXdzIHRoZSBwb2ludCBhdCBlYWNoIGRhdGEgcG9pbnRcclxuXHQgKi9cclxuXHRkcmF3TGluZWFyUG9pbnRzKGRhdGEsIHZhbHVlbGluZSwgc3ZnKTtcclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8gT1ZFUkxBUFBJTkcgVElNRVNFUklFUyBMSU5FIEdSQVBIIC8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIG1ha2VVcERvd25PdmVybGFwaW5nTGluZUdyYXBoV2l0aENoZWNrYm94ZXMgKGRhdGEsIGRpdiwgcG9pKSB7XHJcblx0dmFyIGNoYXJ0cyA9IHt9O1xyXG5cclxuXHQvLyBTZXQgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGNhbnZhcyAvIGdyYXBoXHJcblx0dmFyIG1hcmdpbiA9IHt0b3A6IDMwLCByaWdodDogMjAsIGJvdHRvbTogMzAsIGxlZnQ6IDI5fSxcclxuXHRcdHdpZHRoID0gNTAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXHJcblx0XHRoZWlnaHQgPSAyNzAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuXHJcblx0dmFyIGF2ZXJhZ2VzID0gZGF0YS5iYXNlbGluZTtcclxuXHJcblx0dmFyIHggPSBkMy5zY2FsZUxpbmVhcigpLnJhbmdlKFswLCB3aWR0aF0pXHJcblx0XHQuZG9tYWluKFswLCAzNjVdKTtcclxuXHR2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW2hlaWdodCwgMF0pXHJcblx0XHQuZG9tYWluKFswLCAxMDBdKTtcclxuXHJcblx0Ly8gRGVmaW5lIHRoZSBheGVzXHJcblx0ZnVuY3Rpb24gZm9ybWF0TW9udGhUaWNrIChkKSB7XHJcblx0XHRyZXR1cm4gKE1PTlRIX0xBQkVMU1soZC0xNSkvMzBdKTtcclxuXHR9XHJcblx0dmFyIHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KVxyXG5cdFx0LnRpY2tzKDExKVxyXG5cdFx0LnRpY2tWYWx1ZXMoWzE1LCA0NSwgNzUsIDEwNSwgMTM1LCAxNjUsIDE5NSwgMjI1LCAyNTUsIDI4NSwgMzE1LCAzNDVdKVxyXG5cdFx0LnRpY2tGb3JtYXQoZm9ybWF0TW9udGhUaWNrKTtcclxuXHJcblx0dmFyIHlBeGlzID0gZDMuYXhpc0xlZnQoeSlcclxuXHRcdC50aWNrcyg2KTtcclxuXHJcblx0Ly8gRGVmaW5lIHRoZSBsaW5lXHJcblx0dmFyIHZhbHVlbGluZSA9IGQzLmxpbmUoKVxyXG5cdFx0LngoZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gKEFycmF5LmlzQXJyYXkoZCkgPyB4KHBhcnNlSnVsaWFuRGF5KGRbMF0pKSA6IHgoKGkgKiA4KSArIDMgKSk7IH0pXHJcblx0XHQueShmdW5jdGlvbihkKSB7IHJldHVybiAoQXJyYXkuaXNBcnJheShkKSA/IHkoZFsxXSkgOiB5KGQpKTsgfSk7XHJcblxyXG5cdHZhciB3cmFwcGVyID0gZDMuc2VsZWN0KGRpdikuYXBwZW5kKFwiZGl2XCIpLmNsYXNzZWQoXCJvdmVybGFwcGluZy1ncmFwaFwiLCB0cnVlKTtcclxuXHJcblx0Ly8gQWRkcyB0aGUgc3ZnIGNhbnZhc1xyXG5cdHZhciBzdmcgPSB3cmFwcGVyXHJcblx0XHQuYXBwZW5kKFwic3ZnXCIpXHJcblx0XHRcdC5hdHRyKCd2aWV3Qm94JywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdHZhciB3ID0gd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodFxyXG5cdFx0XHRcdHZhciBoID0gaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b21cclxuXHRcdFx0XHRyZXR1cm4gJzAgMCAnICsgdyArICcgJyArIGhcclxuXHRcdFx0fSlcclxuXHRcdFx0LmF0dHIoJ3ByZXNlcnZlQXNwZWN0UmF0aW8nLCAneE1pZFlNaWQnKVxyXG5cdFx0XHQvLy5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcclxuXHRcdFx0Ly8uYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuXHRcdC5hcHBlbmQoXCJnXCIpXHJcblx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsXHJcblx0XHRcdFx0ICBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xyXG5cclxuXHRzdmcuY2FsbCh0aXApO1xyXG5cclxuXHQvLyBBZGQgdGhlIFggQXhpc1xyXG5cdHN2Zy5hcHBlbmQoXCJnXCIpXHJcblx0XHQuYXR0cihcImNsYXNzXCIsIFwieCBheGlzXCIpXHJcblx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXHJcblx0XHQuY2FsbCh4QXhpcyk7XHJcblxyXG5cdC8vIEFkZCB0aGUgWSBBeGlzXHJcblx0c3ZnLmFwcGVuZChcImdcIilcclxuXHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcclxuXHRcdC5jYWxsKHlBeGlzKTtcclxuXHJcblx0dmFyIHBsb3QsIGksIGw7XHJcblx0Zm9yIChpID0gMCwgbCA9IHBvaS5wbG90cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdHBsb3QgPSBwb2kucGxvdHNbaV07XHJcblx0XHRpZiAocGxvdCA9PT0gXCJ0aHJlc2hvbGRzXCIpIGNvbnRpbnVlO1xyXG5cdFx0Y2hhcnRzW3Bsb3RdID0ge1xyXG5cdFx0XHRcInBhdGhcIiA6IGRyYXdMaW5lYXJQYXRoKGRhdGFbcGxvdF0sIHZhbHVlbGluZSwgc3ZnKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBibG9jayBvZiBjb2RlIGRyYXdzIHRoZSBwb2ludCBhdCBlYWNoIGRhdGEgcG9pbnRcclxuXHQgKi9cclxuXHRmb3IgKGkgPSAwLCBsID0gcG9pLnBsb3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0cGxvdCA9IHBvaS5wbG90c1tpXTtcclxuXHRcdGlmIChwbG90ID09PSBcInRocmVzaG9sZHNcIikgY29udGludWU7XHJcblx0XHRjaGFydHNbcGxvdF0ucG9pbnRzID0gZHJhd0xpbmVhclBvaW50cyhkYXRhW3Bsb3RdLCB2YWx1ZWxpbmUsIHN2Zyk7XHJcblx0fVxyXG5cclxuXHR2YXIgaW5wdXR3cmFwcGVyID0gd3JhcHBlci5hcHBlbmQoXCJkaXZcIikuY2xhc3NlZChcImlucHV0LXdyYXBwZXJcIiwgdHJ1ZSk7XHJcblxyXG5cdGRhdGEua2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuXHRcdGNyZWF0ZUNoZWNrYm94KGlucHV0d3JhcHBlciwga2V5LCBcIm92ZXJsYXBwaW5nXCIsIHBvaSwgY2hhcnRzLCBkYXRhLCB2YWx1ZWxpbmUsIHN2ZywgYXZlcmFnZXMpO1xyXG5cdH0pO1xyXG5cclxuXHRjcmVhdGVDaGVja2JveChpbnB1dHdyYXBwZXIsIFwiYmFzZWxpbmVcIiwgXCJvdmVybGFwcGluZ1wiLCBwb2ksIGNoYXJ0cywgZGF0YSwgdmFsdWVsaW5lLCBzdmcsIGF2ZXJhZ2VzKTtcclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBQT0xBUiBHUkFQSCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuZnVuY3Rpb24gZHJhd1VwRG93blBvbGFyV2l0aENoZWNrYm94ZXNBbmRUaHJlc2hvbGRzIChkYXRhLCBkaXYsIHBvaSkge1xyXG5cdHZhciB3aWR0aCA9IDQ5MCxcclxuXHRcdGhlaWdodCA9IDQ5MCxcclxuXHRcdHJhZGl1cyA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMiAtIDMwO1xyXG5cclxuXHR2YXIgYXZlcmFnZXMgPSBkYXRhW1wiYmFzZWxpbmVcIl07XHJcblx0dmFyIGNlbnRlciA9IGZpbmRQb2xhckNlbnRlcihkYXRhKTtcclxuXHR2YXIgdGhyZXNob2xkcyA9IGZpbmRQb2xhclRocmVzaG9sZHMoYXZlcmFnZXMsIGNlbnRlclsxXVswXSk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldHMgdXAgc2NhbGluZyBvZiBkYXRhLiBXZSBrbm93IHRoYXQgdGhlIG5kdmkgdmFsdWVzIGZhbGwgYmV0d2VlblxyXG5cdCAqIDAgJiAxMDAgc28gd2Ugc2V0IG91ciBkb21haW4gdG8gdGhhdC4gVGhlIHJhbmdlIGNvbnRyb2xzIHdoZXJlIHRoZVxyXG5cdCAqIHBvaW50cyB3aWxsIGxpZSBpbiBvdXIgZ3JhcGgsIHNvIHdlIHNldCB0aGVtIHRvIGJlIGJldHdlZW4gMCBhbmQgdGhlXHJcblx0ICogcmFkaXVzLlxyXG5cdCAqL1xyXG5cdHZhciByID0gZDMuc2NhbGVMaW5lYXIoKVxyXG5cdFx0LmRvbWFpbihbMCwgMTAwXSlcclxuXHRcdC5yYW5nZShbMCwgcmFkaXVzXSk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIGZ1bmN0aW9uIHdoaWNoIHdpbGwgZHJhdyBlYWNoIHBvaW50LiBUbyBjb21wdXRlIHRoZSBkaXN0YW5jZSBmcm9tIHRoZVxyXG5cdCAqIGNlbnRlciBlYWNoIHBvaW50IGlzIHdlIHBhc3MgdGhlIGRhdGFwb2ludCB0byB0aGUgZnVuY3Rpb24gZGVmaW5lZCBhYm92ZS5cclxuXHQgKiBUbyBkZXRlcm1pbmUgdGhlIGFuZ2xlIGZyb20gdGhlIG9yaWdpbiB3ZSBuZWVkIHRvIGNvbnZlcnQgdGhlIGRheSB0b1xyXG5cdCAqIHJhZGlhbnMsIHNvIHdlIGNvbnZlcnQgdGhlIGRheSB0byBhIG51bWJlciBiZXR3ZWVuIDAgJiAxIGFuZCB0aGVuIG11bHRpcGx5XHJcblx0ICogaXQgYnkgMiBwaS5cclxuXHQgKi9cclxuXHR2YXIgbGluZSA9IGQzLnJhZGlhbExpbmUoKVxyXG5cdFx0LnJhZGl1cyhmdW5jdGlvbihkKSB7IHJldHVybiBBcnJheS5pc0FycmF5KGQpID8gcihkWzFdKSA6IHIoZCk7IH0pXHJcblx0XHQuYW5nbGUoZnVuY3Rpb24oZCwgaSkge1xyXG5cdFx0XHR2YXIgZGF5ID0gQXJyYXkuaXNBcnJheShkKSA/IHBhcnNlSnVsaWFuRGF5KGRbMF0pIDogKGkgKiA4KSArIDM7XHJcblx0XHRcdHJldHVybiAoKCgoZGF5IC0gMSklMzY1KS8zNjUpICogKDIqTWF0aC5QSSkpO1xyXG5cdFx0fSk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldHMgdXAgdGhlIGNhbnZhcyB3aGVyZSB0aGUgY2lyY2xlIHdpbGwgYmUgZHJhd24uXHJcblx0ICovXHJcblx0dmFyIHdyYXBwZXIgPSBkMy5zZWxlY3QoZGl2KS5hcHBlbmQoXCJkaXZcIikuY2xhc3NlZChcInBvbGFyLWdyYXBoXCIsIHRydWUpO1xyXG5cdHZhciBzdmcgPSB3cmFwcGVyLmFwcGVuZChcInN2Z1wiKVxyXG5cdFx0Ly8uYXR0cihcIndpZHRoXCIsIHdpZHRoKVxyXG5cdFx0Ly8uYXR0cihcImhlaWdodFwiLCBoZWlnaHQpXHJcblx0XHQuYXR0cigndmlld0JveCcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0cmV0dXJuICcwIDAgJysgd2lkdGggKyAnICcgKyBoZWlnaHRcclxuXHRcdH0pXHJcblx0XHQuYXR0cigncHJlc2VydmVBc3BlY3RSYXRpbycsICd4TWlkWU1pZCcpXHJcblx0XHQuYXBwZW5kKFwiZ1wiKVxyXG5cdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB3aWR0aCAvIDIgKyBcIixcIiArIGhlaWdodCAvIDIgKyBcIilcIik7XHJcblxyXG5cdHN2Zy5jYWxsKHRpcCk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoaXMgYmxvY2sgb2YgY29kZSBkcmF3cyB0aGUgYmlnIGNpcmNsZXMgb2YgdGhlIGdyYXBoICYgdGhlaXIgbGFiZWxzXHJcblx0ICovXHJcblx0dmFyIGdyID0gc3ZnLmFwcGVuZChcImdcIilcclxuXHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJyIGF4aXNcIilcclxuXHRcdC5zZWxlY3RBbGwoXCJnXCIpXHJcblx0XHQuZGF0YShyLnRpY2tzKDUpLnNsaWNlKDEpKVxyXG5cdFx0LmVudGVyKCkuYXBwZW5kKFwiZ1wiKTtcclxuXHJcblx0Z3IuYXBwZW5kKFwiY2lyY2xlXCIpXHJcblx0XHQuYXR0cihcInJcIiwgcik7XHJcblxyXG5cdGdyLmFwcGVuZChcInRleHRcIilcclxuXHRcdC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiAtcihkKSAtIDQ7IH0pXHJcblx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSgxNSlcIilcclxuXHRcdC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcblx0XHQudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9KTtcclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBibG9jayBvZiBjb2RlIGRyYXdzIHRoZSBsYWJlbHMgZm9yIGVhY2ggbW9udGggYW5kIHRoZSBsaW5lc1xyXG5cdCAqIHRoYXQgZ28gb3V0IHRvIHRoZW0uXHJcblx0ICovXHJcblx0dmFyIGdhX2EgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG5cdFx0LmF0dHIoXCJjbGFzc1wiLCBcImEgYXhpc1wiKVxyXG5cdFx0LnNlbGVjdEFsbChcImdcIilcclxuXHRcdC5kYXRhKGQzLnJhbmdlKDAsIDM2MCwgMzApKVxyXG5cdFx0LmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG5cdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBcInJvdGF0ZShcIiArIChkIC0gOTApICsgXCIpXCI7IH0pO1xyXG5cclxuXHRnYV9hLmFwcGVuZChcImxpbmVcIilcclxuXHRcdC5hdHRyKFwieDJcIiwgcmFkaXVzKTtcclxuXHJcblx0Z2FfYS5hcHBlbmQoXCJ0ZXh0XCIpXHJcblx0XHQuYXR0cihcInhcIiwgcmFkaXVzICsgNilcclxuXHRcdC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxyXG5cdFx0LnN0eWxlKFwidGV4dC1hbmNob3JcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZCA8IDM2MCAmJiBkID4gMTgwID8gXCJlbmRcIiA6IG51bGw7IH0pXHJcblx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBkIDwgMzYwICYmIGQgPiAxODAgPyBcInJvdGF0ZSgxODAgXCIgKyAocmFkaXVzICsgNikgKyBcIiwwKVwiIDogbnVsbDsgfSlcclxuXHRcdC50ZXh0KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIE1PTlRIX0xBQkVMU1tkLzMwXTsgfSk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIERyYXdzIHRoZSB0aHJlc2hvbGQgbGluZXNcclxuXHQgKi9cclxuXHR2YXIgdGhyZXNob2xkRWxlbSA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcblx0XHQuc2VsZWN0QWxsKFwiZ1wiKVxyXG5cdFx0LmRhdGEodGhyZXNob2xkcylcclxuXHRcdC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuXHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJyb3RhdGUoXCIgKyAoZC5kYXRhWzFdWzBdIC0gOTApICsgXCIpXCI7IH0pO1xyXG5cclxuXHR0aHJlc2hvbGRFbGVtLmFwcGVuZChcImxpbmVcIilcclxuXHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lXCIpXHJcblx0XHQuYXR0cihcIngyXCIsIHJhZGl1cyk7XHJcblxyXG5cdHRocmVzaG9sZEVsZW0uYXBwZW5kKFwidGV4dFwiKVxyXG5cdFx0LmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkKSB7IHZhciBkYXkgPSBkLmRhdGFbMV1bMF07IHJldHVybiBkYXkgPCAzNjAgJiYgZGF5ID4gMTgwID8gcmFkaXVzICsgMzAgOiByYWRpdXMgLSAzMH0pXHJcblx0XHQuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuICgoKChkLmRhdGFbMV1bMF0pJTM2NSkvMzY1KSAqICgyKk1hdGguUEkpKSArIDY7IH0pXHJcblx0XHQuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcclxuXHRcdC5zdHlsZShcInRleHQtYW5jaG9yXCIsIGZ1bmN0aW9uKGQpIHsgdmFyIGRheSA9IGQuZGF0YVsxXVswXTsgcmV0dXJuIGRheSA8IDM2MCAmJiBkYXkgPiAxODAgPyBcIm1pZGRsZVwiIDogbnVsbDsgfSlcclxuXHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgdmFyIGRheSA9IGQuZGF0YVsxXVswXTsgcmV0dXJuIGRheSA8IDM2MCAmJiBkYXkgPiAxODAgPyBcInJvdGF0ZSgxODAgXCIgKyAocmFkaXVzICsgNikgKyBcIiwwKVwiIDogbnVsbDsgfSlcclxuXHRcdC50ZXh0KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQubGFiZWw7IH0pO1xyXG5cclxuXHR0aHJlc2hvbGRFbGVtLnN0eWxlKFwib3BhY2l0eVwiLCAocG9pLnBsb3RzLmluZGV4T2YoXCJ0aHJlc2hvbGRzXCIpICE9PSAtMSkgPyAxIDogMCk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIERyYXdzIHRoZSBsaW5lIHRvIHRoZSBjZW50ZXIgb2YgdGhlIGRhdGFcclxuXHQgKi9cclxuXHR2YXIgY2VudGVyRGF5ID0gY2VudGVyWzFdWzBdO1xyXG5cdHZhciBjZW50ZXJEYXlPcHBvc2l0ZSA9IChjZW50ZXJEYXkgKyAoMzY1LzIpKSAlIDM2NTtcclxuXHR2YXIgY2VudGVyRGF5RGF0YSA9IFtjZW50ZXJEYXksIDEwMF07XHJcblx0dmFyIGNlbnRlckRheU9wcG9zaXRlRGF0YSA9IFtjZW50ZXJEYXlPcHBvc2l0ZSwgMTAwXTtcclxuXHR2YXIgZ3Jvd2luZ1NlYXNvbkRhdGEgPSBbY2VudGVyRGF5RGF0YSwgY2VudGVyRGF5T3Bwb3NpdGVEYXRhXVxyXG5cclxuXHRkcmF3UG9sYXJQYXRoKGdyb3dpbmdTZWFzb25EYXRhLCBsaW5lLCBzdmcpXHJcblx0XHQuY2xhc3NlZChcImdyb3dpbmctc2Vhc29uLWxpbmVcIiwgXCJ0cnVlXCIpO1xyXG5cclxuXHRkcmF3UG9sYXJQYXRoKGNlbnRlciwgbGluZSwgc3ZnKVxyXG5cdFx0LmNsYXNzZWQoXCJjZW50ZXItbGluZVwiLCBcInRydWVcIik7XHJcblxyXG5cdHN2Zy5zZWxlY3RBbGwoXCJwb2ludFwiKVxyXG5cdFx0LmRhdGEoW2NlbnRlclsxXV0pXHJcblx0XHQuZW50ZXIoKVxyXG5cdFx0LmFwcGVuZChcImNpcmNsZVwiKVxyXG5cdFx0LmF0dHIoXCJjbGFzc1wiLCBcImNlbnRlclwiKVxyXG5cdFx0LmF0dHIoXCJyXCIsIDQpXHJcblx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XHJcblx0XHRcdHZhciBjb29ycyA9IGxpbmUoW2RdKS5zbGljZSgxKS5zbGljZSgwLCAtMSk7XHJcblx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGNvb3JzICsgXCIpXCJcclxuXHRcdH0pXHJcblx0XHQuYXR0cihcInN0cm9rZVwiLCBcIiMwMDBcIilcclxuXHRcdC5hdHRyKFwiZmlsbFwiLCBcIiNlYTBjNDhcIilcclxuXHRcdC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbihkKSB7XHJcblx0XHRcdHRpcC5zaG93KFwiQ2VudGVyOiBcIiAgKyBTdHJpbmcoZFsxXSkuc3Vic3RyaW5nKDAsIDcpKTtcclxuXHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoXCJyXCIsIDUpXHJcblx0XHR9KVxyXG5cdFx0Lm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuXHRcdFx0dGlwLmhpZGUoKTtcclxuXHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoXCJyXCIsIDQpXHJcblx0XHR9KTtcclxuXHJcblx0dmFyIGNoYXJ0cyA9IHt9O1xyXG5cclxuXHQvKipcclxuXHQgKiBUaGlzIGJsb2NrIG9mIGNvZGUgZHJhd3MgdGhlIGxpbmUgdGhhdCB0aGUgZGF0YSBmb2xsb3dzXHJcblx0ICovXHJcblx0dmFyIHBsb3QsIGksIGw7XHJcblx0Zm9yIChpID0gMCwgbCA9IHBvaS5wbG90cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuXHRcdHBsb3QgPSBwb2kucGxvdHNbaV07XHJcblx0XHRpZiAocGxvdCA9PT0gXCJ0aHJlc2hvbGRzXCIpIGNvbnRpbnVlO1xyXG5cdFx0Y2hhcnRzW3Bsb3RdID0ge1xyXG5cdFx0XHRcInBhdGhcIiA6IGRyYXdQb2xhclBhdGgoZGF0YVtwbG90XSwgbGluZSwgc3ZnKVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBibG9jayBvZiBjb2RlIGRyYXdzIHRoZSBwb2ludCBhdCBlYWNoIGRhdGEgcG9pbnRcclxuXHQgKi9cclxuXHRmb3IgKGkgPSAwLCBsID0gcG9pLnBsb3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0cGxvdCA9IHBvaS5wbG90c1tpXTtcclxuXHRcdGlmIChwbG90ID09PSBcInRocmVzaG9sZHNcIikgY29udGludWU7XHJcblx0XHRjaGFydHNbcGxvdF0ucG9pbnRzID0gZHJhd0xpbmVhclBvaW50cyhkYXRhW3Bsb3RdLCBsaW5lLCBzdmcpO1xyXG5cdH1cclxuXHJcblx0dmFyIGlucHV0d3JhcHBlciA9IHdyYXBwZXIuYXBwZW5kKFwiZGl2XCIpLmNsYXNzZWQoXCJpbnB1dC13cmFwcGVyXCIsIHRydWUpO1xyXG5cclxuXHRkYXRhLmtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcblx0XHRjcmVhdGVDaGVja2JveChpbnB1dHdyYXBwZXIsIGtleSwgXCJwb2xhclwiLCBwb2ksIGNoYXJ0cywgZGF0YSwgbGluZSwgc3ZnLCBhdmVyYWdlcyk7XHJcblx0fSk7XHJcblxyXG5cdGNyZWF0ZUNoZWNrYm94KGlucHV0d3JhcHBlciwgXCJiYXNlbGluZVwiLCBcInBvbGFyXCIsIHBvaSwgY2hhcnRzLCBkYXRhLCBsaW5lLCBzdmcsIGF2ZXJhZ2VzKTtcclxuXHJcblx0dmFyIHRocmVzaG9sZENoZWNrYm94PSBpbnB1dHdyYXBwZXIuYXBwZW5kKFwiZGl2XCIpXHJcblx0XHQuY2xhc3NlZChcInRocmVzaG9sZC1jaGVja2JveFwiLCB0cnVlKTtcclxuXHJcblx0dGhyZXNob2xkQ2hlY2tib3guYXBwZW5kKFwiaW5wdXRcIilcclxuXHRcdC5hdHRyKFwidHlwZVwiLCBcImNoZWNrYm94XCIpXHJcblx0XHQuYXR0cihcImlkXCIsIFwidGhyZXNob2xkLWNoZWNrYm94LVwiICsgcG9pLmxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBwb2kubG5nLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikpXHJcblx0XHQucHJvcGVydHkoXCJjaGVja2VkXCIsIHBvaS5wbG90cy5pbmRleE9mKFwidGhyZXNob2xkc1wiKSAhPT0gLTEpXHJcblx0XHQub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dGhyZXNob2xkRWxlbS5zdHlsZShcIm9wYWNpdHlcIiwgKHRoaXMuY2hlY2tlZCkgPyAxIDogMCk7XHJcblx0XHRcdHZhciBvZmZvbiA9IHRoaXMuY2hlY2tlZCA/ICdvZmYnIDogJ29uJztcclxuXHJcblx0XHRcdGlmICh0aGlzLmNoZWNrZWQpIHtcclxuXHRcdFx0XHRhZGRLZXlUb1BPSShwb2ksIFwidGhyZXNob2xkc1wiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZW1vdmVLZXlGcm9tUE9JKHBvaSwgXCJ0aHJlc2hvbGRzXCIpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR1cGRhdGVTaGFyZVVybCgpO1xyXG5cdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBncmFwaCB0aHJlc2hvbGQgY2xpY2sgb2ZmXHJcblx0XHRcdGRpc3BhdGNoR3JhcGhDaGVja2JveENsaWNrKCd0aHJlc2hvbGQgcG9sYXIgdGltZXNlcmllcyAnICsgb2Zmb24pO1xyXG5cdFx0fSk7XHJcblxyXG5cdHRocmVzaG9sZENoZWNrYm94LmFwcGVuZChcImxhYmVsXCIpXHJcblx0XHQudGV4dChcIlRocmVzaG9sZHNcIilcclxuXHRcdC5hdHRyKFwiZm9yXCIsIFwidGhyZXNob2xkLWNoZWNrYm94LVwiICsgcG9pLmxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBwb2kubG5nLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xyXG59XHJcblxyXG4vKiBQT0xBUiBHUkFQSCBIRUxQRVJTICovXHJcblxyXG5mdW5jdGlvbiBmaW5kUG9sYXJDZW50ZXIgKGRhdGEpIHtcclxuXHR2YXIgaSwgaiwgbGVuZ3RoLCBhcnI7XHJcblx0dmFyIHRvdGFsU3VtID0gMDtcclxuXHR2YXIgaW5jb21wbGV0ZVllYXJzID0gMDtcclxuXHR2YXIgc3VtO1xyXG5cdGxlbmd0aCA9IDQ2O1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgZGF0YS5rZXlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRhcnIgPSBkYXRhW2RhdGEua2V5c1tpXV07XHJcblx0XHRpZiAoYXJyLmxlbmd0aCAhPT0gbGVuZ3RoKSB7XHJcblx0XHRcdGluY29tcGxldGVZZWFycysrO1xyXG5cdFx0XHRjb250aW51ZTtcclxuXHRcdH1cclxuXHRcdHN1bSA9IDA7XHJcblx0XHRmb3IgKGogPSAwOyBqIDwgbGVuZ3RoLzI7IGorKykge1xyXG5cdFx0XHRzdW0gKz0gKGFycltqXVsxXSAtIGFycltqKzIzXVsxXSk7XHJcblx0XHR9XHJcblx0XHRzdW0gPSBzdW0gLyAyMztcclxuXHRcdHRvdGFsU3VtICs9IHN1bTtcclxuXHR9XHJcblx0dG90YWxTdW0gPSBNYXRoLmFicyh0b3RhbFN1bSkgLyAoZGF0YS5rZXlzLmxlbmd0aCAtIGluY29tcGxldGVZZWFycyk7XHJcblxyXG5cdHZhciBhcmVhRGlmZiA9IDEwMDAwMDA7XHJcblx0dmFyIGNoZWNrRGlmZjtcclxuXHR2YXIgYXJlYUluZGV4ID0gMDtcclxuXHR2YXIgbGVmdEFyZWEsIHJpZ2h0QXJlYTtcclxuXHR2YXIgYXZncyA9IGRhdGEuYmFzZWxpbmU7XHJcblx0dmFyIGssIGNvdW50ZXI7XHJcblxyXG5cdGZvciAoaSA9IDA7IGkgPCBsZW5ndGgvMjsgaSsrKSB7XHJcblx0XHRsZWZ0QXJlYSA9IDA7XHJcblx0XHRyaWdodEFyZWEgPSAwO1xyXG5cdFx0Zm9yIChjb3VudGVyID0gMDsgY291bnRlciA8IGxlbmd0aC8yOyBjb3VudGVyKyspIHtcclxuXHRcdFx0aiA9IChpICsgY291bnRlcikgJSA0NjtcclxuXHRcdFx0ayA9IChqICsgMjMpICUgNDY7XHJcblxyXG5cdFx0XHRsZWZ0QXJlYSArPSBwYXJzZUludChhdmdzW2pdLCAxMCk7XHJcblx0XHRcdHJpZ2h0QXJlYSArPSBwYXJzZUludChhdmdzW2tdLDEwKTtcclxuXHRcdH1cclxuXHRcdGNoZWNrRGlmZiA9IE1hdGguYWJzKGxlZnRBcmVhIC0gcmlnaHRBcmVhKTtcclxuXHRcdGlmIChjaGVja0RpZmYgPCBhcmVhRGlmZikge1xyXG5cdFx0XHRhcmVhRGlmZiA9IGNoZWNrRGlmZjtcclxuXHRcdFx0YXJlYUluZGV4ID0gaTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBmaXJzdFJhZGl1cyA9IHBhcnNlSW50KGF2Z3NbYXJlYUluZGV4XSwgMTApO1xyXG5cdHZhciBzZWNvbmRSYWRpdXMgPSBwYXJzZUludCgtYXZnc1thcmVhSW5kZXggKyAyM10sIDEwKTtcclxuXHJcblx0dmFyIG1pZHBvaW50ID0gKGZpcnN0UmFkaXVzICsgc2Vjb25kUmFkaXVzKSAvIDI7XHJcblx0dmFyIGZpcnN0RGlmZiA9IE1hdGguYWJzKHRvdGFsU3VtIC0gbWlkcG9pbnQpO1xyXG5cdHZhciBzZWNvbmREaWZmID0gTWF0aC5hYnMoLXRvdGFsU3VtIC0gbWlkcG9pbnQpO1xyXG5cdGlmIChzZWNvbmREaWZmIDwgZmlyc3REaWZmKSB7XHJcblx0XHRhcmVhSW5kZXggPSBhcmVhSW5kZXggKyAyMztcclxuXHR9XHJcblxyXG5cdHZhciBjaXJjbGVjZW50ZXIgPSBbMCwgMF07XHJcblx0dmFyIGRhdGFjZW50ZXIgPSBbKGFyZWFJbmRleCAqIDgpICsgMywgdG90YWxTdW1dO1xyXG5cclxuXHRyZXR1cm4oW2NpcmNsZWNlbnRlciwgZGF0YWNlbnRlcl0pO1xyXG59XHJcblxyXG4vKipcclxuICogc3RhcnREYXkgaXMgYWN0dWFsbHkgdGhlIHNlYXNvbmFsaXR5IGluZGV4LCBpdCBzaG91bGQgYmUgZmxpcHBlZFxyXG4gKi9cclxuZnVuY3Rpb24gZmluZFBvbGFyVGhyZXNob2xkcyAoZGF0YSwgc3RhcnREYXkpIHtcclxuXHR2YXIgc3RhcnRJbmRleCA9IE1hdGguZmxvb3IoKHN0YXJ0RGF5IC0gMykgLyA4KTtcclxuXHRzdGFydEluZGV4ICs9IChzdGFydEluZGV4ID4gMjIpID8gKC0yMykgOiAyMztcclxuXHR2YXIgaSwgaiwgbGVuZ3RoLCBhcnI7XHJcblx0dmFyIHRvdGFsU3VtID0gMDtcclxuXHR2YXIgc3VtO1xyXG5cdGxlbmd0aCA9IDQ2O1xyXG5cclxuXHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdGogPSAoc3RhcnRJbmRleCArIGkpICUgbGVuZ3RoO1xyXG5cdFx0dG90YWxTdW0gKz0gcGFyc2VJbnQoZGF0YVtqXSwgMTApO1xyXG5cdH1cclxuXHJcblx0dmFyIGZpZnRlZW5UaHJlc2hvbGQgPSB0b3RhbFN1bSAqIC4xNTtcclxuXHR2YXIgZWlnaHR5VGhyZXNob2xkID0gdG90YWxTdW0gKiAuODA7XHJcblx0dmFyIGZpZnRlZW5JbmRleEZvdW5kID0gZmFsc2UsXHJcblx0XHRlaWdodHlJbmRleEZvdW5kID0gZmFsc2U7XHJcblx0dmFyIGZpZnRlZW5JbmRleCwgZWlnaHR5SW5kZXg7XHJcblxyXG5cdHRvdGFsU3VtID0gMDtcclxuXHRmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdGogPSAoc3RhcnRJbmRleCArIGkpICUgbGVuZ3RoO1xyXG5cdFx0dG90YWxTdW0gKz0gcGFyc2VJbnQoZGF0YVtqXSwgMTApO1xyXG5cdFx0aWYgKCFmaWZ0ZWVuSW5kZXhGb3VuZCAmJiB0b3RhbFN1bSA+IGZpZnRlZW5UaHJlc2hvbGQpIHtcclxuXHRcdFx0ZmlmdGVlbkluZGV4ID0gajtcclxuXHRcdFx0ZmlmdGVlbkluZGV4Rm91bmQgPSB0cnVlO1xyXG5cdFx0XHRjb250aW51ZTtcclxuXHRcdH1cclxuXHRcdGlmICghZWlnaHR5SW5kZXhGb3VuZCAmJiB0b3RhbFN1bSA+IGVpZ2h0eVRocmVzaG9sZCkge1xyXG5cdFx0XHRlaWdodHlJbmRleCA9IGo7XHJcblx0XHRcdGVpZ2h0eUluZGV4Rm91bmQgPSB0cnVlO1xyXG5cdFx0XHRjb250aW51ZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHZhciBjaXJjbGVDZW50ZXIgPSBbMCwgMF07XHJcblxyXG5cdHZhciBmaWZ0ZWVuRW5kID0gWyhmaWZ0ZWVuSW5kZXggKiA4KSArIDMsIDEwMF07XHJcblx0dmFyIGVpZ2h0eUVuZCA9IFsoZWlnaHR5SW5kZXggKiA4KSArIDMsIDEwMF07XHJcblxyXG5cdHJldHVybiBbXHJcblx0XHR7XHJcblx0XHRcdFwibGFiZWxcIiA6IFwiMTUlXCIsXHJcblx0XHRcdFwiZGF0YVwiIDogW2NpcmNsZUNlbnRlciwgZmlmdGVlbkVuZF1cclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdFwibGFiZWxcIiA6IFwiODAlXCIsXHJcblx0XHRcdFwiZGF0YVwiIDogW2NpcmNsZUNlbnRlciwgZWlnaHR5RW5kXVxyXG5cdFx0fVxyXG5cdF07XHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBHUkFQSCBIRUxQRVJTIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5mdW5jdGlvbiBkcmF3TGluZWFyUGF0aChkYXRhLCBsaW5lLCBzdmcpIHtcclxuXHRyZXR1cm4gc3ZnLmFwcGVuZChcInBhdGhcIilcclxuXHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lXCIpXHJcblx0XHQuYXR0cihcImRcIiwgbGluZShkYXRhKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdQb2xhclBhdGgoZGF0YSwgbGluZSwgc3ZnKSB7XHJcblx0cmV0dXJuIHN2Zy5hcHBlbmQoXCJwYXRoXCIpXHJcblx0XHQuZGF0dW0oZGF0YSlcclxuXHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lXCIpXHJcblx0XHQuYXR0cihcImRcIiwgbGluZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdMaW5lYXJQb2ludHMoZGF0YSwgbGluZSwgc3ZnKSB7XHJcblx0cmV0dXJuIHN2Zy5zZWxlY3RBbGwoXCJwb2ludFwiKVxyXG5cdFx0LmRhdGEoZGF0YSlcclxuXHRcdC5lbnRlcigpXHJcblx0XHQuYXBwZW5kKFwiY2lyY2xlXCIpXHJcblx0XHQuYXR0cihcInJcIiwgMilcclxuXHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJwb2ludFwiKVxyXG5cdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkge1xyXG5cdFx0XHR2YXIgcG9pbnQgPSBBcnJheS5pc0FycmF5KGQpID8gZCA6IFsoaSo4KSArIDMsIGRdO1xyXG5cdFx0XHR2YXIgY29vcnMgPSBsaW5lKFtwb2ludF0pLnNsaWNlKDEpLnNsaWNlKDAsIC0xKTtcclxuXHRcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgY29vcnMgKyBcIilcIlxyXG5cdFx0fSlcclxuXHRcdC8vLmF0dHIoXCJyXCIsIDMpXHJcblx0XHQuYXR0cihcInN0cm9rZVwiLCBcIiMwMDBcIilcclxuXHRcdC5hdHRyKFwiZmlsbFwiLGZ1bmN0aW9uKGQsaSl7XHJcblx0XHRcdHZhciB2YWwgPSBBcnJheS5pc0FycmF5KGQpID8gZFswXS5zdWJzdHJpbmcoMCwgNCkgOiAwO1xyXG5cdFx0XHRyZXR1cm4gcHVsbERpc3RpbmN0Q29sb3IodmFsKVxyXG5cdFx0fSlcclxuXHRcdC5vbihcIm1vdXNlb3ZlclwiLCBoYW5kbGVQb2ludE1vdXNlb3ZlcilcclxuXHRcdC5vbihcIm1vdXNlb3V0XCIsIGhhbmRsZVBvaW50TW91c2VvdXQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQb2ludE1vdXNlb3ZlcihkKSB7XHJcblx0dmFyIHRpcFN0cmluZyA9IEFycmF5LmlzQXJyYXkoZCkgPyBmb3JtYXREYXRlKGRbMF0pICsgXCI6IFwiICArIGRbMV0gOiBcIkF2ZXJhZ2U6IFwiICArIGQ7XHJcblx0dGlwLnNob3codGlwU3RyaW5nKTtcclxuXHR0aGlzLnNldEF0dHJpYnV0ZShcInJcIiwgXCI0XCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQb2ludE1vdXNlb3V0KGQpIHtcclxuXHR0aXAuaGlkZSgpO1xyXG5cdHRoaXMuc2V0QXR0cmlidXRlKFwiclwiLCBcIjJcIik7XHJcblxyXG5cdHZhciBhY3RpdmVUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImdyYXBoLXR5cGUtYnRuIGFjdGl2ZVwiKVswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpO1xyXG5cclxuXHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyB0b29sIHRpcCBvbiBncmFwaCBkbyB0aGlzIG9uIHRoZSBtb3VzZW91dCBzbyBtb3VzZW92ZXIgZG9zZSBub3QgZG8gYSBsb3Qgb2YgZXZlbnRzLi4uLlxyXG5cdC8vIHdlIG1pc3MgYSBmZXcgYnV0IHRoYXQgaXMgYmV0dGVyIHRoYW4gb3ZlciBjb3VudGluZy5cclxuXHRnYSgnc2VuZCcsICdldmVudCcsIHtcclxuXHQgIGV2ZW50Q2F0ZWdvcnk6ICdncmFwaCcsXHJcblx0ICBldmVudEFjdGlvbjogJ2hvdmVyJyxcclxuXHQgIGV2ZW50TGFiZWw6IGFjdGl2ZVR5cGUgKyAnIHRvb2wgdGlwJyxcclxuXHQgIG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDaGVja2JveCh3cmFwcGVyLCBrZXksIHR5cGUsIHBvaSwgY2hhcnRzLCBkYXRhLCBsaW5lLCBzdmcsIGF2ZXJhZ2VzKSB7XHJcblx0dmFyIGNoZWNrYm94V3JhcHBlciA9IHdyYXBwZXIuYXBwZW5kKFwiZGl2XCIpO1xyXG5cdHZhciBsYXQgPSBwb2kubGF0O1xyXG5cdHZhciBsbmcgPSBwb2kubG5nO1xyXG5cclxuXHRjaGVja2JveFdyYXBwZXIuYXBwZW5kKFwiaW5wdXRcIilcclxuXHRcdC5hdHRyKFwidHlwZVwiLCBcImNoZWNrYm94XCIpXHJcblx0XHQuYXR0cihcImlkXCIsIHR5cGUgKyBcIi1cIiArIGtleSArIGxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBsbmcudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSlcclxuXHRcdC5hdHRyKFwiZGF0YS1saW5rXCIsIGtleSArIGxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBsbmcudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSlcclxuXHRcdC5hdHRyKFwidmFsdWVcIiwga2V5KVxyXG5cdFx0LnByb3BlcnR5KFwiY2hlY2tlZFwiLCAocG9pLnBsb3RzLmluZGV4T2Yoa2V5KSAhPT0gLTEpID8gdHJ1ZSA6IGZhbHNlKVxyXG5cdFx0Lm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBuZXdZZWFyID0gdGhpcy52YWx1ZTtcclxuXHRcdFx0aWYgKCF0aGlzLmNoZWNrZWQpIHtcclxuXHRcdFx0XHRoYW5kbGVDaGVja2JveERpc2FibGUoY2hhcnRzLCBuZXdZZWFyKTtcclxuXHRcdFx0XHRyZW1vdmVLZXlGcm9tUE9JKHBvaSwga2V5KTtcclxuXHRcdFx0XHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBncmFwaCB5ZWFyIGNsaWNrIG9mZlxyXG5cdFx0XHRcdGRpc3BhdGNoR3JhcGhDaGVja2JveENsaWNrKG5ld1llYXIgKyAnICcgKyB0eXBlICsgJyB0aW1lc2VyaWVzIG9mZicpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGhhbmRsZUNoZWNrYm94RW5hYmxlKGNoYXJ0cywgbmV3WWVhciwgZGF0YSwgbGluZSwgc3ZnLCBhdmVyYWdlcyk7XHJcblx0XHRcdFx0YWRkS2V5VG9QT0kocG9pLCBrZXkpO1xyXG5cdFx0XHRcdC8vc2VuZCBnb29nbGUgYW5hbHl0aWNzIGdyYXBoIHllYXIgY2xpY2sgb25cclxuXHRcdFx0XHRkaXNwYXRjaEdyYXBoQ2hlY2tib3hDbGljayhuZXdZZWFyICsgJyAnICsgdHlwZSArICcgdGltZXNlcmllcyBvbicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGhhbmRsZUNoZWNrYm94U3luYyhrZXkgKyBsYXQudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSArIFwiLVwiICsgbG5nLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgXCJcIiksIHRoaXMuY2hlY2tlZCk7XHJcblx0XHRcdHVwZGF0ZVNoYXJlVXJsKCk7XHJcblx0XHR9KTtcclxuXHJcblx0Y2hlY2tib3hXcmFwcGVyLmFwcGVuZChcImxhYmVsXCIpXHJcblx0XHQudGV4dChrZXkgIT09IFwiYmFzZWxpbmVcIiA/IGtleSA6IFwiQmFzZWxpbmVcIilcclxuXHRcdC5hdHRyKFwiZm9yXCIsIHR5cGUgKyBcIi1cIiArIGtleSArIGxhdC50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIFwiXCIpICsgXCItXCIgKyBsbmcudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XHJcblxyXG5cdGNoZWNrYm94V3JhcHBlci5hcHBlbmQoXCJkaXZcIilcclxuXHRcdC5zdHlsZShcImJhY2tncm91bmRcIiwgcHVsbERpc3RpbmN0Q29sb3Ioa2V5ICE9PSBcImJhc2VsaW5lXCIgPyBrZXkgOiAwKSlcclxuXHRcdC5jbGFzc2VkKFwiZ3JhcGgtcGlwLWV4YW1wbGVcIiwgdHJ1ZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNoZWNrYm94RGlzYWJsZSAoY2hhcnRzLCBuZXdZZWFyKSB7XHJcblx0Y2hhcnRzW25ld1llYXJdLnBhdGgucmVtb3ZlKCk7XHJcblx0Y2hhcnRzW25ld1llYXJdLnBvaW50cy5yZW1vdmUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hFbmFibGUgKGNoYXJ0cywgbmV3WWVhciwgZGF0YSwgbGluZSwgc3ZnKSB7XHJcblx0aWYgKCFjaGFydHMuaGFzT3duUHJvcGVydHkobmV3WWVhcikpIHtcclxuXHRcdGNoYXJ0c1tuZXdZZWFyXSA9IHt9O1xyXG5cdH1cclxuXHRjaGFydHNbbmV3WWVhcl0ucGF0aCA9IGRyYXdMaW5lYXJQYXRoKGRhdGFbbmV3WWVhcl0sIGxpbmUsIHN2Zyk7XHJcblx0Y2hhcnRzW25ld1llYXJdLnBvaW50cyA9IGRyYXdMaW5lYXJQb2ludHMoZGF0YVtuZXdZZWFyXSwgbGluZSwgc3ZnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2hlY2tib3hTeW5jIChrZXksIGNoZWNrZWRTdGF0dXMsIHdyYXBwZXIpIHtcclxuXHRkMy5zZWxlY3RBbGwoXCJpbnB1dFtkYXRhLWxpbms9J1wiICsga2V5ICsgXCInXVwiKS5lYWNoKGZ1bmN0aW9uIChwLCBqKSB7XHJcblx0XHR2YXIgZWxlbSA9IGQzLnNlbGVjdCh0aGlzKTtcclxuXHRcdGlmIChlbGVtLnByb3BlcnR5KFwiY2hlY2tlZFwiKSAhPT0gY2hlY2tlZFN0YXR1cykge1xyXG5cdFx0XHRlbGVtLnByb3BlcnR5KFwiY2hlY2tlZFwiLCBjaGVja2VkU3RhdHVzKTtcclxuXHRcdFx0ZWxlbS5kaXNwYXRjaChcImNoYW5nZVwiKTtcclxuXHRcdH1cclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlS2V5RnJvbVBPSSAocG9pLCBrZXkpIHtcclxuXHR2YXIgaW5kZXggPSBwb2kucGxvdHMuaW5kZXhPZihrZXkpO1xyXG5cdGlmIChpbmRleCA9PT0gLTEpIHJldHVybjtcclxuXHRwb2kucGxvdHMuc3BsaWNlKGluZGV4LCAxKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkS2V5VG9QT0kgKHBvaSwga2V5KSB7XHJcblx0aWYgKHBvaS5wbG90cy5pbmRleE9mKGtleSkgIT09IC0xKSByZXR1cm47XHJcblx0cG9pLnBsb3RzLnB1c2goa2V5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGF0Y2hHcmFwaENoZWNrYm94Q2xpY2sgKGxhYmVsKSB7XHJcblx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRldmVudENhdGVnb3J5OiAnZ3JhcGgnLFxyXG5cdFx0ZXZlbnRBY3Rpb246ICdjbGljaycsXHJcblx0XHRldmVudExhYmVsOiAgbGFiZWwsXHJcblx0XHRub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHVsbERpc3RpbmN0Q29sb3IgKHllYXIpIHtcclxuXHR2YXIgY29sb3JSYW1wID0gW1xyXG5cdFx0XCIjZmZlNDc2XCIsXHJcblx0XHRcIiMwMzY1OTNcIixcclxuXHRcdFwiIzExNmM5MVwiLFxyXG5cdFx0XCIjMWU3MzkwXCIsXHJcblx0XHRcIiMyYzdiOGVcIixcclxuXHRcdFwiIzM5ODI4Y1wiLFxyXG5cdFx0XCIjNGM4YzhhXCIsXHJcblx0XHRcIiM1ZTk1ODlcIixcclxuXHRcdFwiIzcxOWY4N1wiLFxyXG5cdFx0XCIjODNhODg2XCIsXHJcblx0XHRcIiM5NWIxODNcIixcclxuXHRcdFwiI2E2YmE4MFwiLFxyXG5cdFx0XCIjYjhjMzdjXCIsXHJcblx0XHRcIiNjYWNjNzlcIixcclxuXHRcdFwiI2Q2ZDI3OVwiLFxyXG5cdFx0XCIjZTJkNzc5XCIsXHJcblx0XHRcIiNlZmRkNzhcIixcclxuXHRcdFwiI2ZiZTM3OFwiXHJcblx0XTtcclxuXHJcblx0cmV0dXJuICh5ZWFyID09PSAwKSA/IFwiI2ZmZlwiIDogY29sb3JSYW1wW3BhcnNlSW50KHllYXIsIDEwKSAlIGNvbG9yUmFtcC5sZW5ndGhdO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIERBVEUgSEVMUEVSUyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmZ1bmN0aW9uIHBhcnNlRGF0ZSAoZGF0ZSkge1xyXG5cdGRhdGUgPSBkYXRlLnRvU3RyaW5nKCk7XHJcblx0dmFyIHllYXIgPSBkYXRlLnN1YnN0cmluZygwLCA0KTtcclxuXHR2YXIgbW9udGggPSBwYXJzZUludChkYXRlLnN1YnN0cmluZyg0LCA2KSwgMTApIC0gMTtcclxuXHR2YXIgZGF5ID0gZGF0ZS5zdWJzdHJpbmcoNiwgOCk7XHJcblxyXG5cdHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFyc2VKdWxpYW5EYXkgKGRhdGUpIHtcclxuXHRpZiAodHlwZW9mKGRhdGUpID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRkYXRlID0gcGFyc2VEYXRlKGRhdGUpO1xyXG5cdFx0cmV0dXJuIGRhdGUuZ2V0RE9ZKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBkYXRlO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0RGF0ZSAoZGF0ZSkge1xyXG5cdGlmIChkYXRlID09PSBcIkF2ZXJhZ2VcIikgeyByZXR1cm4gZGF0ZTsgfVxyXG5cclxuXHRkYXRlID0gcGFyc2VEYXRlKGRhdGUpO1xyXG5cdHJldHVybiBmb3JtYXRNb250aChkYXRlLmdldE1vbnRoKCkpICsgXCIgXCIgKyBvcmRpbmFsX3N1ZmZpeF9vZihkYXRlLmdldERhdGUoKSkgKyBcIiwgXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdE1vbnRoIChtb250aCkge1xyXG5cdHJldHVybiBGT1JNQVRURURfTU9OVEhfTEFCRUxTW21vbnRoXTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3JkaW5hbF9zdWZmaXhfb2YoZGF5KSB7XHJcblx0dmFyIGogPSBkYXkgJSAxMCxcclxuXHRcdGsgPSBkYXkgJSAxMDA7XHJcblx0aWYgKGogPT09IDEgJiYgayAhPT0gMTEpIHtcclxuXHRcdHJldHVybiBkYXkgKyBcInN0XCI7XHJcblx0fVxyXG5cdGlmIChqID09PSAyICYmIGsgIT09IDEyKSB7XHJcblx0XHRyZXR1cm4gZGF5ICsgXCJuZFwiO1xyXG5cdH1cclxuXHRpZiAoaiA9PT0gMyAmJiBrICE9PSAxMykge1xyXG5cdFx0cmV0dXJuIGRheSArIFwicmRcIjtcclxuXHR9XHJcblx0cmV0dXJuIGRheSArIFwidGhcIjtcclxufVxyXG5cclxudmFyIE1PTlRIX0xBQkVMUyA9IHtcclxuXHQwOiBcIkphblwiLFxyXG5cdDE6IFwiRmViXCIsXHJcblx0MjogXCJNYXJcIixcclxuXHQzOiBcIkFwclwiLFxyXG5cdDQ6IFwiTWF5XCIsXHJcblx0NTogXCJKdW5cIixcclxuXHQ2OiBcIkp1bFwiLFxyXG5cdDc6IFwiQXVnXCIsXHJcblx0ODogXCJTZXBcIixcclxuXHQ5OiBcIk9jdFwiLFxyXG5cdDEwOiBcIk5vdlwiLFxyXG5cdDExOiBcIkRlY1wiXHJcbn07XHJcblxyXG52YXIgRk9STUFUVEVEX01PTlRIX0xBQkVMUyA9IHtcclxuXHQwOiBcIkphbi5cIixcclxuXHQxOiBcIkZlYi5cIixcclxuXHQyOiBcIk1hci5cIixcclxuXHQzOiBcIkFwci5cIixcclxuXHQ0OiBcIk1heVwiLFxyXG5cdDU6IFwiSnVuLlwiLFxyXG5cdDY6IFwiSnVsLlwiLFxyXG5cdDc6IFwiQXVnLlwiLFxyXG5cdDg6IFwiU2VwLlwiLFxyXG5cdDk6IFwiT2N0LlwiLFxyXG5cdDEwOiBcIk5vdi5cIixcclxuXHQxMTogXCJEZWMuXCJcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZ3JhcGguanMiLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlTWFya2VyIChsYXQsIGxuZykge1xyXG5cdHJldHVybiBMLm1hcmtlcihbbGF0LCBsbmddLCB7aWNvbjogZ3JhcGhJY29ufSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJY29uICh0eXBlKSB7XHJcblx0cmV0dXJuIHR5cGUgPT09ICdob3ZlcicgPyBob3Zlckljb24gOiBncmFwaEljb247XHJcbn1cclxuXHJcbnZhciBiYXNlSWNvbiA9IEwuSWNvbi5leHRlbmQoe30pO1xyXG5cclxudmFyIGdyYXBoSWNvbiA9IG5ldyBiYXNlSWNvbih7XHJcblx0aWNvblVybDogJ2ltZ3MvYmx1ZV9pY29uLnBuZycsXHJcblx0c2hhZG93VXJsOiAnaW1ncy9tYXJrZXJfc2hhZG93LnBuZycsXHJcblx0aWNvblNpemU6IFsyNSwgNDFdLFxyXG5cdGljb25BbmNob3I6IFsxMiwgNDFdLFxyXG5cdHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcclxuXHRzaGFkb3dTaXplOiBbNDEsIDQxXVxyXG59KTtcclxuXHJcbnZhciBob3Zlckljb24gPSBuZXcgYmFzZUljb24oe1xyXG5cdGljb25Vcmw6ICdpbWdzL29yYW5nZV9pY29uLnBuZycsXHJcblx0c2hhZG93VXJsOiAnaW1ncy9tYXJrZXJfc2hhZG93LnBuZycsXHJcblx0aWNvblNpemU6IFsyNSwgNDFdLFxyXG5cdGljb25BbmNob3I6IFsxMiwgNDFdLFxyXG5cdHBvcHVwQW5jaG9yOiBbMSwgLTM0XSxcclxuXHRzaGFkb3dTaXplOiBbNDEsIDQxXVxyXG59KTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbWFya2VyLmpzIiwiaW1wb3J0IHt1cGRhdGVQYW5lbERyYWdPdmVybGF5SGVpZ2h0fSBmcm9tIFwiLi9wYW5lbFwiO1xyXG5pbXBvcnQge3VwZGF0ZVNoYXJlVXJsfSBmcm9tIFwiLi9zaGFyZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEJpbmRUYWJFdmVudHMgKCkge1xyXG5cdGQzLnNlbGVjdEFsbChcIi5wYW5lbC10b3AtYnRuXCIpLm9uKFwiY2xpY2tcIiwgaGFuZGxlVGFiSGVhZGVyQnRuQ2xpY2spO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0QWN0aXZlVGFiICgpIHtcclxuXHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInBhbmVsLXRvcC1idG4gYWN0aXZlXCIpWzBdLmdldEF0dHJpYnV0ZShcImRhdGEtYWN0aXZlXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVUYWJIZWFkZXJCdG5DbGljayAoKSB7XHJcblx0Ly8gSWYgdGhlIHNlY3Rpb24gaXMgYWxyZWFkeSBhY3RpdmUsIGRvIG5vdGhpbmdcclxuXHRpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHJldHVybjtcclxuXHRcclxuXHQvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBjbGljayBvbiBncmFwaCB0eXBlXHJcblx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0ICBldmVudENhdGVnb3J5OiAndGFiJyxcclxuXHQgIGV2ZW50QWN0aW9uOiAnY2xpY2snLFxyXG5cdCAgZXZlbnRMYWJlbDogdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFjdGl2ZVwiKSxcclxuXHQgIG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdH0pO1xyXG5cclxuXHRIYW5kbGVUYWJDaGFuZ2UodGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFjdGl2ZVwiKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBIYW5kbGVUYWJDaGFuZ2UgKG5ld0NsYXNzKSB7XHJcblx0ZGlzYWJsZUFjdGl2ZVRhYigpO1xyXG5cdGVuYWJsZVRhYihuZXdDbGFzcyk7XHJcblx0dXBkYXRlU2hhcmVVcmwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW5hYmxlVGFiIChuZXdDbGFzcykge1xyXG5cdGQzLnNlbGVjdChcIi5wYW5lbC10b3AtYnRuW2RhdGEtYWN0aXZlPSdcIiArIG5ld0NsYXNzICsgXCInXVwiKS5jbGFzc2VkKFwiYWN0aXZlXCIsIHRydWUpO1xyXG5cclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcC13cmFwcGVyXCIpLmNsYXNzTGlzdC5hZGQobmV3Q2xhc3MpXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWdodC1wYW5lbFwiKS5jbGFzc0xpc3QuYWRkKG5ld0NsYXNzKVxyXG5cclxuXHRkMy5zZWxlY3QoXCIucGFuZWwtc2VjdGlvbi13cmFwcGVyW2RhdGEtYWN0aXZlPSdcIiArIG5ld0NsYXNzICsgXCInXVwiKS5jbGFzc2VkKFwiYWN0aXZlXCIsIHRydWUpO1xyXG5cclxuXHR0b2dnbGVNYXBQYWRkaW5nKCk7XHJcblx0cmVzZXRQYW5lbFdpZHRoKCk7XHJcblx0dXBkYXRlUGFuZWxEcmFnT3ZlcmxheUhlaWdodCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNhYmxlQWN0aXZlVGFiICgpIHtcclxuXHR2YXIgYWN0aXZlQ2xhc3MgPSBkMy5zZWxlY3QoXCIucGFuZWwtdG9wLWJ0bi5hY3RpdmVcIikuYXR0cihcImRhdGEtYWN0aXZlXCIpO1xyXG5cclxuXHRkMy5zZWxlY3RBbGwoJyNtYXAtd3JhcHBlciwgI3JpZ2h0LXBhbmVsJylcclxuXHRcdC5jbGFzc2VkKGFjdGl2ZUNsYXNzLCBmYWxzZSk7XHJcblxyXG5cdGQzLnNlbGVjdEFsbCgnLnBhbmVsLXRvcC1idG4uYWN0aXZlLCAucGFuZWwtc2VjdGlvbi13cmFwcGVyLmFjdGl2ZScpXHJcblx0XHQuY2xhc3NlZCgnYWN0aXZlJywgZmFsc2UpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVNYXBQYWRkaW5nICgpIHtcclxuXHR2YXIgcGFkZGluZ1JpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWdodC1wYW5lbFwiKS5vZmZzZXRXaWR0aDtcclxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcC13cmFwcGVyXCIpLnN0eWxlLnBhZGRpbmdSaWdodCA9IHBhZGRpbmdSaWdodCArIFwicHhcIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNpbmNlIHRoZSBwYW5lbCBoYXMgY2hpbGQgZWxlbWVudHMgd2l0aCBwb3NpdGlvbiBmaXhlZCBhbmQgd2lkdGggaW5oZXJpdFxyXG4gKiB3ZSBuZWVkIHRvIGNsZWFyIHRoZSBpbmxpbmUgd2lkdGggcHJvcGVydHkgaWYgYW5kIG9ubHkgaWYgdGhlIGlubGluZVxyXG4gKiB3aWR0aCBpcyBsZXNzIHRoYW4gdGhlIG1pbiB3aWR0aFxyXG4gKi9cclxuZnVuY3Rpb24gcmVzZXRQYW5lbFdpZHRoICgpIHtcclxuXHR2YXIgcGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJpZ2h0LXBhbmVsXCIpO1xyXG5cdHZhciB3aWR0aCA9IHBhbmVsLnN0eWxlLndpZHRoO1xyXG5cdGlmICghd2lkdGgpIHJldHVybjtcclxuXHJcblx0dmFyIHBhbmVsTWluV2lkdGggPSBkMy5zZWxlY3QocGFuZWwpLnN0eWxlKCdtaW4td2lkdGgnKS5zbGljZSgwLCAtMik7XHJcblx0aWYgKHBhcnNlSW50KHdpZHRoLnNsaWNlKDAsIC0yKSwgMTApID4gcGFyc2VJbnQocGFuZWxNaW5XaWR0aCwgMTApKSByZXR1cm47XHJcblxyXG5cdHBhbmVsLnN0eWxlLndpZHRoID0gXCJcIjtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy90YWJzLmpzIiwiaW1wb3J0IHt1cGRhdGVTaGFyZVVybH0gZnJvbSAnLi9zaGFyZSdcclxuaW1wb3J0IHt1cGRhdGVMYXllck9wYWNpdHl9IGZyb20gXCIuL2xheWVyXCI7XHJcblxyXG4vLyBzZXQgaXQgbWFudWFsbHkgZm9yIG5vd1xyXG5jb25zdCBPUEFDSVRZX1JBTkdFX01BWCA9IDkwXHJcblxyXG52YXIgb3BhY2l0eVNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxyXG5cdC5kb21haW4oWzEsIDBdKVxyXG5cdC5yYW5nZShbMCwgT1BBQ0lUWV9SQU5HRV9NQVhdKVxyXG5cdC5jbGFtcCh0cnVlKVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldE9wYWNpdHlTbGlkZXJQb3NpdGlvbiAobGF5ZXIsIHNsaWRlckhhbmRsZSwgb3BhY2l0eSkge1xyXG5cdG9wYWNpdHkgPSBvcGFjaXR5IHx8IGxheWVyLm9wYWNpdHlcclxuXHRzbGlkZXJIYW5kbGUuc3R5bGUudG9wID0gJycrb3BhY2l0eVNjYWxlKG9wYWNpdHkpKydweCdcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VPcGFjaXR5U2xpZGVyIChsYXllcikge1xyXG5cdHZhciBsYXllck9wYWNpdHkgPSBsYXllci5vcGFjaXR5ICE9PSB1bmRlZmluZWQgPyBsYXllci5vcGFjaXR5IDogMVxyXG5cdHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHR2YXIgc2xpZGVyVHJhY2tPdmVybGF5ID0gbWFrZVNsaWRlclRyYWNrKGxheWVyLCBsYXllck9wYWNpdHkpXHJcblx0dmFyIGljb25XcmFwcGVyQ2xvc2VkID0gbWFrZU9wYWNpdHlJY29uV3JhcHBlcignY2xvc2VkJywgbGF5ZXIsIHNsaWRlclRyYWNrT3ZlcmxheSlcclxuXHJcblx0d3JhcHBlci5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LXNsaWRlci13cmFwcGVyJylcclxuXHR3cmFwcGVyLmFwcGVuZENoaWxkKHNsaWRlclRyYWNrT3ZlcmxheSlcclxuXHR3cmFwcGVyLmFwcGVuZENoaWxkKGljb25XcmFwcGVyQ2xvc2VkKVxyXG5cdHJldHVybiB3cmFwcGVyXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VPcGFjaXR5SWNvbldyYXBwZXIoc3RhdGUsIGxheWVyLCBzbGlkZXJUcmFja092ZXJsYXkpIHtcclxuXHR2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcblx0dmFyIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG5cdHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS1pY29uLXdyYXBwZXInKVxyXG5cdGljb24uY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS1pY29uJylcclxuXHRpY29uLmNsYXNzTGlzdC5hZGQoc3RhdGUpXHJcblx0aWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWdzL29wYWNpdHktaWNvbi0nK3N0YXRlKyctNjR4NjQucG5nJylcclxuXHRpY29uLnNldEF0dHJpYnV0ZSgnYWx0JywgJ1VzZSB0aGlzIHNsaWRlciB0byBhZGp1c3QgdHJhbnNwYXJlbmN5IGZvciB0aGUgJyArIGxheWVyLm5hbWUgKyAnIGxheWVyJylcclxuXHRpY29uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnVXNlIHRoaXMgc2xpZGVyIHRvIGFkanVzdCB0cmFuc3BhcmVuY3kgZm9yIHRoZSAnICsgbGF5ZXIubmFtZSArICcgbGF5ZXInKVxyXG5cdHdyYXBwZXIuYXBwZW5kQ2hpbGQoaWNvbilcclxuXHR3cmFwcGVyLm9uY2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG5cdFx0dmFyIHNsaWRlckhhbmRsZSA9IHNsaWRlclRyYWNrT3ZlcmxheS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdvcGFjaXR5LXNsaWRlci1oYW5kbGUnKVswXVxyXG5cdFx0dXBkYXRlTGF5ZXJPcGFjaXR5KGxheWVyLCAwKVxyXG5cdFx0c2V0T3BhY2l0eVNsaWRlclBvc2l0aW9uKGxheWVyLCBzbGlkZXJIYW5kbGUsIDApXHJcblx0fVxyXG5cdHJldHVybiB3cmFwcGVyXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1ha2VTbGlkZXJUcmFjayhsYXllciwgbGF5ZXJPcGFjaXR5KSB7XHJcblxyXG5cdHZhciBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuXHR2YXIgdHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cdHZhciBzbGlkZXJIYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG5cclxuXHRvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktc2xpZGVyLXRyYWNrLW92ZXJsYXknKVxyXG5cdHRyYWNrLmNsYXNzTGlzdC5hZGQoJ29wYWNpdHktc2xpZGVyLXRyYWNrJylcclxuXHRzbGlkZXJIYW5kbGUuY2xhc3NMaXN0LmFkZCgnb3BhY2l0eS1zbGlkZXItaGFuZGxlJylcclxuXHJcblx0b3ZlcmxheS5hcHBlbmRDaGlsZCh0cmFjaylcclxuXHRvdmVybGF5LmFwcGVuZENoaWxkKHNsaWRlckhhbmRsZSlcclxuXHJcblx0aWYgKGxheWVyLmFjdGl2ZSkgc2V0T3BhY2l0eVNsaWRlclBvc2l0aW9uKGxheWVyLCBzbGlkZXJIYW5kbGUpXHJcblx0c2V0RHJhZ0V2ZW50TGlzdGVuZXIob3ZlcmxheSwgbGF5ZXIsIGxheWVyT3BhY2l0eSlcclxuXHJcblx0cmV0dXJuIG92ZXJsYXlcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0RHJhZ0V2ZW50TGlzdGVuZXIob3ZlcmxheSwgbGF5ZXIsIGxheWVyT3BhY2l0eSkge1xyXG5cdGQzLnNlbGVjdChvdmVybGF5KS5jYWxsKGQzLmRyYWcoKVxyXG5cdFx0Lm9uKCdzdGFydCBkcmFnJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR2YXIgc2xpZGVySGFuZGxlID0gb3ZlcmxheS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdvcGFjaXR5LXNsaWRlci1oYW5kbGUnKVswXVxyXG5cdFx0XHR2YXIgbmV3T3BhY2l0eSA9IGNhbGNPcGFjaXR5RnJvbU1vdXNlUG9zKG92ZXJsYXkpXHJcblx0XHRcdHVwZGF0ZUxheWVyT3BhY2l0eShsYXllciwgbmV3T3BhY2l0eSlcclxuXHRcdFx0c2V0T3BhY2l0eVNsaWRlclBvc2l0aW9uKGxheWVyLCBzbGlkZXJIYW5kbGUsIG5ld09wYWNpdHkpXHJcblx0XHR9KVxyXG5cdFx0Lm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0ICB2YXIgbmV3T3BhY2l0eSA9IGNhbGNPcGFjaXR5RnJvbU1vdXNlUG9zKG92ZXJsYXkpXHJcblxyXG5cdFx0ICAvL3NlbmQgZ29vZ2xlIGFuYWx5dGljcyBvcGFjaXR5IHNsaWRlciBjaGFuZ2VcclxuXHRcdCAgZ2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRcdGV2ZW50Q2F0ZWdvcnk6ICdvcGFjaXR5IHNsaWRlcicsXHJcblx0XHRcdGV2ZW50QWN0aW9uOiAnY2hhbmdlJyxcclxuXHRcdFx0ZXZlbnRMYWJlbDogJ3tcIicgKyBsYXllci5uYW1lICsgJ1wiOiBcIicgKyBuZXdPcGFjaXR5ICsgJ1wifScsXHJcblx0XHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdFx0ICB9KTtcclxuXHJcblx0XHRcdHVwZGF0ZVNoYXJlVXJsKClcclxuXHRcdH0pXHJcblx0KVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjT3BhY2l0eUZyb21Nb3VzZVBvcyhvdmVybGF5KSB7XHJcblx0dmFyIHlQb3MgPSBkMy5tb3VzZShvdmVybGF5KVsxXVxyXG5cdHZhciBuZXdPcGFjaXR5ID0gb3BhY2l0eVNjYWxlLmludmVydCh5UG9zKVxyXG5cdHJldHVybiBuZXdPcGFjaXR5XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvb3BhY2l0eVNsaWRlci5qcyIsIi8qXHJcbiAgXCJsb2dvXCI6IHtcclxuXHRcImltYWdlXCI6IFwiaW1ncy9sYW5kYXRfbG9nb19ibHVlLnBuZ1wiLFxyXG5cdFwiYWx0XCI6IFwiTG9nbyBmb3IgdGhlIExhbkRhdCBwcm9qZWN0XCIsXHJcblx0XCJsaW5rXCI6IFwiaHR0cHM6Ly9sYW5kYXQtZGV2Lm5lbWFjLm9yZ1wiLFxyXG5cdFwibG9jYXRpb25cIjogW1wiYm90dG9tXCIsIFwicmlnaHRcIl1cclxuICB9LFxyXG4qL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ3JlYXRlTG9nbyAobG9nb2RhdGEpIHtcclxuXHRpZiAoIWxvZ29kYXRhLmltYWdlKSByZXR1cm47XHJcblxyXG5cdHZhciBsb2dvV3JhcHBlciA9IGNyZWF0ZUxvZ29XcmFwcGVyKCk7XHJcblx0dmFyIGxvZ29JbWFnZSA9IGNyZWF0ZUxvZ29JbWFnZShsb2dvZGF0YSk7XHJcblx0dmFyIGxvZ29MaW5rID0gbG9nb2RhdGEubGluayA/IGNyZWF0ZUxvZ29MaW5rKGxvZ29kYXRhLmxpbmspIDogbnVsbDtcclxuXHJcblx0aWYgKGxvZ29MaW5rKSB7XHJcblx0XHRsb2dvTGluay5hcHBlbmRDaGlsZChsb2dvSW1hZ2UpO1xyXG5cdFx0bG9nb1dyYXBwZXIuYXBwZW5kQ2hpbGQobG9nb0xpbmspO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRsb2dvV3JhcHBlci5hcHBlbmRDaGlsZChsb2dvSW1hZ2UpO1xyXG5cdH1cclxuXHJcblx0dmFyIGluc2VydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGxvZ29kYXRhLmxvY2F0aW9uKVswXTtcclxuXHR2YXIgZXhpc3RpbmdDaGlsZCA9IGluc2VydEVsZW1lbnQuZmlyc3RDaGlsZDtcclxuXHRpbnNlcnRFbGVtZW50Lmluc2VydEJlZm9yZShsb2dvV3JhcHBlciwgZXhpc3RpbmdDaGlsZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxvZ29XcmFwcGVyICgpIHtcclxuXHR2YXIgbG9nb1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGQzLnNlbGVjdChsb2dvV3JhcHBlcikuY2xhc3NlZChcInByb2plY3QtbG9nb1wiLCB0cnVlKTtcclxuXHRyZXR1cm4gbG9nb1dyYXBwZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxvZ29JbWFnZSAobG9nb2RhdGEpIHtcclxuXHR2YXIgbG9nb0ltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRsb2dvSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIGxvZ29kYXRhLmltYWdlKTtcclxuXHRpZiAobG9nb2RhdGEubGFiZWwpIHtcclxuXHRcdGxvZ29JbWFnZS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgbG9nb2RhdGEubGFiZWwpO1xyXG5cdFx0bG9nb0ltYWdlLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIGxvZ29kYXRhLmxhYmVsKTtcclxuXHR9XHJcblx0cmV0dXJuIGxvZ29JbWFnZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTG9nb0xpbmsgKGxpbmspIHtcclxuXHR2YXIgbG9nb0xpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuXHRsb2dvTGluay5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGxpbmspO1xyXG5cdGxvZ29MaW5rLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcclxuXHJcblx0bG9nb0xpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdCAgLy9zZW5kIGdvb2dsZSBhbmFseXRpY3MgZm9yIGNsaWNraW5nIGxvZ29cclxuXHQgIGdhKCdzZW5kJywgJ2V2ZW50Jywge1xyXG5cdFx0ZXZlbnRDYXRlZ29yeTogJ21hcCcsXHJcblx0XHRldmVudEFjdGlvbjogJ2NsaWNrJyxcclxuXHRcdGV2ZW50TGFiZWw6ICdsYW5kYXQgbG9nbycsXHJcblx0XHRub25JbnRlcmFjdGlvbjogZmFsc2VcclxuXHQgIH0pO1xyXG5cdH0pO1xyXG5cclxuXHRyZXR1cm4gbG9nb0xpbms7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbG9nby5qcyIsImltcG9ydCB7Y2xlYXJNYXB9IGZyb20gJy4vbWFwJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQmluZE1vYmlsZU1lbnVFdmVudHMgKCkge1xyXG5cdGQzLnNlbGVjdChcIiNtb2JpbGUtdG9nZ2xlLXBhbmVsLWJ1dHRvblwiKVxyXG5cdFx0Lm9uKFwiY2xpY2tcIiwgaGFuZGxlTW9iaWxlVG9nZ2xlUGFuZWxCdG5DbGljaylcclxuXHRkMy5zZWxlY3RBbGwoXCIjbW9iaWxlLWNsZWFyLW1hcC1idXR0b25cIilcclxuXHRcdC5vbihcImNsaWNrXCIsIGhhbmRsZU1vYmlsZUNsZWFyTWFwQnRuQ2xpY2spXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU1vYmlsZUNsZWFyTWFwQnRuQ2xpY2soKSB7XHJcblx0ZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuXHRjbGVhck1hcCgpXHJcblx0ZGlzcGF0Y2hNb2JpbGVDbGVhck1hcEJ0bkNsaWNrQW5hbHl0aWNzKClcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTW9iaWxlVG9nZ2xlUGFuZWxCdG5DbGljayAoKSB7XHJcblx0ZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuXHR2YXIgd3JhcHBlciA9IGQzLnNlbGVjdChcIiN3cmFwcGVyXCIpO1xyXG5cdHZhciBzdGF0dXMgPSB3cmFwcGVyLmNsYXNzZWQoXCJtb2JpbGUtbWVudS1oaWRkZW5cIik7XHJcblx0d3JhcHBlci5jbGFzc2VkKFwibW9iaWxlLW1lbnUtaGlkZGVuXCIsICFzdGF0dXMpO1xyXG5cdGRpc3BhdGNoTW9iaWxlVG9nZ2xlUGFuZWxCdG5DbGlja0FuYWx5dGljcyghc3RhdHVzID8gXCJvcGVuaW5nXCIgOiBcImNsb3NpbmdcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc3BhdGNoTW9iaWxlQ2xlYXJNYXBCdG5DbGlja0FuYWx5dGljcyAoKSB7XHJcblx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRldmVudENhdGVnb3J5OiAnbW9iaWxlIGNsZWFybWFwJyxcclxuXHRcdGV2ZW50QWN0aW9uOiAnY2xpY2snLFxyXG5cdFx0ZXZlbnRMYWJlbDogJ01vYmlsZSBDbGVhciBNYXAnLFxyXG5cdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXHJcblx0fSlcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGF0Y2hNb2JpbGVUb2dnbGVQYW5lbEJ0bkNsaWNrQW5hbHl0aWNzIChzdGF0dXMpIHtcclxuXHRnYSgnc2VuZCcsICdldmVudCcsIHtcclxuXHRcdGV2ZW50Q2F0ZWdvcnk6ICdtb2JpbGUgbWVudScsXHJcblx0XHRldmVudEFjdGlvbjogJ2NsaWNrJyxcclxuXHRcdGV2ZW50TGFiZWw6ICdNb2JpbGUgUGFuZWwgVG9nZ2xlJyArIHN0YXR1cyxcclxuXHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21vYmlsZS5qcyIsImltcG9ydCB7R2V0TWFwLCBjbGVhck1hcH0gZnJvbSBcIi4vbWFwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCaW5kRGVza3RvcE1lbnVFdmVudHMgKCkge1xyXG5cdGQzLnNlbGVjdChcIiN0b2dnbGUtcGFuZWwtYnV0dG9uXCIpXHJcblx0XHQub24oXCJjbGlja1wiLCBoYW5kbGVEZXNrdG9wVG9nZ2xlUGFuZWxCdG5DbGljaylcclxuXHRkMy5zZWxlY3RBbGwoXCIjY2xlYXItbWFwLWJ1dHRvblwiKVxyXG5cdFx0Lm9uKFwiY2xpY2tcIiwgaGFuZGxlRGVza3RvcENsZWFyTWFwQnRuQ2xpY2spXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlc2t0b3BDbGVhck1hcEJ0bkNsaWNrKGUpIHtcclxuXHRkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG5cdGNsZWFyTWFwKClcclxuXHQvLyBRdWljayBhbmQgZGlydHkgc29sdXRpb24gLS0gY3JlYXRlcyBhIG5ldyBzZXNzaW9uIGZvciBnb29nbGUgYW5hbHl0aWNzP1xyXG5cdC8vdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMF1cclxuXHQvL3dpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsXHJcblx0ZGlzcGF0Y2hEZXNrdG9wQ2xlYXJNYXBCdG5DbGlja0FuYWx5dGljcygpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlc2t0b3BUb2dnbGVQYW5lbEJ0bkNsaWNrIChlKSB7XHJcblx0ZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuXHR2YXIgd3JhcHBlciA9IGQzLnNlbGVjdChcIiN3cmFwcGVyXCIpO1xyXG5cdHZhciBzdGF0dXMgPSB3cmFwcGVyLmNsYXNzZWQoXCJwYW5lbC1hY3RpdmVcIik7XHJcblx0d3JhcHBlci5jbGFzc2VkKFwicGFuZWwtYWN0aXZlXCIsICFzdGF0dXMpO1xyXG5cdHdyYXBwZXIuY2xhc3NlZChcInBhbmVsLWluYWN0aXZlXCIsIHN0YXR1cyk7XHJcblx0KEdldE1hcCgpKS5pbnZhbGlkYXRlU2l6ZSh7cGFuOiBmYWxzZX0pO1xyXG5cdGRpc3BhdGNoRGVza3RvcFRvZ2dsZVBhbmVsQnRuQ2xpY2tBbmFseXRpY3MoIXN0YXR1cyA/IFwiT3BlblwiIDogXCJDbG9zZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGF0Y2hEZXNrdG9wQ2xlYXJNYXBCdG5DbGlja0FuYWx5dGljcyAoKSB7XHJcblx0Z2EoJ3NlbmQnLCAnZXZlbnQnLCB7XHJcblx0XHRldmVudENhdGVnb3J5OiAnZGVza3RvcCcsXHJcblx0XHRldmVudEFjdGlvbjogJ2NsaWNrJyxcclxuXHRcdGV2ZW50TGFiZWw6ICdDbGVhciBNYXAgQnRuJyxcclxuXHRcdG5vbkludGVyYWN0aW9uOiBmYWxzZVxyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwYXRjaERlc2t0b3BUb2dnbGVQYW5lbEJ0bkNsaWNrQW5hbHl0aWNzIChzdGF0dXMpIHtcclxuXHRnYSgnc2VuZCcsICdldmVudCcsIHtcclxuXHRcdGV2ZW50Q2F0ZWdvcnk6ICdkZXNrdG9wJyxcclxuXHRcdGV2ZW50QWN0aW9uOiAnY2xpY2snLFxyXG5cdFx0ZXZlbnRMYWJlbDogJ1BhbmVsIFRvZ2dsZSAnICsgc3RhdHVzLFxyXG5cdFx0bm9uSW50ZXJhY3Rpb246IGZhbHNlXHJcblx0fSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvcGFuZWxUb2dnbGUuanMiXSwic291cmNlUm9vdCI6IiJ9