!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),i=n(3),c=r(i),s=n(22),u=r(s),l=n(23),f=r(l),p=n(24),d=n(25),h=r(d),v=n(26),m=n(27),y=(n(28),function(e){(0,a.default)(e,b),(0,p.SetupGraphs)(),(0,h.default)()}),b=function(e){(0,m.AddShareSettingsToConfig)(e);var t=(0,v.CreateMap)(e.map);(0,f.default)(t,e.baselayers),(0,u.default)(t,e.layers,e.layout),(0,c.default)(t),(0,p.BindGraphEvents)(t),(0,m.BindUpdateShareUrl)(t)};window.Base=y,t.default={Base:y}},function(e,t){"use strict";function n(e,t){r(e,t)}function r(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState){try{var e=JSON.parse(n.responseText)}catch(e){console.log("ERROR: Malformed JSON in config file."),console.log(e)}o(e),a(e),t(e)}},n.open("GET",e,!0),n.send(),console.log("hi")}function o(e){e.map||(e.map={})}function a(e){var t,n,r=e.layers,o=e.mapserverUrl;for(var a in r){if(!r.hasOwnProperty(a))return;for(t=r[a],n=0;n<t.length;n++)i(t[n],o)}}function i(e,t){e.url=e.url||t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){var t=new o.EsriProvider,n=new o.GeoSearchControl({provider:t,showMarker:!1});e.addControl(n),L.DomEvent.on(n.searchElement.elements.container,"click",function(e){L.DomEvent.stopPropagation(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5);Object.defineProperty(t,"GeoSearchControl",{enumerable:!0,get:function(){return r(o).default}});var a=n(13);Object.defineProperty(t,"SearchElement",{enumerable:!0,get:function(){return r(a).default}});var i=n(17);Object.defineProperty(t,"BingProvider",{enumerable:!0,get:function(){return r(i).default}});var c=n(19);Object.defineProperty(t,"EsriProvider",{enumerable:!0,get:function(){return r(c).default}});var s=n(20);Object.defineProperty(t,"GoogleProvider",{enumerable:!0,get:function(){return r(s).default}});var u=n(21);Object.defineProperty(t,"OpenStreetMapProvider",{enumerable:!0,get:function(){return r(u).default}});var l=n(18);Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return r(l).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){if(!L||!L.Control||!L.Control.extend)throw new Error("Leaflet must be loaded before instantiating the GeoSearch control");for(var e=L.Control.extend(m),t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return new(Function.prototype.bind.apply(e,[null].concat(n)))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=(r(a),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});t.default=o;var c=n(12),s=r(c),u=n(13),l=r(u),f=n(16),p=r(f),d=n(14),h=n(15),v=function(){return{position:"topleft",style:"button",showMarker:!0,showPopup:!1,marker:{icon:new L.Icon.Default,draggable:!1},maxMarkers:1,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250}},m={initialize:function(e){var t=this;this.markers=new L.FeatureGroup,this.options=i({},v(),e);var n=this.options,r=n.style,o=n.classNames,a=n.searchLabel,c=n.autoComplete,u=n.autoCompleteDelay;"button"!==r&&(this.options.classNames.container+=" "+e.style),this.searchElement=new l.default(i({},this.options,{handleSubmit:function(e){return t.onSubmit(e)}}));var f=this.searchElement.elements,h=f.container,m=f.form,y=f.input;h.addEventListener("dblclick",function(e){e.stopPropagation()});var b=(0,d.createElement)("a",o.button,h);b.title=a,b.href="#",b.addEventListener("click",function(e){t.onClick(e)},!1),c&&(this.resultList=new p.default({handleClick:function(e){var n=e.result;y.value=n.label,t.onSubmit({query:n.label})}}),m.appendChild(this.resultList.elements.container),y.addEventListener("keyup",(0,s.default)(function(e){return t.autoSearch(e)},u),!0),y.addEventListener("keydown",function(e){return t.selectResult(e)},!0),y.addEventListener("keydown",function(e){return t.clearResults(e)},!0)),this.elements={button:b}},onAdd:function(e){var t=this.options,n=t.showMarker,r=t.style;if(this.map=e,n&&this.markers.addTo(e),"bar"===r){var o=this.searchElement.elements.form,a=e.getContainer().querySelector(".leaflet-control-container"),i=(0,d.createElement)("div","leaflet-control-geosearch bar");i.appendChild(o),a.appendChild(i),this.elements.container=i}return this.searchElement.elements.container},onRemove:function(){var e=this.elements.container;return e&&e.remove(),this},onClick:function(e){e.preventDefault();var t=this.searchElement.elements,n=t.container,r=t.input;n.classList.contains("active")?(0,d.removeClassName)(n,"active"):((0,d.addClassName)(n,"active"),r.focus())},selectResult:function(e){if([h.ARROW_DOWN_KEY,h.ARROW_UP_KEY].includes(e.keyCode)){e.preventDefault();var t=this.searchElement.elements.input,n=this.resultList,r=this.resultList.count()-1,o="ArrowDown"===e.code?1+~~n.selected:~~n.selected-1,a=o<0?r:o>r?0:o,i=n.select(a);t.value=i.label}},clearResults:function(e){e.keyCode===h.ESCAPE_KEY&&this.resultList.clear()},autoSearch:function(e){return new Promise(function(t,n){var r,o,a;return h.SPECIAL_KEYS.includes(e.keyCode)?t():(r=e.target.value,o=this.options.provider,o.search({query:r}).then(function(e){return a=e,this.resultList.render(a),t()}.$asyncbind(this,n),n))}.$asyncbind(this))},onSubmit:function(e){return new Promise(function(t,n){var r,o;return r=this.options.provider,r.search(e).then(function(e){return o=e,o&&o.length>0&&this.showResult(o[0]),t()}.$asyncbind(this,n),n)}.$asyncbind(this))},showResult:function(e){var t=Object.keys(this.markers._layers);t.length>=this.options.maxMarkers&&this.markers.removeLayer(t[0]);var n=this.addMarker(e);this.centerMap(e),this.map.fireEvent("geosearch/showlocation",{location:e,marker:n})},addMarker:function(e){var t=this.options,n=t.marker,r=t.showPopup,o=new L.Marker([e.y,e.x],n);return o.bindPopup(e.label),this.markers.addLayer(o),r&&o.openPopup(),o},centerMap:function(e){var t=this.options,n=t.retainZoomLevel,r=t.animateZoom,o=new L.LatLngBounds(e.bounds),a=o.isValid()?o:this.markers.getBounds();!n&&o.isValid()?this.map.fitBounds(a,{animate:r}):this.map.setView(a.getCenter(),this.getZoom(),{animate:r})},getZoom:function(){var e=this.options,t=e.retainZoomLevel,n=e.zoomLevel;return t?this.map.getZoom():n}}},function(e,t,n){"use strict";function r(e,t){if(Function.prototype.$asyncspawn||Object.defineProperty(Function.prototype,"$asyncspawn",{value:r,enumerable:!1,configurable:!0,writable:!0}),this instanceof Function){var n=this;return new e(function(e,r){function o(t,n){var i;try{if(i=t.call(a,n),i.done){if(i.value!==e){if(i.value&&i.value===i.value.then)return i.value(e,r);e&&e(i.value),e=null}return}i.value.then?i.value.then(function(e){o(a.next,e)},function(e){o(a.throw,e)}):o(a.next,i.value)}catch(e){return r&&r(e),void(r=null)}}var a=n.call(t,e,r);o(a.next)})}}var o=function(e,t){for(var n=t.toString(),r="return "+n,o=n.match(/.*\(([^)]*)\)/)[1],a=/['"]!!!([^'"]*)['"]/g,i=[];;){var c=a.exec(r);if(!c)break;i.push(c)}return i.reverse().forEach(function(t){r=r.slice(0,t.index)+e[t[1]]+r.substr(t.index+t[0].length)}),r=r.replace(/\/\*[^*]*\*\//g," ").replace(/\s+/g," "),new Function(o,r)()}({zousan:n(7).toString(),thenable:n(11).toString()},function e(t,n){function r(){return o.apply(t,arguments)}Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:e,enumerable:!1,configurable:!0,writable:!0}),e.trampoline||(e.trampoline=function(e,t,n,r,o){return function a(i){for(;i;){if(i.then)return i=i.then(a,r),o?void 0:i;try{if(i.pop){if(i.length)return i.pop()?t.call(e):i;i=n}else i=i.call(e)}catch(e){return r(e)}}}}),e.LazyThenable||(e.LazyThenable="!!!thenable"(),e.EagerThenable=e.Thenable=(e.EagerThenableFactory="!!!zousan")());var o=this;switch(n){case!0:return new e.Thenable(r);case 0:return new e.LazyThenable(r);case void 0:return r.then=r,r;default:return function(){try{return o.apply(t,arguments)}catch(e){return n(e)}}}});o(),r(),e.exports={$asyncbind:o,$asyncspawn:r}},function(e,t,n){(function(t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){function o(e){if(e){var t=this;e(function(e){t.resolve(e)},function(e){t.reject(e)})}}function a(e,t){if("function"==typeof e.y)try{var n=e.y.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.resolve(t)}function i(e,t){if("function"==typeof e.n)try{var n=e.n.call(void 0,t);e.p.resolve(n)}catch(t){e.p.reject(t)}else e.p.reject(t)}e=e||"object"===(void 0===t?"undefined":r(t))&&t.nextTick||"function"==typeof n&&n||function(e){setTimeout(e,0)};var c=function(){function t(){for(;n.length-r;){try{n[r]()}catch(e){}n[r++]=void 0,r===o&&(n.splice(0,o),r=0)}}var n=[],r=0,o=1024;return function(o){n.push(o),n.length-r==1&&e(t)}}();return o.prototype={resolve:function(e){if(void 0===this.state){if(e===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var t=this;if(e&&("function"==typeof e||"object"===(void 0===e?"undefined":r(e))))try{var n=0,o=e.then;if("function"==typeof o)return void o.call(e,function(e){n++||t.resolve(e)},function(e){n++||t.reject(e)})}catch(e){return void(n||this.reject(e))}this.state=a,this.v=e,t.c&&c(function(){for(var n=0,r=t.c.length;n<r;n++)a(t.c[n],e)})}},reject:function(e){if(void 0===this.state){this.state=i,this.v=e;var t=this.c;t&&c(function(){for(var n=0,r=t.length;n<r;n++)i(t[n],e)})}},then:function(e,t){var n=new o,r={y:e,n:t,p:n};if(void 0===this.state)this.c?this.c.push(r):this.c=[r];else{var a=this.state,i=this.v;c(function(){a(r,i)})}return n}},o.resolve=function(e){if(e&&e instanceof o)return e;var t=new o;return t.resolve(e),t},o.reject=function(e){if(e&&e instanceof o)return e;var t=new o;return t.reject(e),t},o.version="2.3.3-nodent",o}}).call(t,n(8),n(9).setImmediate)},function(e,t){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function i(){v&&d&&(v=!1,d.length?h=d.concat(h):m=-1,h.length&&c())}function c(){if(!v){var e=o(i);v=!0;for(var t=h.length;t;){for(d=h,h=[];++m<t;)d&&d[m].run();m=-1,t=h.length}d=null,v=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var d,h=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||v||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(10),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){"use strict";!function(e,n){function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[s]=r,c(s),s++}function o(e){delete u[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function i(e){if(l)setTimeout(i,0,e);else{var t=u[e];if(t){l=!0;try{a(t)}finally{o(e),l=!1}}}}if(!e.setImmediate){var c,s=1,u={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){c=function(e){t.nextTick(function(){i(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),c=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},c=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;c=function(t){var n=f.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){c=function(e){setTimeout(i,0,e)}}(),p.setImmediate=r,p.clearImmediate=o}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,function(){return this}(),n(8))},function(e,t){"use strict";e.exports=function(){function e(e){return e&&e instanceof Object&&"function"==typeof e.then}function t(n,r,o){try{var a=o?o(r):r;if(n===a)return n.reject(new TypeError("Promise resolution loop"));e(a)?a.then(function(e){t(n,e)},function(e){n.reject(e)}):n.resolve(a)}catch(e){n.reject(e)}}function n(){}function r(e){}function o(e,t){this.resolve=e,this.reject=t}function a(r,o){var a=new n;try{this._resolver(function(n){return e(n)?n.then(r,o):t(a,n,r)},function(e){t(a,e,o)})}catch(e){t(a,e,o)}return a}function i(e){this._resolver=e,this.then=a}return n.prototype={resolve:r,reject:r,then:o},i.resolve=function(e){return i.isThenable(e)?e:{then:function(t){return t(e)}}},i.isThenable=e,i}},function(e,t){(function(t){"use strict";function n(e,t,n){function o(t){var n=v,r=m;return v=m=void 0,O=t,b=e.apply(r,n)}function a(e){return O=e,g=setTimeout(l,t),S?o(e):b}function c(e){var n=e-w,r=e-O,o=t-n;return E?_(o,y-r):o}function u(e){var n=e-w,r=e-O;return void 0===w||n>=t||n<0||E&&r>=y}function l(){var e=x();if(u(e))return f(e);g=setTimeout(l,c(e))}function f(e){return g=void 0,j&&v?o(e):(v=m=void 0,b)}function p(){void 0!==g&&clearTimeout(g),O=0,v=w=m=g=void 0}function d(){return void 0===g?b:f(x())}function h(){var e=x(),n=u(e);if(v=arguments,m=this,w=e,n){if(void 0===g)return a(w);if(E)return g=setTimeout(l,t),o(w)}return void 0===g&&(g=setTimeout(l,t)),b}var v,m,y,b,g,w,O=0,S=!1,E=!1,j=!0;if("function"!=typeof e)throw new TypeError(s);return t=i(t)||0,r(n)&&(S=!!n.leading,E="maxWait"in n,y=E?k(i(n.maxWait)||0,t):y,j="trailing"in n?!!n.trailing:j),h.cancel=p,h.flush=d,h}function r(e){var t=void 0===e?"undefined":c(e);return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==(void 0===e?"undefined":c(e))}function a(e){return"symbol"==(void 0===e?"undefined":c(e))||o(e)&&w.call(e)==l}function i(e){if("number"==typeof e)return e;if(a(e))return u;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=d.test(e);return n||h.test(e)?v(e.slice(2),n?2:8):p.test(e)?u:+e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="Expected a function",u=NaN,l="[object Symbol]",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,h=/^0o[0-7]+$/i,v=parseInt,m="object"==(void 0===t?"undefined":c(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":c(self))&&self&&self.Object===Object&&self,b=m||y||Function("return this")(),g=Object.prototype,w=g.toString,k=Math.max,_=Math.min,x=function(){return b.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=(function(e){e&&e.__esModule?e:{default:e}}(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),i=n(14),c=n(15),s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.handleSubmit,a=void 0===o?function(){}:o,c=n.searchLabel,s=void 0===c?"search":c,u=n.classNames,l=void 0===u?{}:u;r(this,e);var f=(0,i.createElement)("div",["geosearch",l.container].join(" ")),p=(0,i.createElement)("form",["",l.form].join(" "),f),d=(0,i.createElement)("input",["glass",l.input].join(" "),p);d.type="text",d.placeholder=s,d.addEventListener("input",function(e){t.onInput(e)},!1),d.addEventListener("keyup",function(e){t.onKeyUp(e)},!1),d.addEventListener("keypress",function(e){t.onKeyPress(e)},!1),d.addEventListener("focus",function(e){t.onFocus(e)},!1),d.addEventListener("blur",function(e){t.onBlur(e)},!1),this.elements={container:f,form:p,input:d},this.handleSubmit=a}return a(e,[{key:"onFocus",value:function(){(0,i.addClassName)(this.elements.form,"active")}},{key:"onBlur",value:function(){(0,i.removeClassName)(this.elements.form,"active")}},{key:"onSubmit",value:function(e){return new Promise(function(t,n){var r,o,a;return e.preventDefault(),e.stopPropagation(),r=this.elements,o=r.input,a=r.container,(0,i.removeClassName)(a,"error"),(0,i.addClassName)(a,"pending"),this.handleSubmit({query:o.value}).then(function(e){return(0,i.removeClassName)(a,"pending"),t()}.$asyncbind(this,n),n)}.$asyncbind(this))}},{key:"onInput",value:function(){var e=this.elements.container;this.hasError&&((0,i.removeClassName)(e,"error"),this.hasError=!1)}},{key:"onKeyUp",value:function(e){var t=this.elements,n=t.container,r=t.input;e.keyCode===c.ESCAPE_KEY&&((0,i.removeClassName)(n,"pending"),(0,i.removeClassName)(n,"active"),r.value="",document.body.focus(),document.body.blur())}},{key:"onKeyPress",value:function(e){e.keyCode===c.ENTER_KEY&&this.onSubmit(e)}},{key:"setQuery",value:function(e){this.elements.input.value=e}}]),e}();t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.createElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement(e);return r.className=t,n&&n.appendChild(r),r};t.createScriptElement=function(e,t){var r=n("script",null,document.body);return r.setAttribute("type","text/javascript"),new Promise(function(n){window[t]=function(e){r.remove(),delete window[t],n(e)},r.setAttribute("src",e)})},t.addClassName=function(e,t){e&&!e.classList.contains(t)&&e.classList.add(t)},t.removeClassName=function(e,t){e&&e.classList.contains(t)&&e.classList.remove(t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.ENTER_KEY=13,r=t.ESCAPE_KEY=27,o=t.ARROW_DOWN_KEY=40,a=t.ARROW_UP_KEY=38,i=t.ARROW_LEFT_KEY=37,c=t.ARROW_RIGHT_KEY=39;t.SPECIAL_KEYS=[n,r,o,a,i,c]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(14),i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ").trim()},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.handleClick,o=void 0===n?function(){}:n,c=t.classNames,u=void 0===c?{}:c;r(this,e),s.call(this),this.props={handleClick:o,classNames:u},this.selected=-1;var l=(0,a.createElement)("div",i("results",u.container)),f=(0,a.createElement)("div",i(u.item));l.addEventListener("click",this.onClick,!0),this.elements={container:l,resultItem:f}}return o(e,[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.elements,n=t.container,r=t.resultItem;this.clear(),e.forEach(function(e,t){var o=r.cloneNode(!0);o.setAttribute("data-key",t),o.innerHTML=e.label,n.appendChild(o)}),e.length>0&&(0,a.addClassName)(n,"active"),this.results=e}},{key:"select",value:function(e){var t=this.elements.container;return Array.from(t.children).forEach(function(t,n){return n===e?(0,a.addClassName)(t,"active"):(0,a.removeClassName)(t,"active")}),this.selected=e,this.results[e]}},{key:"count",value:function(){return this.results.length}},{key:"clear",value:function(){var e=this.elements.container;for(this.selected=-1;e.lastChild;)e.removeChild(e.lastChild);(0,a.removeClassName)(e,"active")}}]),e}(),s=function(){var e=this;this.onClick=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.target,r=e.props.handleClick,o=e.elements.container;if(n.parentNode===o&&n.hasAttribute("data-key")){var a=n.getAttribute("data-key");r({result:e.results[a]})}}};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),u=(r(s),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(18),p=r(f),d=n(14),h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=e.jsonp,o=this.options.params;return n+"//dev.virtualearth.net/REST/v1/Locations?"+this.getParamString(u({},o,{query:t,jsonp:r}))}},{key:"parse",value:function(e){var t=e.data;return 0===t.resourceSets.length?[]:t.resourceSets[0].resources.map(function(e){return{x:e.point.coordinates[1],y:e.point.coordinates[0],label:e.address.formattedAddress,bounds:[[e.bbox[0],e.bbox[1]],[e.bbox[2],e.bbox[3]]],raw:e}})}},{key:"search",value:function(e){return new Promise(function(t,n){var r,o,a,i,c;return r=e.query,o=~location.protocol.indexOf("http")?location.protocol:"https:",a="BING_JSONP_CB_"+Date.now(),i=this.endpoint({query:r,protocol:o,jsonp:a}),(0,d.createScriptElement)(i,a).then(function(e){return c=e,t(this.parse({data:c}))}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),t}(p.default);t.default=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=(function(e){e&&e.__esModule?e:{default:e}}(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e),this.options=t}return a(e,[{key:"getParamString",value:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}},{key:"search",value:function(e){return new Promise(function(t,n){var r,o,a,i,c;return r=e.query,o=~location.protocol.indexOf("http")?location.protocol:"https:",a=this.endpoint({query:r,protocol:o}),fetch(a).then(function(e){return i=e,i.json().then(function(e){return c=e,t(this.parse({data:c}))}.$asyncbind(this,n),n)}.$asyncbind(this,n),n)}.$asyncbind(this))}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(18),l=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params;return n+"//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find?"+this.getParamString(c({},r,{f:"json",text:t}))}},{key:"parse",value:function(e){return e.data.locations.map(function(e){return{x:e.feature.geometry.x,y:e.feature.geometry.y,label:e.name,bounds:[[e.extent.ymin,e.extent.xmin],[e.extent.ymax,e.extent.xmax]],raw:e}})}}]),t}(l.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(18),l=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params,o=this.getParamString(c({},r,{address:t}));return(r&&r.key?"https:":n)+"//maps.googleapis.com/maps/api/geocode/json?"+o}},{key:"parse",value:function(e){return e.data.results.map(function(e){return{x:e.geometry.location.lng,y:e.geometry.location.lat,label:e.formatted_address,bounds:[[e.geometry.viewport.southwest.lat,e.geometry.viewport.southwest.lng],[e.geometry.viewport.northeast.lat,e.geometry.viewport.northeast.lng]],raw:e}})}}]),t}(l.default);t.default=f},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":i(t))&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(18),l=function(e){return e&&e.__esModule?e:{default:e}}(u),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"endpoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.query,n=e.protocol,r=this.options.params;return n+"//nominatim.openstreetmap.org/search?"+this.getParamString(c({},r,{format:"json",q:t}))}},{key:"parse",value:function(e){return e.data.map(function(e){return{x:e.lon,y:e.lat,label:e.display_name,bounds:[[parseFloat(e.boundingbox[0]),parseFloat(e.boundingbox[2])],[parseFloat(e.boundingbox[1]),parseFloat(e.boundingbox[3])]],raw:e}})}}]),t}(l.default);t.default=f},function(e,t){"use strict";function n(e,t,n){r(d3.select(".layer-list").selectAll(".layer-group-wrapper").data(n["layer-groups-order"]).enter().append("div").attr("class","layer-group-wrapper").attr("id",function(e){return e.id}).classed("active",function(e){return e.active}).each(function(e){d3.select(this).append("div").attr("class","layer-group-btn btn").on("click",function(e){e.active=!e.active,d3.select(this.parentNode).classed("active",function(){return e.active})}).text(e.name)}).append("div").attr("class","layer-group"),e,t,n)}function r(e,t,n,r){e.selectAll(".layer-select").data(function(e){return n[e.id]}).enter().append("div").attr("class","layer-select").each(function(e){o.call(this,e,t,r)})}function o(e,t,n){var r=this.parentNode.parentNode.id,o=d3.select(this);e.active=u(e,r,n["active-layers"]),e.active&&c(t,e,o),o.append("input").attr("type","checkbox").attr("id",function(e){return e.id}).attr("checked",function(e){return e.active?"checked":null}).on("click",function(e){e.active=!e.active,c(t,e,o)}),o.append("label").attr("for",function(e){return e.id}).attr("class","layer-label").html(function(e){return e.name}),e.info&&""!==e.info&&(o.append("div").attr("class","layer-info-btn").text("(?)").on("click",function(){d3.select(this.parentNode).select(".layer-info-wrapper").classed("active",function(){return!d3.select(this).classed("active")})}),o.append("div").attr("class","layer-info-wrapper").text(function(e){return"("+e.info+")"}));o.append("div").attr("class","legend-wrapper").classed("active",e.active).append("img").attr("src","mean_ndvi_legend.jpg");a(e,o)}function a(e,t){var n=d3.scaleLinear().domain([0,80]).range([0,1]).clamp(!0),r=t.append("div").attr("class","opacity-slider-wrapper").classed("active",e.active),o=r.append("svg").attr("viewBox","0 0 100 40").attr("preserveAspectRatio","xMidYMid").append("g").attr("class","opacity-slider");o.append("circle").attr("r","6").attr("cx","80").attr("class","opacity-slider-circle"),o.append("line").attr("class","opacity-slider-track-overlay").attr("x1","0").attr("x2","80").attr("stroke","#000000").attr("stroke-width","20px").attr("stroke-opacity","0.0").call(d3.drag().on("start drag",function(){i(e,this.parentNode,n,d3.event.x)})),o.append("line").attr("class","opacity-slider-track").attr("x1","0").attr("x2","85").attr("stroke-width","20px").attr("stroke","#666").attr("stroke-width","2px"),o.append("text").attr("class","opacity-indicator").attr("x","95").attr("y","5").text(100*n(300)+"%")}function i(e,t,n,r){var r=n.invert(n(r));t=d3.select(t),t.select("circle").attr("cx",r),t.select("text").text(parseInt(100*n(r))+"%"),e.mapLayer.setOpacity(n(d3.event.x))}function c(e,t,n){t.mapLayer=t.mapLayer||s(t),n.selectAll(".legend-wrapper, .opacity-slider-wrapper").classed("active",t.active),t.active?e.addLayer(t.mapLayer):e.removeLayer(t.mapLayer)}function s(e){return L.tileLayer.wms(e.url,{layers:e.id,transparent:!0,version:e.version||"1.3.0",crs:e.crs||L.CRS.EPSG4326,format:e.format||"image/png"})}function u(e,t,n){var r=!1;return n.forEach(function(n){n=n.split(" "),r=r||n[0]===t&&n[1]===e.id}),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e,t){t=t||[{url:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/attributions">CARTO</a>'}];var n,o;for(n=0;n<t.length;n++)o=r(t[n]),o.addTo(e)}function r(e){return L.tileLayer(e.url,{attribution:e.attribution})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(){d3.selectAll(".graph-type-btn").on("click",p),r(),A=d3.tip().attr("class","d3-tip").html(function(e){return e})}function r(){Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100!=0||e%400==0)},Date.prototype.getDOY=function(){var e=[0,31,59,90,120,151,181,212,243,273,304,334],t=this.getMonth(),n=this.getDate(),r=e[t]+n;return t>1&&this.isLeapYear()&&r++,r}}function o(e){e.on("click",a)}function a(e){var t=this,n=e.latlng.lat,r=e.latlng.lng,o=d(n,r),a=i(t,n,r);d3.select(o).on("mouseenter",function(){a.setIcon(R)}),d3.select(o).on("mouseleave",function(){a.setIcon(I)}),c(t,o,a)}function i(e,t,n){return L.marker([t,n],{icon:I}).addTo(e)}function c(e,t,n){var r=s();t.appendChild(r),d3.select(r).on("click",function(){document.getElementById("graph-list").removeChild(t),e.removeLayer(n)})}function s(){var e=document.createElement("button");return e.className="remove-graph",e.innerText=String.fromCharCode("10005"),e.setAttribute("title","Remove graph"),e}function u(e,t,n){var r="https://fcav-ndvi.nemac.org/landdat_product.cgi?args="+t+","+e,o=new XMLHttpRequest;o.addEventListener("load",function(){var r=this.responseText;r=r.replace(/\[|\]|\'/g,"").split(", "),h(r,n,e,t)}),o.open("GET",r),o.send()}function l(e){var t;for(t=0;t<e.length;t++)e[t]=e[t].split(",");return e}function f(e){var t,n,r,o,a={};for(a.keys=[],r=0;r<e.length;r++)t=e[r],n=t[0].substring(0,4),a.hasOwnProperty(n)||(a[n]=[],a.keys.push(n)),a[n].push(t);var i,c;for(a.medians=[],r=0;r<46;r++){for(i=[],o=r;o<e.length;o+=46)i.push(e[o][1]);c=i.sort()[Math.floor(i.length/2)],a.medians.push(c)}return a}function p(){var e=this.dataset.type,t=document.getElementsByClassName("graph-type-btn active")[0],n=t.dataset.type;e!==n&&(d3.select("#graph-list").classed("graph-"+n,!1).classed("graph-"+e,!0),d3.select(t).classed("active",!1),d3.select(this).classed("active",!0))}function d(e,t){var n=document.createElement("div"),r=document.createTextNode("Lat: "+e+", Lon: "+t);return n.appendChild(r),n.classList.add("graph-elem"),u(e,t,n),n}function h(e,t,n,r){e=l(e);var o=f(e);v(e,t,o.medians),m(o,t,n,r),y(o,t,n,r),document.getElementById("graph-list").appendChild(t)}function v(e,t,n){var r={top:30,right:20,bottom:30,left:25},o=580-r.left-r.right,a=270-r.top-r.bottom,i=d3.scaleTime().range([0,o]).domain([j(e[0][0]),j(e[e.length-1][0])]),c=d3.scaleLinear().range([a,0]).domain([0,100]),s=d3.axisBottom(i).ticks(16).tickFormat(function(e){return e.getFullYear()}),u=d3.axisLeft(c).ticks(6),l=d3.line().x(function(e){return i(j(e[0]))}).y(function(e){return c(e[1])}),f=d3.select(t).append("div").classed("timeseries-graph",!0),p=f.append("svg").attr("width",o+r.left+r.right).attr("height",a+r.top+r.bottom).append("g").attr("transform","translate("+r.left+","+r.top+")");p.call(A),w(e,l,p),p.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(s),p.append("g").attr("class","y axis").call(u),_(e,l,p,n)}function m(e,t,n,r){function o(e){return F[(e-15)/30]}var a={},i={top:30,right:20,bottom:30,left:25},c=500-i.left-i.right,s=270-i.top-i.bottom,u=e.medians,l=d3.scaleLinear().range([0,c]).domain([0,365]),f=d3.scaleLinear().range([s,0]).domain([0,100]),p=d3.axisBottom(l).ticks(11).tickValues([15,45,75,105,135,165,195,225,255,285,315,345]).tickFormat(o),d=d3.axisLeft(f).ticks(6),h=d3.line().x(function(e,t){return l(Array.isArray(e)?P(e[0]):8*t+3)}).y(function(e){return f(Array.isArray(e)?e[1]:e)}),v=d3.select(t).append("div").classed("overlapping-graph",!0),m=v.append("svg").attr("width",c+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")");m.call(A),m.append("g").attr("class","x axis").attr("transform","translate(0,"+s+")").call(p),m.append("g").attr("class","y axis").call(d),a.medians={path:w(e.medians,h,m)},a[2015]={path:w(e[2015],h,m)},a.medians.points=_(e.medians,h,m,u),a[2015].points=_(e[2015],h,m,u);var y=v.append("div").classed("input-wrapper",!0);e.keys.forEach(function(t){S(y,t,"timeseries","2015",a,e,h,m,u,n,r)}),S(y,"medians","timeseries","medians",a,e,h,m,u,n,r)}function y(e,t,n,r){var o=Math.min(490,490)/2-30,a=e.medians,i=b(e),c=g(a,i[1][0]),s=d3.scaleLinear().domain([0,100]).range([0,o]),u=d3.radialLine().radius(function(e){return s(Array.isArray(e)?e[1]:e)}).angle(function(e,t){return((Array.isArray(e)?P(e[0]):8*t+3)-1)%365/365*(2*Math.PI)}),l=d3.select(t).append("div").classed("polar-graph",!0),f=l.append("svg").attr("width",490).attr("height",490).append("g").attr("transform","translate(245,245)");f.call(A);var p=f.append("g").attr("class","r axis").selectAll("g").data(s.ticks(5).slice(1)).enter().append("g");p.append("circle").attr("r",s),p.append("text").attr("y",function(e){return-s(e)-4}).attr("transform","rotate(15)").style("text-anchor","middle").text(function(e){return e});var d=f.append("g").attr("class","a axis").selectAll("g").data(d3.range(0,360,30)).enter().append("g").attr("transform",function(e){return"rotate("+(e-90)+")"});d.append("line").attr("x2",o),d.append("text").attr("x",o+6).attr("dy",".35em").style("text-anchor",function(e){return e<360&&e>180?"end":null}).attr("transform",function(e){return e<360&&e>180?"rotate(180 "+(o+6)+",0)":null}).text(function(e){return F[e/30]});var h=f.append("g").selectAll("g").data(c).enter().append("g").attr("transform",function(e){return"rotate("+(e.data[1][0]-90)+")"});h.append("line").attr("class","line").attr("x2",o),h.append("text").attr("x",o+6).attr("y",function(e){return(e.data[1][0]-1)%365/365*(2*Math.PI)}).attr("dy",".35em").style("text-anchor",function(e){var t=e.data[1][0];return t<360&&t>180?"end":null}).attr("transform",function(e){var t=e.data[1][0];return t<360&&t>180?"rotate(180 "+(o+6)+",0)":null}).text(function(e){return e.label});var v=i[1][0];k([[v,100],[(v+182.5)%365,100]],u,f).classed("growing-season-line","true"),k(i,u,f).classed("center-line","true"),f.selectAll("point").data([i[1]]).enter().append("circle").attr("class","point").attr("transform",function(e){return"translate("+u([e]).slice(1).slice(0,-1)+")"}).attr("r",2.5).attr("stroke","#000").attr("fill","#dd82d2").on("mouseover",function(e){A.show("Center: "+String(e[1]).substring(0,7)),this.setAttribute("r",5),this.setAttribute("stroke-width","2px"),d3.select(this).classed("active",!0)}).on("mouseout",function(e){A.hide(),this.setAttribute("r",2.5),this.setAttribute("stroke-width","1px"),d3.select(this).classed("active",!0)});var m={};m.medians={path:k(a,u,f)},m[2015]={path:k(e[2015],u,f)},m.medians.points=_(a,u,f,a),m[2015].points=_(e[2015],u,f,a);var y=l.append("div").classed("input-wrapper",!0);e.keys.forEach(function(t){var o=y.append("div");o.append("input").attr("type","checkbox").attr("id","polar-"+t+n.toString().replace(".","")+"-"+r.toString().replace(".","")).attr("value",t).property("checked","2015"===t).on("change",function(t){var n=this.value;this.checked?(m.hasOwnProperty(n)||(m[n]={}),m[n].path=k(e[n],u,f),m[n].points=_(e[n],u,f,a)):(m[n].path.remove(),m[n].points.remove())}),o.append("label").text(t).attr("for","polar-"+t+n.toString().replace(".","")+"-"+r.toString().replace(".",""))});var w=y.append("div");w.append("input").attr("type","checkbox").attr("id","polar-average-"+n.toString().replace(".","")+"-"+r.toString().replace(".","")).attr("value","medians").property("checked",!0).on("change",function(t){var n=this.value;this.checked?(m.hasOwnProperty(n)||(m[n]={}),m[n].path=k(e[n],u,f),m[n].points=_(e[n],u,f,a)):(m[n].path.remove(),m[n].points.remove())}),w.append("label").text("Baseline").attr("for","polar-average-"+n.toString().replace(".","")+"-"+r.toString().replace(".",""));var x=y.append("div").classed("threshold-checkbox",!0);x.append("input").attr("type","checkbox").attr("id","threshold-checkbox-"+n.toString().replace(".","")+"-"+r.toString().replace(".","")).property("checked",!0).on("change",function(e){h.style("opacity",this.checked?1:0)}),x.append("label").text("Thresholds").attr("for","threshold-checkbox-"+n.toString().replace(".","")+"-"+r.toString().replace(".",""))}function b(e){var t,n,r,o,a,i=0,c=0;for(r=46,t=0;t<e.keys.length;t++)if(o=e[e.keys[t]],o.length===r){for(a=0,n=0;n<r/2;n++)a+=o[n][1]-o[n+23][1];a/=23,i+=a}else c++;i=Math.abs(i)/(e.keys.length-c);var s,u,l,f,p,d=1e6,h=0,v=e.medians;for(t=0;t<r/2;t++){for(u=0,l=0,p=0;p<r/2;p++)n=(t+p)%46,f=(n+23)%46,u+=parseInt(v[n],10),l+=parseInt(v[f],10);s=Math.abs(u-l),s<d&&(d=s,h=t)}var m=parseInt(v[h],10),y=parseInt(-v[h+23],10),b=Math.abs(i-m)-Math.abs(i-y);return Math.abs(-i-m)-Math.abs(-i-y)>b&&(h+=23),[[0,0],[8*h+3,i]]}function g(e,t){var n=Math.floor((t-3)/8);n>22&&(n-=23);var r,o,a,i=0;for(a=46,r=0;r<a;r++)o=(n+r)%a,i+=parseInt(e[o],10);var c,s,u,l=.15*i,f=.8*i,p=.85*i,d=!1,h=!1,v=!1;for(i=0,r=0;r<a;r++)if(o=(n+r)%a,i+=parseInt(e[o],10),!d&&i>l)c=o,d=!0;else if(!h&&i>f)s=o,h=!0;else if(!v&&i>p){u=o,v=!0;break}var m=[0,0];return[{label:"15%",data:[m,[8*c+3,100]]},{label:"80%",data:[m,[8*s+3,100]]},{label:"85%",data:[m,[8*u+3,100]]}]}function w(e,t,n){return n.append("path").attr("class","line").attr("d",t(e))}function k(e,t,n){return n.append("path").datum(e).attr("class","line").attr("d",t)}function _(e,t,n,r){return n.selectAll("point").data(e).enter().append("circle").attr("class","point").attr("transform",function(e,n){return"translate("+t([Array.isArray(e)?e:[8*n+3,e]]).slice(1).slice(0,-1)+")"}).attr("r",3).attr("stroke","#000").attr("fill",function(e,t){return E(Array.isArray(e)?e[1]:e,r[t%46],3)}).on("mouseover",x).on("mouseout",O)}function x(e){var t=Array.isArray(e)?T(e[0])+": "+e[1]:"Average: "+e;A.show(t),this.setAttribute("r",5),this.setAttribute("stroke-width","2px")}function O(e){A.hide(),this.setAttribute("r",3),this.setAttribute("stroke-width","1px")}function S(e,t,n,r,o,a,i,c,s,u,l){var f=e.append("div");f.append("input").attr("type","checkbox").attr("id",n+"-"+t+u.toString().replace(".","")+"-"+l.toString().replace(".","")).attr("value",t).property("checked",t===r).on("change",function(e){var t=this.value;this.checked?(o.hasOwnProperty(t)||(o[t]={}),o[t].path=w(a[t],i,c),o[t].points=_(a[t],i,c,s)):(o[t].path.remove(),o[t].points.remove())}),f.append("label").text(t).attr("for",n+"-"+t+u.toString().replace(".","")+"-"+l.toString().replace(".",""))}function E(e,t,n){var r=e-t,o=Math.abs(r)/t*100*n,a=100-o+"%";return r>0?"hsl(8, 79%, "+a+")":"hsl(219, 79%, "+a+")"}function j(e){e=e.toString();var t=e.substring(0,4),n=parseInt(e.substring(4,6),10)-1,r=e.substring(6,8);return new Date(t,n,r)}function P(e){return"string"==typeof e?(e=j(e),e.getDOY()):e}function T(e){return"Average"===e?e:(e=j(e),C(e.getMonth())+" "+M(e.getDate())+", "+e.getFullYear())}function C(e){switch(e){case 0:return"Jan.";case 1:return"Feb.";case 2:return"Mar.";case 3:return"Apr.";case 4:return"May";case 5:return"Jun.";case 6:return"Jul.";case 7:return"Aug.";case 8:return"Sep.";case 9:return"Oct.";case 10:return"Nov.";case 11:return"Dec."}}function M(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}Object.defineProperty(t,"__esModule",{value:!0}),t.SetupGraphs=n,t.BindGraphEvents=o;var A,N=L.Icon.extend({}),I=new N({iconUrl:"imgs/blue_icon.png",shadowUrl:"imgs/marker_shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),R=new N({iconUrl:"imgs/orange_icon.png",shadowUrl:"imgs/marker_shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),F={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}},function(e,t){"use strict";function n(){d3.selectAll(".panel-top-btn").on("click",r)}function r(){this.classList.contains("active")||(o(),d3.selectAll(".panel-top-btn, .panel-section-wrapper").classed("active",function(){return!d3.select(this).classed("active")}))}function o(){var e=d3.selectAll("#map-wrapper, #right-panel"),t=e.classed("layers-active"),n=e.classed("graphs-active");e.classed("layers-active",!t).classed("graphs-active",!n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";function n(e){var t=e.id||"map",n=e.options||{scrollWheelZoom:!1},r=e.initialCenter||["38.5","-81"],a=e.initialZoom||6;return o=L.map(t,n).setView(r,a)}function r(){return o}Object.defineProperty(t,"__esModule",{value:!0}),t.CreateMap=n,t.GetMap=r;var o},function(e,t,n){"use strict";function r(e){e.on("moveend",o)}function o(e){var t=(0,m.GetMap)();i(a([c(t),s(t)]))}function a(e){return"?"+e.filter(function(e){return void 0!==e}).join("&")}function i(e){window.history&&window.history.replaceState&&window.history.replaceState({},"",e)}function c(e){var t=e.getCenter();return"center="+t.lat.toString()+","+t.lng.toString()}function s(e){return"zoom="+e.getZoom()}function u(){var e=window.location.search;if(""!==e)return e=l(e),e=p(e),d(e),e}function l(e){return e=e.substring(1),e=f(e),e.split("&")}function f(e){return e.replace(/\%2[c|C]/g,",")}function p(e){var t,n,r={};for(n=0;n<e.length;n++)t=e[n].split("="),r[t[0]]=t[1];return r}function d(e){e.center&&(e.center=h(e.center))}function h(e){return e.split(",")}function v(e){var t=u();t&&(t.center&&(e.map.initialCenter=t.center),t.zoom&&(e.map.initialZoom=t.zoom))}Object.defineProperty(t,"__esModule",{value:!0}),t.BindUpdateShareUrl=r,t.AddShareSettingsToConfig=v;var m=n(26)},function(e,t){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXhfYnVuZGxlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2luZGV4X2J1bmRsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIG89bltyXT17ZXhwb3J0czp7fSxpZDpyLGxvYWRlZDohMX07cmV0dXJuIGVbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsdCksby5sb2FkZWQ9ITAsby5leHBvcnRzfXZhciBuPXt9O3QubT1lLHQuYz1uLHQucD1cIlwiLHQoMCl9KFtmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbz1uKDIpLGE9cihvKSxpPW4oMyksYz1yKGkpLHM9bigyMiksdT1yKHMpLGw9bigyMyksZj1yKGwpLHA9bigyNCksZD1uKDI1KSxoPXIoZCksdj1uKDI2KSxtPW4oMjcpLHk9KG4oMjgpLGZ1bmN0aW9uKGUpeygwLGEuZGVmYXVsdCkoZSxiKSwoMCxwLlNldHVwR3JhcGhzKSgpLCgwLGguZGVmYXVsdCkoKX0pLGI9ZnVuY3Rpb24oZSl7KDAsbS5BZGRTaGFyZVNldHRpbmdzVG9Db25maWcpKGUpO3ZhciB0PSgwLHYuQ3JlYXRlTWFwKShlLm1hcCk7KDAsZi5kZWZhdWx0KSh0LGUuYmFzZWxheWVycyksKDAsdS5kZWZhdWx0KSh0LGUubGF5ZXJzLGUubGF5b3V0KSwoMCxjLmRlZmF1bHQpKHQpLCgwLHAuQmluZEdyYXBoRXZlbnRzKSh0KSwoMCxtLkJpbmRVcGRhdGVTaGFyZVVybCkodCl9O3dpbmRvdy5CYXNlPXksdC5kZWZhdWx0PXtCYXNlOnl9fSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXtyKGUsdCl9ZnVuY3Rpb24gcihlLHQpe3ZhciBuPW5ldyBYTUxIdHRwUmVxdWVzdDtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PW4ucmVhZHlTdGF0ZSl7dHJ5e3ZhciBlPUpTT04ucGFyc2Uobi5yZXNwb25zZVRleHQpfWNhdGNoKGUpe2NvbnNvbGUubG9nKFwiRVJST1I6IE1hbGZvcm1lZCBKU09OIGluIGNvbmZpZyBmaWxlLlwiKSxjb25zb2xlLmxvZyhlKX1vKGUpLGEoZSksdChlKX19LG4ub3BlbihcIkdFVFwiLGUsITApLG4uc2VuZCgpLGNvbnNvbGUubG9nKFwiaGlcIil9ZnVuY3Rpb24gbyhlKXtlLm1hcHx8KGUubWFwPXt9KX1mdW5jdGlvbiBhKGUpe3ZhciB0LG4scj1lLmxheWVycyxvPWUubWFwc2VydmVyVXJsO2Zvcih2YXIgYSBpbiByKXtpZighci5oYXNPd25Qcm9wZXJ0eShhKSlyZXR1cm47Zm9yKHQ9clthXSxuPTA7bjx0Lmxlbmd0aDtuKyspaSh0W25dLG8pfX1mdW5jdGlvbiBpKGUsdCl7ZS51cmw9ZS51cmx8fHR9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3ZhciB0PW5ldyBvLkVzcmlQcm92aWRlcixuPW5ldyBvLkdlb1NlYXJjaENvbnRyb2woe3Byb3ZpZGVyOnQsc2hvd01hcmtlcjohMX0pO2UuYWRkQ29udHJvbChuKSxMLkRvbUV2ZW50Lm9uKG4uc2VhcmNoRWxlbWVudC5lbGVtZW50cy5jb250YWluZXIsXCJjbGlja1wiLGZ1bmN0aW9uKGUpe0wuRG9tRXZlbnQuc3RvcFByb3BhZ2F0aW9uKGUpfSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXI7dmFyIG89big0KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oNSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJHZW9TZWFyY2hDb250cm9sXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIobykuZGVmYXVsdH19KTt2YXIgYT1uKDEzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlNlYXJjaEVsZW1lbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcihhKS5kZWZhdWx0fX0pO3ZhciBpPW4oMTcpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiQmluZ1Byb3ZpZGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoaSkuZGVmYXVsdH19KTt2YXIgYz1uKDE5KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIkVzcmlQcm92aWRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByKGMpLmRlZmF1bHR9fSk7dmFyIHM9bigyMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJHb29nbGVQcm92aWRlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByKHMpLmRlZmF1bHR9fSk7dmFyIHU9bigyMSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJPcGVuU3RyZWV0TWFwUHJvdmlkZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcih1KS5kZWZhdWx0fX0pO3ZhciBsPW4oMTgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUHJvdmlkZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcihsKS5kZWZhdWx0fX0pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbygpe2lmKCFMfHwhTC5Db250cm9sfHwhTC5Db250cm9sLmV4dGVuZCl0aHJvdyBuZXcgRXJyb3IoXCJMZWFmbGV0IG11c3QgYmUgbG9hZGVkIGJlZm9yZSBpbnN0YW50aWF0aW5nIHRoZSBHZW9TZWFyY2ggY29udHJvbFwiKTtmb3IodmFyIGU9TC5Db250cm9sLmV4dGVuZChtKSx0PWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheSh0KSxyPTA7cjx0O3IrKyluW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbmV3KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGUsW251bGxdLmNvbmNhdChuKSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBhPW4oNiksaT0ocihhKSxPYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSk7dC5kZWZhdWx0PW87dmFyIGM9bigxMikscz1yKGMpLHU9bigxMyksbD1yKHUpLGY9bigxNikscD1yKGYpLGQ9bigxNCksaD1uKDE1KSx2PWZ1bmN0aW9uKCl7cmV0dXJue3Bvc2l0aW9uOlwidG9wbGVmdFwiLHN0eWxlOlwiYnV0dG9uXCIsc2hvd01hcmtlcjohMCxzaG93UG9wdXA6ITEsbWFya2VyOntpY29uOm5ldyBMLkljb24uRGVmYXVsdCxkcmFnZ2FibGU6ITF9LG1heE1hcmtlcnM6MSxyZXRhaW5ab29tTGV2ZWw6ITEsYW5pbWF0ZVpvb206ITAsc2VhcmNoTGFiZWw6XCJFbnRlciBhZGRyZXNzXCIsbm90Rm91bmRNZXNzYWdlOlwiU29ycnksIHRoYXQgYWRkcmVzcyBjb3VsZCBub3QgYmUgZm91bmQuXCIsbWVzc2FnZUhpZGVEZWxheTozZTMsem9vbUxldmVsOjE4LGNsYXNzTmFtZXM6e2NvbnRhaW5lcjpcImxlYWZsZXQtYmFyIGxlYWZsZXQtY29udHJvbCBsZWFmbGV0LWNvbnRyb2wtZ2Vvc2VhcmNoXCIsYnV0dG9uOlwibGVhZmxldC1iYXItcGFydCBsZWFmbGV0LWJhci1wYXJ0LXNpbmdsZVwiLG1zZ2JveDpcImxlYWZsZXQtYmFyIG1lc3NhZ2VcIixmb3JtOlwiXCIsaW5wdXQ6XCJcIn0sYXV0b0NvbXBsZXRlOiEwLGF1dG9Db21wbGV0ZURlbGF5OjI1MH19LG09e2luaXRpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLm1hcmtlcnM9bmV3IEwuRmVhdHVyZUdyb3VwLHRoaXMub3B0aW9ucz1pKHt9LHYoKSxlKTt2YXIgbj10aGlzLm9wdGlvbnMscj1uLnN0eWxlLG89bi5jbGFzc05hbWVzLGE9bi5zZWFyY2hMYWJlbCxjPW4uYXV0b0NvbXBsZXRlLHU9bi5hdXRvQ29tcGxldGVEZWxheTtcImJ1dHRvblwiIT09ciYmKHRoaXMub3B0aW9ucy5jbGFzc05hbWVzLmNvbnRhaW5lcis9XCIgXCIrZS5zdHlsZSksdGhpcy5zZWFyY2hFbGVtZW50PW5ldyBsLmRlZmF1bHQoaSh7fSx0aGlzLm9wdGlvbnMse2hhbmRsZVN1Ym1pdDpmdW5jdGlvbihlKXtyZXR1cm4gdC5vblN1Ym1pdChlKX19KSk7dmFyIGY9dGhpcy5zZWFyY2hFbGVtZW50LmVsZW1lbnRzLGg9Zi5jb250YWluZXIsbT1mLmZvcm0seT1mLmlucHV0O2guYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX0pO3ZhciBiPSgwLGQuY3JlYXRlRWxlbWVudCkoXCJhXCIsby5idXR0b24saCk7Yi50aXRsZT1hLGIuaHJlZj1cIiNcIixiLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe3Qub25DbGljayhlKX0sITEpLGMmJih0aGlzLnJlc3VsdExpc3Q9bmV3IHAuZGVmYXVsdCh7aGFuZGxlQ2xpY2s6ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXN1bHQ7eS52YWx1ZT1uLmxhYmVsLHQub25TdWJtaXQoe3F1ZXJ5Om4ubGFiZWx9KX19KSxtLmFwcGVuZENoaWxkKHRoaXMucmVzdWx0TGlzdC5lbGVtZW50cy5jb250YWluZXIpLHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsKDAscy5kZWZhdWx0KShmdW5jdGlvbihlKXtyZXR1cm4gdC5hdXRvU2VhcmNoKGUpfSx1KSwhMCkseS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNlbGVjdFJlc3VsdChlKX0sITApLHkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXtyZXR1cm4gdC5jbGVhclJlc3VsdHMoZSl9LCEwKSksdGhpcy5lbGVtZW50cz17YnV0dG9uOmJ9fSxvbkFkZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMsbj10LnNob3dNYXJrZXIscj10LnN0eWxlO2lmKHRoaXMubWFwPWUsbiYmdGhpcy5tYXJrZXJzLmFkZFRvKGUpLFwiYmFyXCI9PT1yKXt2YXIgbz10aGlzLnNlYXJjaEVsZW1lbnQuZWxlbWVudHMuZm9ybSxhPWUuZ2V0Q29udGFpbmVyKCkucXVlcnlTZWxlY3RvcihcIi5sZWFmbGV0LWNvbnRyb2wtY29udGFpbmVyXCIpLGk9KDAsZC5jcmVhdGVFbGVtZW50KShcImRpdlwiLFwibGVhZmxldC1jb250cm9sLWdlb3NlYXJjaCBiYXJcIik7aS5hcHBlbmRDaGlsZChvKSxhLmFwcGVuZENoaWxkKGkpLHRoaXMuZWxlbWVudHMuY29udGFpbmVyPWl9cmV0dXJuIHRoaXMuc2VhcmNoRWxlbWVudC5lbGVtZW50cy5jb250YWluZXJ9LG9uUmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50cy5jb250YWluZXI7cmV0dXJuIGUmJmUucmVtb3ZlKCksdGhpc30sb25DbGljazpmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9dGhpcy5zZWFyY2hFbGVtZW50LmVsZW1lbnRzLG49dC5jb250YWluZXIscj10LmlucHV0O24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpPygwLGQucmVtb3ZlQ2xhc3NOYW1lKShuLFwiYWN0aXZlXCIpOigoMCxkLmFkZENsYXNzTmFtZSkobixcImFjdGl2ZVwiKSxyLmZvY3VzKCkpfSxzZWxlY3RSZXN1bHQ6ZnVuY3Rpb24oZSl7aWYoW2guQVJST1dfRE9XTl9LRVksaC5BUlJPV19VUF9LRVldLmluY2x1ZGVzKGUua2V5Q29kZSkpe2UucHJldmVudERlZmF1bHQoKTt2YXIgdD10aGlzLnNlYXJjaEVsZW1lbnQuZWxlbWVudHMuaW5wdXQsbj10aGlzLnJlc3VsdExpc3Qscj10aGlzLnJlc3VsdExpc3QuY291bnQoKS0xLG89XCJBcnJvd0Rvd25cIj09PWUuY29kZT8xK35+bi5zZWxlY3RlZDp+fm4uc2VsZWN0ZWQtMSxhPW88MD9yOm8+cj8wOm8saT1uLnNlbGVjdChhKTt0LnZhbHVlPWkubGFiZWx9fSxjbGVhclJlc3VsdHM6ZnVuY3Rpb24oZSl7ZS5rZXlDb2RlPT09aC5FU0NBUEVfS0VZJiZ0aGlzLnJlc3VsdExpc3QuY2xlYXIoKX0sYXV0b1NlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxuKXt2YXIgcixvLGE7cmV0dXJuIGguU1BFQ0lBTF9LRVlTLmluY2x1ZGVzKGUua2V5Q29kZSk/dCgpOihyPWUudGFyZ2V0LnZhbHVlLG89dGhpcy5vcHRpb25zLnByb3ZpZGVyLG8uc2VhcmNoKHtxdWVyeTpyfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYT1lLHRoaXMucmVzdWx0TGlzdC5yZW5kZXIoYSksdCgpfS4kYXN5bmNiaW5kKHRoaXMsbiksbikpfS4kYXN5bmNiaW5kKHRoaXMpKX0sb25TdWJtaXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7dmFyIHIsbztyZXR1cm4gcj10aGlzLm9wdGlvbnMucHJvdmlkZXIsci5zZWFyY2goZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbz1lLG8mJm8ubGVuZ3RoPjAmJnRoaXMuc2hvd1Jlc3VsdChvWzBdKSx0KCl9LiRhc3luY2JpbmQodGhpcyxuKSxuKX0uJGFzeW5jYmluZCh0aGlzKSl9LHNob3dSZXN1bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXModGhpcy5tYXJrZXJzLl9sYXllcnMpO3QubGVuZ3RoPj10aGlzLm9wdGlvbnMubWF4TWFya2VycyYmdGhpcy5tYXJrZXJzLnJlbW92ZUxheWVyKHRbMF0pO3ZhciBuPXRoaXMuYWRkTWFya2VyKGUpO3RoaXMuY2VudGVyTWFwKGUpLHRoaXMubWFwLmZpcmVFdmVudChcImdlb3NlYXJjaC9zaG93bG9jYXRpb25cIix7bG9jYXRpb246ZSxtYXJrZXI6bn0pfSxhZGRNYXJrZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRpb25zLG49dC5tYXJrZXIscj10LnNob3dQb3B1cCxvPW5ldyBMLk1hcmtlcihbZS55LGUueF0sbik7cmV0dXJuIG8uYmluZFBvcHVwKGUubGFiZWwpLHRoaXMubWFya2Vycy5hZGRMYXllcihvKSxyJiZvLm9wZW5Qb3B1cCgpLG99LGNlbnRlck1hcDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdGlvbnMsbj10LnJldGFpblpvb21MZXZlbCxyPXQuYW5pbWF0ZVpvb20sbz1uZXcgTC5MYXRMbmdCb3VuZHMoZS5ib3VuZHMpLGE9by5pc1ZhbGlkKCk/bzp0aGlzLm1hcmtlcnMuZ2V0Qm91bmRzKCk7IW4mJm8uaXNWYWxpZCgpP3RoaXMubWFwLmZpdEJvdW5kcyhhLHthbmltYXRlOnJ9KTp0aGlzLm1hcC5zZXRWaWV3KGEuZ2V0Q2VudGVyKCksdGhpcy5nZXRab29tKCkse2FuaW1hdGU6cn0pfSxnZXRab29tOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLHQ9ZS5yZXRhaW5ab29tTGV2ZWwsbj1lLnpvb21MZXZlbDtyZXR1cm4gdD90aGlzLm1hcC5nZXRab29tKCk6bn19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQpe2lmKEZ1bmN0aW9uLnByb3RvdHlwZS4kYXN5bmNzcGF3bnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSxcIiRhc3luY3NwYXduXCIse3ZhbHVlOnIsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSx0aGlzIGluc3RhbmNlb2YgRnVuY3Rpb24pe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyBlKGZ1bmN0aW9uKGUscil7ZnVuY3Rpb24gbyh0LG4pe3ZhciBpO3RyeXtpZihpPXQuY2FsbChhLG4pLGkuZG9uZSl7aWYoaS52YWx1ZSE9PWUpe2lmKGkudmFsdWUmJmkudmFsdWU9PT1pLnZhbHVlLnRoZW4pcmV0dXJuIGkudmFsdWUoZSxyKTtlJiZlKGkudmFsdWUpLGU9bnVsbH1yZXR1cm59aS52YWx1ZS50aGVuP2kudmFsdWUudGhlbihmdW5jdGlvbihlKXtvKGEubmV4dCxlKX0sZnVuY3Rpb24oZSl7byhhLnRocm93LGUpfSk6byhhLm5leHQsaS52YWx1ZSl9Y2F0Y2goZSl7cmV0dXJuIHImJnIoZSksdm9pZChyPW51bGwpfX12YXIgYT1uLmNhbGwodCxlLHIpO28oYS5uZXh0KX0pfX12YXIgbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10LnRvU3RyaW5nKCkscj1cInJldHVybiBcIituLG89bi5tYXRjaCgvLipcXCgoW14pXSopXFwpLylbMV0sYT0vWydcIl0hISEoW14nXCJdKilbJ1wiXS9nLGk9W107Oyl7dmFyIGM9YS5leGVjKHIpO2lmKCFjKWJyZWFrO2kucHVzaChjKX1yZXR1cm4gaS5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbih0KXtyPXIuc2xpY2UoMCx0LmluZGV4KStlW3RbMV1dK3Iuc3Vic3RyKHQuaW5kZXgrdFswXS5sZW5ndGgpfSkscj1yLnJlcGxhY2UoL1xcL1xcKlteKl0qXFwqXFwvL2csXCIgXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIiksbmV3IEZ1bmN0aW9uKG8scikoKX0oe3pvdXNhbjpuKDcpLnRvU3RyaW5nKCksdGhlbmFibGU6bigxMSkudG9TdHJpbmcoKX0sZnVuY3Rpb24gZSh0LG4pe2Z1bmN0aW9uIHIoKXtyZXR1cm4gby5hcHBseSh0LGFyZ3VtZW50cyl9RnVuY3Rpb24ucHJvdG90eXBlLiRhc3luY2JpbmR8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsXCIkYXN5bmNiaW5kXCIse3ZhbHVlOmUsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KSxlLnRyYW1wb2xpbmV8fChlLnRyYW1wb2xpbmU9ZnVuY3Rpb24oZSx0LG4scixvKXtyZXR1cm4gZnVuY3Rpb24gYShpKXtmb3IoO2k7KXtpZihpLnRoZW4pcmV0dXJuIGk9aS50aGVuKGEsciksbz92b2lkIDA6aTt0cnl7aWYoaS5wb3Ape2lmKGkubGVuZ3RoKXJldHVybiBpLnBvcCgpP3QuY2FsbChlKTppO2k9bn1lbHNlIGk9aS5jYWxsKGUpfWNhdGNoKGUpe3JldHVybiByKGUpfX19fSksZS5MYXp5VGhlbmFibGV8fChlLkxhenlUaGVuYWJsZT1cIiEhIXRoZW5hYmxlXCIoKSxlLkVhZ2VyVGhlbmFibGU9ZS5UaGVuYWJsZT0oZS5FYWdlclRoZW5hYmxlRmFjdG9yeT1cIiEhIXpvdXNhblwiKSgpKTt2YXIgbz10aGlzO3N3aXRjaChuKXtjYXNlITA6cmV0dXJuIG5ldyBlLlRoZW5hYmxlKHIpO2Nhc2UgMDpyZXR1cm4gbmV3IGUuTGF6eVRoZW5hYmxlKHIpO2Nhc2Ugdm9pZCAwOnJldHVybiByLnRoZW49cixyO2RlZmF1bHQ6cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBvLmFwcGx5KHQsYXJndW1lbnRzKX1jYXRjaChlKXtyZXR1cm4gbihlKX19fX0pO28oKSxyKCksZS5leHBvcnRzPXskYXN5bmNiaW5kOm8sJGFzeW5jc3Bhd246cn19LGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbyhlKXtpZihlKXt2YXIgdD10aGlzO2UoZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXt0LnJlamVjdChlKX0pfX1mdW5jdGlvbiBhKGUsdCl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS55KXRyeXt2YXIgbj1lLnkuY2FsbCh2b2lkIDAsdCk7ZS5wLnJlc29sdmUobil9Y2F0Y2godCl7ZS5wLnJlamVjdCh0KX1lbHNlIGUucC5yZXNvbHZlKHQpfWZ1bmN0aW9uIGkoZSx0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm4pdHJ5e3ZhciBuPWUubi5jYWxsKHZvaWQgMCx0KTtlLnAucmVzb2x2ZShuKX1jYXRjaCh0KXtlLnAucmVqZWN0KHQpfWVsc2UgZS5wLnJlamVjdCh0KX1lPWV8fFwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOnIodCkpJiZ0Lm5leHRUaWNrfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZufHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMCl9O3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe2Zvcig7bi5sZW5ndGgtcjspe3RyeXtuW3JdKCl9Y2F0Y2goZSl7fW5bcisrXT12b2lkIDAscj09PW8mJihuLnNwbGljZSgwLG8pLHI9MCl9fXZhciBuPVtdLHI9MCxvPTEwMjQ7cmV0dXJuIGZ1bmN0aW9uKG8pe24ucHVzaChvKSxuLmxlbmd0aC1yPT0xJiZlKHQpfX0oKTtyZXR1cm4gby5wcm90b3R5cGU9e3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09dGhpcy5zdGF0ZSl7aWYoZT09PXRoaXMpcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoXCJBdHRlbXB0IHRvIHJlc29sdmUgcHJvbWlzZSB3aXRoIHNlbGZcIikpO3ZhciB0PXRoaXM7aWYoZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fFwib2JqZWN0XCI9PT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOnIoZSkpKSl0cnl7dmFyIG49MCxvPWUudGhlbjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvKXJldHVybiB2b2lkIG8uY2FsbChlLGZ1bmN0aW9uKGUpe24rK3x8dC5yZXNvbHZlKGUpfSxmdW5jdGlvbihlKXtuKyt8fHQucmVqZWN0KGUpfSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQobnx8dGhpcy5yZWplY3QoZSkpfXRoaXMuc3RhdGU9YSx0aGlzLnY9ZSx0LmMmJmMoZnVuY3Rpb24oKXtmb3IodmFyIG49MCxyPXQuYy5sZW5ndGg7bjxyO24rKylhKHQuY1tuXSxlKX0pfX0scmVqZWN0OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PXRoaXMuc3RhdGUpe3RoaXMuc3RhdGU9aSx0aGlzLnY9ZTt2YXIgdD10aGlzLmM7dCYmYyhmdW5jdGlvbigpe2Zvcih2YXIgbj0wLHI9dC5sZW5ndGg7bjxyO24rKylpKHRbbl0sZSl9KX19LHRoZW46ZnVuY3Rpb24oZSx0KXt2YXIgbj1uZXcgbyxyPXt5OmUsbjp0LHA6bn07aWYodm9pZCAwPT09dGhpcy5zdGF0ZSl0aGlzLmM/dGhpcy5jLnB1c2gocik6dGhpcy5jPVtyXTtlbHNle3ZhciBhPXRoaXMuc3RhdGUsaT10aGlzLnY7YyhmdW5jdGlvbigpe2EocixpKX0pfXJldHVybiBufX0sby5yZXNvbHZlPWZ1bmN0aW9uKGUpe2lmKGUmJmUgaW5zdGFuY2VvZiBvKXJldHVybiBlO3ZhciB0PW5ldyBvO3JldHVybiB0LnJlc29sdmUoZSksdH0sby5yZWplY3Q9ZnVuY3Rpb24oZSl7aWYoZSYmZSBpbnN0YW5jZW9mIG8pcmV0dXJuIGU7dmFyIHQ9bmV3IG87cmV0dXJuIHQucmVqZWN0KGUpLHR9LG8udmVyc2lvbj1cIjIuMy4zLW5vZGVudFwiLG99fSkuY2FsbCh0LG4oOCksbig5KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbyhlKXtpZihsPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChsPT09bnx8IWwpJiZzZXRUaW1lb3V0KXJldHVybiBsPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gbChlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gbC5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gbC5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIGEoZSl7aWYoZj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChmPT09cnx8IWYpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGY9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIGYoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBmLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gZi5jYWxsKHRoaXMsZSl9fX1mdW5jdGlvbiBpKCl7diYmZCYmKHY9ITEsZC5sZW5ndGg/aD1kLmNvbmNhdChoKTptPS0xLGgubGVuZ3RoJiZjKCkpfWZ1bmN0aW9uIGMoKXtpZighdil7dmFyIGU9byhpKTt2PSEwO2Zvcih2YXIgdD1oLmxlbmd0aDt0Oyl7Zm9yKGQ9aCxoPVtdOysrbTx0OylkJiZkW21dLnJ1bigpO209LTEsdD1oLmxlbmd0aH1kPW51bGwsdj0hMSxhKGUpfX1mdW5jdGlvbiBzKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gdSgpe312YXIgbCxmLHA9ZS5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtsPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpufWNhdGNoKGUpe2w9bn10cnl7Zj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnJ9Y2F0Y2goZSl7Zj1yfX0oKTt2YXIgZCxoPVtdLHY9ITEsbT0tMTtwLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07aC5wdXNoKG5ldyBzKGUsdCkpLDEhPT1oLmxlbmd0aHx8dnx8byhjKX0scy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0scC50aXRsZT1cImJyb3dzZXJcIixwLmJyb3dzZXI9ITAscC5lbnY9e30scC5hcmd2PVtdLHAudmVyc2lvbj1cIlwiLHAudmVyc2lvbnM9e30scC5vbj11LHAuYWRkTGlzdGVuZXI9dSxwLm9uY2U9dSxwLm9mZj11LHAucmVtb3ZlTGlzdGVuZXI9dSxwLnJlbW92ZUFsbExpc3RlbmVycz11LHAuZW1pdD11LHAuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0scC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0scC5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHAudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCl7dGhpcy5faWQ9ZSx0aGlzLl9jbGVhckZuPXR9dmFyIG89RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O3Quc2V0VGltZW91dD1mdW5jdGlvbigpe3JldHVybiBuZXcgcihvLmNhbGwoc2V0VGltZW91dCx3aW5kb3csYXJndW1lbnRzKSxjbGVhclRpbWVvdXQpfSx0LnNldEludGVydmFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKG8uY2FsbChzZXRJbnRlcnZhbCx3aW5kb3csYXJndW1lbnRzKSxjbGVhckludGVydmFsKX0sdC5jbGVhclRpbWVvdXQ9dC5jbGVhckludGVydmFsPWZ1bmN0aW9uKGUpe2UmJmUuY2xvc2UoKX0sci5wcm90b3R5cGUudW5yZWY9ci5wcm90b3R5cGUucmVmPWZ1bmN0aW9uKCl7fSxyLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX2NsZWFyRm4uY2FsbCh3aW5kb3csdGhpcy5faWQpfSx0LmVucm9sbD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD10fSx0LnVuZW5yb2xsPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlLl9pZGxlVGltZW91dElkKSxlLl9pZGxlVGltZW91dD0tMX0sdC5fdW5yZWZBY3RpdmU9dC5hY3RpdmU9ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUuX2lkbGVUaW1lb3V0SWQpO3ZhciB0PWUuX2lkbGVUaW1lb3V0O3Q+PTAmJihlLl9pZGxlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9vblRpbWVvdXQmJmUuX29uVGltZW91dCgpfSx0KSl9LG4oMTApLHQuc2V0SW1tZWRpYXRlPXNldEltbWVkaWF0ZSx0LmNsZWFySW1tZWRpYXRlPWNsZWFySW1tZWRpYXRlfSxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gcihlKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiYoZT1uZXcgRnVuY3Rpb24oXCJcIitlKSk7Zm9yKHZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLG49MDtuPHQubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuKzFdO3ZhciByPXtjYWxsYmFjazplLGFyZ3M6dH07cmV0dXJuIHVbc109cixjKHMpLHMrK31mdW5jdGlvbiBvKGUpe2RlbGV0ZSB1W2VdfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5jYWxsYmFjayxyPWUuYXJncztzd2l0Y2goci5sZW5ndGgpe2Nhc2UgMDp0KCk7YnJlYWs7Y2FzZSAxOnQoclswXSk7YnJlYWs7Y2FzZSAyOnQoclswXSxyWzFdKTticmVhaztjYXNlIDM6dChyWzBdLHJbMV0sclsyXSk7YnJlYWs7ZGVmYXVsdDp0LmFwcGx5KG4scil9fWZ1bmN0aW9uIGkoZSl7aWYobClzZXRUaW1lb3V0KGksMCxlKTtlbHNle3ZhciB0PXVbZV07aWYodCl7bD0hMDt0cnl7YSh0KX1maW5hbGx5e28oZSksbD0hMX19fX1pZighZS5zZXRJbW1lZGlhdGUpe3ZhciBjLHM9MSx1PXt9LGw9ITEsZj1lLmRvY3VtZW50LHA9T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cD1wJiZwLnNldFRpbWVvdXQ/cDplLFwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbChlLnByb2Nlc3MpP2Z1bmN0aW9uKCl7Yz1mdW5jdGlvbihlKXt0Lm5leHRUaWNrKGZ1bmN0aW9uKCl7aShlKX0pfX0oKTpmdW5jdGlvbigpe2lmKGUucG9zdE1lc3NhZ2UmJiFlLmltcG9ydFNjcmlwdHMpe3ZhciB0PSEwLG49ZS5vbm1lc3NhZ2U7cmV0dXJuIGUub25tZXNzYWdlPWZ1bmN0aW9uKCl7dD0hMX0sZS5wb3N0TWVzc2FnZShcIlwiLFwiKlwiKSxlLm9ubWVzc2FnZT1uLHR9fSgpP2Z1bmN0aW9uKCl7dmFyIHQ9XCJzZXRJbW1lZGlhdGUkXCIrTWF0aC5yYW5kb20oKStcIiRcIixuPWZ1bmN0aW9uKG4pe24uc291cmNlPT09ZSYmXCJzdHJpbmdcIj09dHlwZW9mIG4uZGF0YSYmMD09PW4uZGF0YS5pbmRleE9mKHQpJiZpKCtuLmRhdGEuc2xpY2UodC5sZW5ndGgpKX07ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixuLCExKTplLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsbiksYz1mdW5jdGlvbihuKXtlLnBvc3RNZXNzYWdlKHQrbixcIipcIil9fSgpOmUuTWVzc2FnZUNoYW5uZWw/ZnVuY3Rpb24oKXt2YXIgZT1uZXcgTWVzc2FnZUNoYW5uZWw7ZS5wb3J0MS5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7aShlLmRhdGEpfSxjPWZ1bmN0aW9uKHQpe2UucG9ydDIucG9zdE1lc3NhZ2UodCl9fSgpOmYmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBmLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgZT1mLmRvY3VtZW50RWxlbWVudDtjPWZ1bmN0aW9uKHQpe3ZhciBuPWYuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2kodCksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlLnJlbW92ZUNoaWxkKG4pLG49bnVsbH0sZS5hcHBlbmRDaGlsZChuKX19KCk6ZnVuY3Rpb24oKXtjPWZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoaSwwLGUpfX0oKSxwLnNldEltbWVkaWF0ZT1yLHAuY2xlYXJJbW1lZGlhdGU9b319KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PWU/dm9pZCAwOmU6c2VsZil9KS5jYWxsKHQsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSxuKDgpKX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3JldHVybiBlJiZlIGluc3RhbmNlb2YgT2JqZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW59ZnVuY3Rpb24gdChuLHIsbyl7dHJ5e3ZhciBhPW8/byhyKTpyO2lmKG49PT1hKXJldHVybiBuLnJlamVjdChuZXcgVHlwZUVycm9yKFwiUHJvbWlzZSByZXNvbHV0aW9uIGxvb3BcIikpO2UoYSk/YS50aGVuKGZ1bmN0aW9uKGUpe3QobixlKX0sZnVuY3Rpb24oZSl7bi5yZWplY3QoZSl9KTpuLnJlc29sdmUoYSl9Y2F0Y2goZSl7bi5yZWplY3QoZSl9fWZ1bmN0aW9uIG4oKXt9ZnVuY3Rpb24gcihlKXt9ZnVuY3Rpb24gbyhlLHQpe3RoaXMucmVzb2x2ZT1lLHRoaXMucmVqZWN0PXR9ZnVuY3Rpb24gYShyLG8pe3ZhciBhPW5ldyBuO3RyeXt0aGlzLl9yZXNvbHZlcihmdW5jdGlvbihuKXtyZXR1cm4gZShuKT9uLnRoZW4ocixvKTp0KGEsbixyKX0sZnVuY3Rpb24oZSl7dChhLGUsbyl9KX1jYXRjaChlKXt0KGEsZSxvKX1yZXR1cm4gYX1mdW5jdGlvbiBpKGUpe3RoaXMuX3Jlc29sdmVyPWUsdGhpcy50aGVuPWF9cmV0dXJuIG4ucHJvdG90eXBlPXtyZXNvbHZlOnIscmVqZWN0OnIsdGhlbjpvfSxpLnJlc29sdmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNUaGVuYWJsZShlKT9lOnt0aGVuOmZ1bmN0aW9uKHQpe3JldHVybiB0KGUpfX19LGkuaXNUaGVuYWJsZT1lLGl9fSxmdW5jdGlvbihlLHQpeyhmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxuKXtmdW5jdGlvbiBvKHQpe3ZhciBuPXYscj1tO3JldHVybiB2PW09dm9pZCAwLE89dCxiPWUuYXBwbHkocixuKX1mdW5jdGlvbiBhKGUpe3JldHVybiBPPWUsZz1zZXRUaW1lb3V0KGwsdCksUz9vKGUpOmJ9ZnVuY3Rpb24gYyhlKXt2YXIgbj1lLXcscj1lLU8sbz10LW47cmV0dXJuIEU/XyhvLHktcik6b31mdW5jdGlvbiB1KGUpe3ZhciBuPWUtdyxyPWUtTztyZXR1cm4gdm9pZCAwPT09d3x8bj49dHx8bjwwfHxFJiZyPj15fWZ1bmN0aW9uIGwoKXt2YXIgZT14KCk7aWYodShlKSlyZXR1cm4gZihlKTtnPXNldFRpbWVvdXQobCxjKGUpKX1mdW5jdGlvbiBmKGUpe3JldHVybiBnPXZvaWQgMCxqJiZ2P28oZSk6KHY9bT12b2lkIDAsYil9ZnVuY3Rpb24gcCgpe3ZvaWQgMCE9PWcmJmNsZWFyVGltZW91dChnKSxPPTAsdj13PW09Zz12b2lkIDB9ZnVuY3Rpb24gZCgpe3JldHVybiB2b2lkIDA9PT1nP2I6Zih4KCkpfWZ1bmN0aW9uIGgoKXt2YXIgZT14KCksbj11KGUpO2lmKHY9YXJndW1lbnRzLG09dGhpcyx3PWUsbil7aWYodm9pZCAwPT09ZylyZXR1cm4gYSh3KTtpZihFKXJldHVybiBnPXNldFRpbWVvdXQobCx0KSxvKHcpfXJldHVybiB2b2lkIDA9PT1nJiYoZz1zZXRUaW1lb3V0KGwsdCkpLGJ9dmFyIHYsbSx5LGIsZyx3LE89MCxTPSExLEU9ITEsaj0hMDtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3Iocyk7cmV0dXJuIHQ9aSh0KXx8MCxyKG4pJiYoUz0hIW4ubGVhZGluZyxFPVwibWF4V2FpdFwiaW4gbix5PUU/ayhpKG4ubWF4V2FpdCl8fDAsdCk6eSxqPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOmopLGguY2FuY2VsPXAsaC5mbHVzaD1kLGh9ZnVuY3Rpb24gcihlKXt2YXIgdD12b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6YyhlKTtyZXR1cm4hIWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT0odm9pZCAwPT09ZT9cInVuZGVmaW5lZFwiOmMoZSkpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuXCJzeW1ib2xcIj09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpjKGUpKXx8byhlKSYmdy5jYWxsKGUpPT1sfWZ1bmN0aW9uIGkoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoYShlKSlyZXR1cm4gdTtpZihyKGUpKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnZhbHVlT2Y/ZS52YWx1ZU9mKCk6ZTtlPXIodCk/dCtcIlwiOnR9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1lLnJlcGxhY2UoZixcIlwiKTt2YXIgbj1kLnRlc3QoZSk7cmV0dXJuIG58fGgudGVzdChlKT92KGUuc2xpY2UoMiksbj8yOjgpOnAudGVzdChlKT91OitlfXZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHM9XCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCIsdT1OYU4sbD1cIltvYmplY3QgU3ltYm9sXVwiLGY9L15cXHMrfFxccyskL2cscD0vXlstK10weFswLTlhLWZdKyQvaSxkPS9eMGJbMDFdKyQvaSxoPS9eMG9bMC03XSskL2ksdj1wYXJzZUludCxtPVwib2JqZWN0XCI9PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6Yyh0KSkmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0LHk9XCJvYmplY3RcIj09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP1widW5kZWZpbmVkXCI6YyhzZWxmKSkmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGI9bXx8eXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLGc9T2JqZWN0LnByb3RvdHlwZSx3PWcudG9TdHJpbmcsaz1NYXRoLm1heCxfPU1hdGgubWluLHg9ZnVuY3Rpb24oKXtyZXR1cm4gYi5EYXRlLm5vdygpfTtlLmV4cG9ydHM9bn0pLmNhbGwodCxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oNiksYT0oZnVuY3Rpb24oZSl7ZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCkpLGk9bigxNCksYz1uKDE1KSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciB0PXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sbz1uLmhhbmRsZVN1Ym1pdCxhPXZvaWQgMD09PW8/ZnVuY3Rpb24oKXt9Om8sYz1uLnNlYXJjaExhYmVsLHM9dm9pZCAwPT09Yz9cInNlYXJjaFwiOmMsdT1uLmNsYXNzTmFtZXMsbD12b2lkIDA9PT11P3t9OnU7cih0aGlzLGUpO3ZhciBmPSgwLGkuY3JlYXRlRWxlbWVudCkoXCJkaXZcIixbXCJnZW9zZWFyY2hcIixsLmNvbnRhaW5lcl0uam9pbihcIiBcIikpLHA9KDAsaS5jcmVhdGVFbGVtZW50KShcImZvcm1cIixbXCJcIixsLmZvcm1dLmpvaW4oXCIgXCIpLGYpLGQ9KDAsaS5jcmVhdGVFbGVtZW50KShcImlucHV0XCIsW1wiZ2xhc3NcIixsLmlucHV0XS5qb2luKFwiIFwiKSxwKTtkLnR5cGU9XCJ0ZXh0XCIsZC5wbGFjZWhvbGRlcj1zLGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsZnVuY3Rpb24oZSl7dC5vbklucHV0KGUpfSwhMSksZC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixmdW5jdGlvbihlKXt0Lm9uS2V5VXAoZSl9LCExKSxkLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLGZ1bmN0aW9uKGUpe3Qub25LZXlQcmVzcyhlKX0sITEpLGQuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsZnVuY3Rpb24oZSl7dC5vbkZvY3VzKGUpfSwhMSksZC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLGZ1bmN0aW9uKGUpe3Qub25CbHVyKGUpfSwhMSksdGhpcy5lbGVtZW50cz17Y29udGFpbmVyOmYsZm9ybTpwLGlucHV0OmR9LHRoaXMuaGFuZGxlU3VibWl0PWF9cmV0dXJuIGEoZSxbe2tleTpcIm9uRm9jdXNcIix2YWx1ZTpmdW5jdGlvbigpeygwLGkuYWRkQ2xhc3NOYW1lKSh0aGlzLmVsZW1lbnRzLmZvcm0sXCJhY3RpdmVcIil9fSx7a2V5Olwib25CbHVyXCIsdmFsdWU6ZnVuY3Rpb24oKXsoMCxpLnJlbW92ZUNsYXNzTmFtZSkodGhpcy5lbGVtZW50cy5mb3JtLFwiYWN0aXZlXCIpfX0se2tleTpcIm9uU3VibWl0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7dmFyIHIsbyxhO3JldHVybiBlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKSxyPXRoaXMuZWxlbWVudHMsbz1yLmlucHV0LGE9ci5jb250YWluZXIsKDAsaS5yZW1vdmVDbGFzc05hbWUpKGEsXCJlcnJvclwiKSwoMCxpLmFkZENsYXNzTmFtZSkoYSxcInBlbmRpbmdcIiksdGhpcy5oYW5kbGVTdWJtaXQoe3F1ZXJ5Om8udmFsdWV9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybigwLGkucmVtb3ZlQ2xhc3NOYW1lKShhLFwicGVuZGluZ1wiKSx0KCl9LiRhc3luY2JpbmQodGhpcyxuKSxuKX0uJGFzeW5jYmluZCh0aGlzKSl9fSx7a2V5Olwib25JbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50cy5jb250YWluZXI7dGhpcy5oYXNFcnJvciYmKCgwLGkucmVtb3ZlQ2xhc3NOYW1lKShlLFwiZXJyb3JcIiksdGhpcy5oYXNFcnJvcj0hMSl9fSx7a2V5Olwib25LZXlVcFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudHMsbj10LmNvbnRhaW5lcixyPXQuaW5wdXQ7ZS5rZXlDb2RlPT09Yy5FU0NBUEVfS0VZJiYoKDAsaS5yZW1vdmVDbGFzc05hbWUpKG4sXCJwZW5kaW5nXCIpLCgwLGkucmVtb3ZlQ2xhc3NOYW1lKShuLFwiYWN0aXZlXCIpLHIudmFsdWU9XCJcIixkb2N1bWVudC5ib2R5LmZvY3VzKCksZG9jdW1lbnQuYm9keS5ibHVyKCkpfX0se2tleTpcIm9uS2V5UHJlc3NcIix2YWx1ZTpmdW5jdGlvbihlKXtlLmtleUNvZGU9PT1jLkVOVEVSX0tFWSYmdGhpcy5vblN1Ym1pdChlKX19LHtrZXk6XCJzZXRRdWVyeVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuZWxlbWVudHMuaW5wdXQudmFsdWU9ZX19XSksZX0oKTt0LmRlZmF1bHQ9c30sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj10LmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiXCIsbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSk7cmV0dXJuIHIuY2xhc3NOYW1lPXQsbiYmbi5hcHBlbmRDaGlsZChyKSxyfTt0LmNyZWF0ZVNjcmlwdEVsZW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uKFwic2NyaXB0XCIsbnVsbCxkb2N1bWVudC5ib2R5KTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0L2phdmFzY3JpcHRcIiksbmV3IFByb21pc2UoZnVuY3Rpb24obil7d2luZG93W3RdPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksZGVsZXRlIHdpbmRvd1t0XSxuKGUpfSxyLnNldEF0dHJpYnV0ZShcInNyY1wiLGUpfSl9LHQuYWRkQ2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7ZSYmIWUuY2xhc3NMaXN0LmNvbnRhaW5zKHQpJiZlLmNsYXNzTGlzdC5hZGQodCl9LHQucmVtb3ZlQ2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7ZSYmZS5jbGFzc0xpc3QuY29udGFpbnModCkmJmUuY2xhc3NMaXN0LnJlbW92ZSh0KX19LGZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49dC5FTlRFUl9LRVk9MTMscj10LkVTQ0FQRV9LRVk9Mjcsbz10LkFSUk9XX0RPV05fS0VZPTQwLGE9dC5BUlJPV19VUF9LRVk9MzgsaT10LkFSUk9XX0xFRlRfS0VZPTM3LGM9dC5BUlJPV19SSUdIVF9LRVk9Mzk7dC5TUEVDSUFMX0tFWVM9W24scixvLGEsaSxjXX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCksYT1uKDE0KSxpPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdC5qb2luKFwiIFwiKS50cmltKCl9LGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LG49dC5oYW5kbGVDbGljayxvPXZvaWQgMD09PW4/ZnVuY3Rpb24oKXt9Om4sYz10LmNsYXNzTmFtZXMsdT12b2lkIDA9PT1jP3t9OmM7cih0aGlzLGUpLHMuY2FsbCh0aGlzKSx0aGlzLnByb3BzPXtoYW5kbGVDbGljazpvLGNsYXNzTmFtZXM6dX0sdGhpcy5zZWxlY3RlZD0tMTt2YXIgbD0oMCxhLmNyZWF0ZUVsZW1lbnQpKFwiZGl2XCIsaShcInJlc3VsdHNcIix1LmNvbnRhaW5lcikpLGY9KDAsYS5jcmVhdGVFbGVtZW50KShcImRpdlwiLGkodS5pdGVtKSk7bC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2ssITApLHRoaXMuZWxlbWVudHM9e2NvbnRhaW5lcjpsLHJlc3VsdEl0ZW06Zn19cmV0dXJuIG8oZSxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHQ9dGhpcy5lbGVtZW50cyxuPXQuY29udGFpbmVyLHI9dC5yZXN1bHRJdGVtO3RoaXMuY2xlYXIoKSxlLmZvckVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbz1yLmNsb25lTm9kZSghMCk7by5zZXRBdHRyaWJ1dGUoXCJkYXRhLWtleVwiLHQpLG8uaW5uZXJIVE1MPWUubGFiZWwsbi5hcHBlbmRDaGlsZChvKX0pLGUubGVuZ3RoPjAmJigwLGEuYWRkQ2xhc3NOYW1lKShuLFwiYWN0aXZlXCIpLHRoaXMucmVzdWx0cz1lfX0se2tleTpcInNlbGVjdFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudHMuY29udGFpbmVyO3JldHVybiBBcnJheS5mcm9tKHQuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24odCxuKXtyZXR1cm4gbj09PWU/KDAsYS5hZGRDbGFzc05hbWUpKHQsXCJhY3RpdmVcIik6KDAsYS5yZW1vdmVDbGFzc05hbWUpKHQsXCJhY3RpdmVcIil9KSx0aGlzLnNlbGVjdGVkPWUsdGhpcy5yZXN1bHRzW2VdfX0se2tleTpcImNvdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXN1bHRzLmxlbmd0aH19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbGVtZW50cy5jb250YWluZXI7Zm9yKHRoaXMuc2VsZWN0ZWQ9LTE7ZS5sYXN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5sYXN0Q2hpbGQpOygwLGEucmVtb3ZlQ2xhc3NOYW1lKShlLFwiYWN0aXZlXCIpfX1dKSxlfSgpLHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMub25DbGljaz1mdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxuPXQudGFyZ2V0LHI9ZS5wcm9wcy5oYW5kbGVDbGljayxvPWUuZWxlbWVudHMuY29udGFpbmVyO2lmKG4ucGFyZW50Tm9kZT09PW8mJm4uaGFzQXR0cmlidXRlKFwiZGF0YS1rZXlcIikpe3ZhciBhPW4uZ2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIik7cih7cmVzdWx0OmUucmVzdWx0c1thXX0pfX19O3QuZGVmYXVsdD1jfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbyhlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6Yyh0KSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGkoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIisodm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOmModCkpKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfXZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzPW4oNiksdT0ocihzKSxPYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpLGY9bigxOCkscD1yKGYpLGQ9bigxNCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG8odGhpcyx0KSxhKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGkodCxlKSxsKHQsW3trZXk6XCJlbmRwb2ludFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5xdWVyeSxuPWUucHJvdG9jb2wscj1lLmpzb25wLG89dGhpcy5vcHRpb25zLnBhcmFtcztyZXR1cm4gbitcIi8vZGV2LnZpcnR1YWxlYXJ0aC5uZXQvUkVTVC92MS9Mb2NhdGlvbnM/XCIrdGhpcy5nZXRQYXJhbVN0cmluZyh1KHt9LG8se3F1ZXJ5OnQsanNvbnA6cn0pKX19LHtrZXk6XCJwYXJzZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YTtyZXR1cm4gMD09PXQucmVzb3VyY2VTZXRzLmxlbmd0aD9bXTp0LnJlc291cmNlU2V0c1swXS5yZXNvdXJjZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt4OmUucG9pbnQuY29vcmRpbmF0ZXNbMV0seTplLnBvaW50LmNvb3JkaW5hdGVzWzBdLGxhYmVsOmUuYWRkcmVzcy5mb3JtYXR0ZWRBZGRyZXNzLGJvdW5kczpbW2UuYmJveFswXSxlLmJib3hbMV1dLFtlLmJib3hbMl0sZS5iYm94WzNdXV0scmF3OmV9fSl9fSx7a2V5Olwic2VhcmNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7dmFyIHIsbyxhLGksYztyZXR1cm4gcj1lLnF1ZXJ5LG89fmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwXCIpP2xvY2F0aW9uLnByb3RvY29sOlwiaHR0cHM6XCIsYT1cIkJJTkdfSlNPTlBfQ0JfXCIrRGF0ZS5ub3coKSxpPXRoaXMuZW5kcG9pbnQoe3F1ZXJ5OnIscHJvdG9jb2w6byxqc29ucDphfSksKDAsZC5jcmVhdGVTY3JpcHRFbGVtZW50KShpLGEpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGM9ZSx0KHRoaXMucGFyc2Uoe2RhdGE6Y30pKX0uJGFzeW5jYmluZCh0aGlzLG4pLG4pfS4kYXN5bmNiaW5kKHRoaXMpKX19XSksdH0ocC5kZWZhdWx0KTt0LmRlZmF1bHQ9aH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPW4oNiksYT0oZnVuY3Rpb24oZSl7ZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG8pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxyJiZlKHQsciksdH19KCkpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3IodGhpcyxlKSx0aGlzLm9wdGlvbnM9dH1yZXR1cm4gYShlLFt7a2V5OlwiZ2V0UGFyYW1TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGVbdF0pfSkuam9pbihcIiZcIil9fSx7a2V5Olwic2VhcmNoXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7dmFyIHIsbyxhLGksYztyZXR1cm4gcj1lLnF1ZXJ5LG89fmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwXCIpP2xvY2F0aW9uLnByb3RvY29sOlwiaHR0cHM6XCIsYT10aGlzLmVuZHBvaW50KHtxdWVyeTpyLHByb3RvY29sOm99KSxmZXRjaChhKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpPWUsaS5qc29uKCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gYz1lLHQodGhpcy5wYXJzZSh7ZGF0YTpjfSkpfS4kYXN5bmNiaW5kKHRoaXMsbiksbil9LiRhc3luY2JpbmQodGhpcyxuKSxuKX0uJGFzeW5jYmluZCh0aGlzKSl9fV0pLGV9KCk7dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjppKHQpKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiKyh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6aSh0KSkpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpLHU9bigxOCksbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHUpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiByKHRoaXMsdCksbyh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBhKHQsZSkscyh0LFt7a2V5OlwiZW5kcG9pbnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUucXVlcnksbj1lLnByb3RvY29sLHI9dGhpcy5vcHRpb25zLnBhcmFtcztyZXR1cm4gbitcIi8vZ2VvY29kZS5hcmNnaXMuY29tL2FyY2dpcy9yZXN0L3NlcnZpY2VzL1dvcmxkL0dlb2NvZGVTZXJ2ZXIvZmluZD9cIit0aGlzLmdldFBhcmFtU3RyaW5nKGMoe30scix7ZjpcImpzb25cIix0ZXh0OnR9KSl9fSx7a2V5OlwicGFyc2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kYXRhLmxvY2F0aW9ucy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3g6ZS5mZWF0dXJlLmdlb21ldHJ5LngseTplLmZlYXR1cmUuZ2VvbWV0cnkueSxsYWJlbDplLm5hbWUsYm91bmRzOltbZS5leHRlbnQueW1pbixlLmV4dGVudC54bWluXSxbZS5leHRlbnQueW1heCxlLmV4dGVudC54bWF4XV0scmF3OmV9fSl9fV0pLHR9KGwuZGVmYXVsdCk7dC5kZWZhdWx0PWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1mdW5jdGlvbiBvKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiF0fHxcIm9iamVjdFwiIT09KHZvaWQgMD09PXQ/XCJ1bmRlZmluZWRcIjppKHQpKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgdD9lOnR9ZnVuY3Rpb24gYShlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiKyh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6aSh0KSkpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKGUsdCk6ZS5fX3Byb3RvX189dCl9dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX07T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0scz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsci5rZXkscil9fXJldHVybiBmdW5jdGlvbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9fSgpLHU9bigxOCksbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHUpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiByKHRoaXMsdCksbyh0aGlzLCh0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfXJldHVybiBhKHQsZSkscyh0LFt7a2V5OlwiZW5kcG9pbnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUucXVlcnksbj1lLnByb3RvY29sLHI9dGhpcy5vcHRpb25zLnBhcmFtcyxvPXRoaXMuZ2V0UGFyYW1TdHJpbmcoYyh7fSxyLHthZGRyZXNzOnR9KSk7cmV0dXJuKHImJnIua2V5P1wiaHR0cHM6XCI6bikrXCIvL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvZ2VvY29kZS9qc29uP1wiK299fSx7a2V5OlwicGFyc2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kYXRhLnJlc3VsdHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt4OmUuZ2VvbWV0cnkubG9jYXRpb24ubG5nLHk6ZS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQsbGFiZWw6ZS5mb3JtYXR0ZWRfYWRkcmVzcyxib3VuZHM6W1tlLmdlb21ldHJ5LnZpZXdwb3J0LnNvdXRod2VzdC5sYXQsZS5nZW9tZXRyeS52aWV3cG9ydC5zb3V0aHdlc3QubG5nXSxbZS5nZW9tZXRyeS52aWV3cG9ydC5ub3J0aGVhc3QubGF0LGUuZ2VvbWV0cnkudmlld3BvcnQubm9ydGhlYXN0LmxuZ11dLHJhdzplfX0pfX1dKSx0fShsLmRlZmF1bHQpO3QuZGVmYXVsdD1mfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gbyhlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9PSh2b2lkIDA9PT10P1widW5kZWZpbmVkXCI6aSh0KSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGEoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIisodm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOmkodCkpKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfXZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByPXRbbl07ci5lbnVtZXJhYmxlPXIuZW51bWVyYWJsZXx8ITEsci5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gciYmKHIud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIua2V5LHIpfX1yZXR1cm4gZnVuY3Rpb24odCxuLHIpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLHImJmUodCxyKSx0fX0oKSx1PW4oMTgpLGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fSh1KSxmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gcih0aGlzLHQpLG8odGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1yZXR1cm4gYSh0LGUpLHModCxbe2tleTpcImVuZHBvaW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLnF1ZXJ5LG49ZS5wcm90b2NvbCxyPXRoaXMub3B0aW9ucy5wYXJhbXM7cmV0dXJuIG4rXCIvL25vbWluYXRpbS5vcGVuc3RyZWV0bWFwLm9yZy9zZWFyY2g/XCIrdGhpcy5nZXRQYXJhbVN0cmluZyhjKHt9LHIse2Zvcm1hdDpcImpzb25cIixxOnR9KSl9fSx7a2V5OlwicGFyc2VcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kYXRhLm1hcChmdW5jdGlvbihlKXtyZXR1cm57eDplLmxvbix5OmUubGF0LGxhYmVsOmUuZGlzcGxheV9uYW1lLGJvdW5kczpbW3BhcnNlRmxvYXQoZS5ib3VuZGluZ2JveFswXSkscGFyc2VGbG9hdChlLmJvdW5kaW5nYm94WzJdKV0sW3BhcnNlRmxvYXQoZS5ib3VuZGluZ2JveFsxXSkscGFyc2VGbG9hdChlLmJvdW5kaW5nYm94WzNdKV1dLHJhdzplfX0pfX1dKSx0fShsLmRlZmF1bHQpO3QuZGVmYXVsdD1mfSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LG4pe3IoZDMuc2VsZWN0KFwiLmxheWVyLWxpc3RcIikuc2VsZWN0QWxsKFwiLmxheWVyLWdyb3VwLXdyYXBwZXJcIikuZGF0YShuW1wibGF5ZXItZ3JvdXBzLW9yZGVyXCJdKS5lbnRlcigpLmFwcGVuZChcImRpdlwiKS5hdHRyKFwiY2xhc3NcIixcImxheWVyLWdyb3VwLXdyYXBwZXJcIikuYXR0cihcImlkXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KS5jbGFzc2VkKFwiYWN0aXZlXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWN0aXZlfSkuZWFjaChmdW5jdGlvbihlKXtkMy5zZWxlY3QodGhpcykuYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLFwibGF5ZXItZ3JvdXAtYnRuIGJ0blwiKS5vbihcImNsaWNrXCIsZnVuY3Rpb24oZSl7ZS5hY3RpdmU9IWUuYWN0aXZlLGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLmNsYXNzZWQoXCJhY3RpdmVcIixmdW5jdGlvbigpe3JldHVybiBlLmFjdGl2ZX0pfSkudGV4dChlLm5hbWUpfSkuYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLFwibGF5ZXItZ3JvdXBcIiksZSx0LG4pfWZ1bmN0aW9uIHIoZSx0LG4scil7ZS5zZWxlY3RBbGwoXCIubGF5ZXItc2VsZWN0XCIpLmRhdGEoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZS5pZF19KS5lbnRlcigpLmFwcGVuZChcImRpdlwiKS5hdHRyKFwiY2xhc3NcIixcImxheWVyLXNlbGVjdFwiKS5lYWNoKGZ1bmN0aW9uKGUpe28uY2FsbCh0aGlzLGUsdCxyKX0pfWZ1bmN0aW9uIG8oZSx0LG4pe3ZhciByPXRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLmlkLG89ZDMuc2VsZWN0KHRoaXMpO2UuYWN0aXZlPXUoZSxyLG5bXCJhY3RpdmUtbGF5ZXJzXCJdKSxlLmFjdGl2ZSYmYyh0LGUsbyksby5hcHBlbmQoXCJpbnB1dFwiKS5hdHRyKFwidHlwZVwiLFwiY2hlY2tib3hcIikuYXR0cihcImlkXCIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KS5hdHRyKFwiY2hlY2tlZFwiLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFjdGl2ZT9cImNoZWNrZWRcIjpudWxsfSkub24oXCJjbGlja1wiLGZ1bmN0aW9uKGUpe2UuYWN0aXZlPSFlLmFjdGl2ZSxjKHQsZSxvKX0pLG8uYXBwZW5kKFwibGFiZWxcIikuYXR0cihcImZvclwiLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkuYXR0cihcImNsYXNzXCIsXCJsYXllci1sYWJlbFwiKS5odG1sKGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWV9KSxlLmluZm8mJlwiXCIhPT1lLmluZm8mJihvLmFwcGVuZChcImRpdlwiKS5hdHRyKFwiY2xhc3NcIixcImxheWVyLWluZm8tYnRuXCIpLnRleHQoXCIoPylcIikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZDMuc2VsZWN0KHRoaXMucGFyZW50Tm9kZSkuc2VsZWN0KFwiLmxheWVyLWluZm8td3JhcHBlclwiKS5jbGFzc2VkKFwiYWN0aXZlXCIsZnVuY3Rpb24oKXtyZXR1cm4hZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJhY3RpdmVcIil9KX0pLG8uYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLFwibGF5ZXItaW5mby13cmFwcGVyXCIpLnRleHQoZnVuY3Rpb24oZSl7cmV0dXJuXCIoXCIrZS5pbmZvK1wiKVwifSkpO28uYXBwZW5kKFwiZGl2XCIpLmF0dHIoXCJjbGFzc1wiLFwibGVnZW5kLXdyYXBwZXJcIikuY2xhc3NlZChcImFjdGl2ZVwiLGUuYWN0aXZlKS5hcHBlbmQoXCJpbWdcIikuYXR0cihcInNyY1wiLFwibWVhbl9uZHZpX2xlZ2VuZC5qcGdcIik7YShlLG8pfWZ1bmN0aW9uIGEoZSx0KXt2YXIgbj1kMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCw4MF0pLnJhbmdlKFswLDFdKS5jbGFtcCghMCkscj10LmFwcGVuZChcImRpdlwiKS5hdHRyKFwiY2xhc3NcIixcIm9wYWNpdHktc2xpZGVyLXdyYXBwZXJcIikuY2xhc3NlZChcImFjdGl2ZVwiLGUuYWN0aXZlKSxvPXIuYXBwZW5kKFwic3ZnXCIpLmF0dHIoXCJ2aWV3Qm94XCIsXCIwIDAgMTAwIDQwXCIpLmF0dHIoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsXCJ4TWlkWU1pZFwiKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLFwib3BhY2l0eS1zbGlkZXJcIik7by5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcInJcIixcIjZcIikuYXR0cihcImN4XCIsXCI4MFwiKS5hdHRyKFwiY2xhc3NcIixcIm9wYWNpdHktc2xpZGVyLWNpcmNsZVwiKSxvLmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsXCJvcGFjaXR5LXNsaWRlci10cmFjay1vdmVybGF5XCIpLmF0dHIoXCJ4MVwiLFwiMFwiKS5hdHRyKFwieDJcIixcIjgwXCIpLmF0dHIoXCJzdHJva2VcIixcIiMwMDAwMDBcIikuYXR0cihcInN0cm9rZS13aWR0aFwiLFwiMjBweFwiKS5hdHRyKFwic3Ryb2tlLW9wYWNpdHlcIixcIjAuMFwiKS5jYWxsKGQzLmRyYWcoKS5vbihcInN0YXJ0IGRyYWdcIixmdW5jdGlvbigpe2koZSx0aGlzLnBhcmVudE5vZGUsbixkMy5ldmVudC54KX0pKSxvLmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsXCJvcGFjaXR5LXNsaWRlci10cmFja1wiKS5hdHRyKFwieDFcIixcIjBcIikuYXR0cihcIngyXCIsXCI4NVwiKS5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsXCIyMHB4XCIpLmF0dHIoXCJzdHJva2VcIixcIiM2NjZcIikuYXR0cihcInN0cm9rZS13aWR0aFwiLFwiMnB4XCIpLG8uYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwiY2xhc3NcIixcIm9wYWNpdHktaW5kaWNhdG9yXCIpLmF0dHIoXCJ4XCIsXCI5NVwiKS5hdHRyKFwieVwiLFwiNVwiKS50ZXh0KDEwMCpuKDMwMCkrXCIlXCIpfWZ1bmN0aW9uIGkoZSx0LG4scil7dmFyIHI9bi5pbnZlcnQobihyKSk7dD1kMy5zZWxlY3QodCksdC5zZWxlY3QoXCJjaXJjbGVcIikuYXR0cihcImN4XCIsciksdC5zZWxlY3QoXCJ0ZXh0XCIpLnRleHQocGFyc2VJbnQoMTAwKm4ocikpK1wiJVwiKSxlLm1hcExheWVyLnNldE9wYWNpdHkobihkMy5ldmVudC54KSl9ZnVuY3Rpb24gYyhlLHQsbil7dC5tYXBMYXllcj10Lm1hcExheWVyfHxzKHQpLG4uc2VsZWN0QWxsKFwiLmxlZ2VuZC13cmFwcGVyLCAub3BhY2l0eS1zbGlkZXItd3JhcHBlclwiKS5jbGFzc2VkKFwiYWN0aXZlXCIsdC5hY3RpdmUpLHQuYWN0aXZlP2UuYWRkTGF5ZXIodC5tYXBMYXllcik6ZS5yZW1vdmVMYXllcih0Lm1hcExheWVyKX1mdW5jdGlvbiBzKGUpe3JldHVybiBMLnRpbGVMYXllci53bXMoZS51cmwse2xheWVyczplLmlkLHRyYW5zcGFyZW50OiEwLHZlcnNpb246ZS52ZXJzaW9ufHxcIjEuMy4wXCIsY3JzOmUuY3JzfHxMLkNSUy5FUFNHNDMyNixmb3JtYXQ6ZS5mb3JtYXR8fFwiaW1hZ2UvcG5nXCJ9KX1mdW5jdGlvbiB1KGUsdCxuKXt2YXIgcj0hMTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe249bi5zcGxpdChcIiBcIikscj1yfHxuWzBdPT09dCYmblsxXT09PWUuaWR9KSxyfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0KXt0PXR8fFt7dXJsOlwiaHR0cDovL3tzfS5iYXNlbWFwcy5jYXJ0b2Nkbi5jb20vbGlnaHRfYWxsL3t6fS97eH0ve3l9LnBuZ1wiLGF0dHJpYnV0aW9uOicmY29weTsgPGEgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLCAmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vY2FydG8uY29tL2F0dHJpYnV0aW9uc1wiPkNBUlRPPC9hPid9XTt2YXIgbixvO2ZvcihuPTA7bjx0Lmxlbmd0aDtuKyspbz1yKHRbbl0pLG8uYWRkVG8oZSl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gTC50aWxlTGF5ZXIoZS51cmwse2F0dHJpYnV0aW9uOmUuYXR0cmlidXRpb259KX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7ZDMuc2VsZWN0QWxsKFwiLmdyYXBoLXR5cGUtYnRuXCIpLm9uKFwiY2xpY2tcIixwKSxyKCksQT1kMy50aXAoKS5hdHRyKFwiY2xhc3NcIixcImQzLXRpcFwiKS5odG1sKGZ1bmN0aW9uKGUpe3JldHVybiBlfSl9ZnVuY3Rpb24gcigpe0RhdGUucHJvdG90eXBlLmlzTGVhcFllYXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEZ1bGxZZWFyKCk7cmV0dXJuIDA9PSgzJmUpJiYoZSUxMDAhPTB8fGUlNDAwPT0wKX0sRGF0ZS5wcm90b3R5cGUuZ2V0RE9ZPWZ1bmN0aW9uKCl7dmFyIGU9WzAsMzEsNTksOTAsMTIwLDE1MSwxODEsMjEyLDI0MywyNzMsMzA0LDMzNF0sdD10aGlzLmdldE1vbnRoKCksbj10aGlzLmdldERhdGUoKSxyPWVbdF0rbjtyZXR1cm4gdD4xJiZ0aGlzLmlzTGVhcFllYXIoKSYmcisrLHJ9fWZ1bmN0aW9uIG8oZSl7ZS5vbihcImNsaWNrXCIsYSl9ZnVuY3Rpb24gYShlKXt2YXIgdD10aGlzLG49ZS5sYXRsbmcubGF0LHI9ZS5sYXRsbmcubG5nLG89ZChuLHIpLGE9aSh0LG4scik7ZDMuc2VsZWN0KG8pLm9uKFwibW91c2VlbnRlclwiLGZ1bmN0aW9uKCl7YS5zZXRJY29uKFIpfSksZDMuc2VsZWN0KG8pLm9uKFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7YS5zZXRJY29uKEkpfSksYyh0LG8sYSl9ZnVuY3Rpb24gaShlLHQsbil7cmV0dXJuIEwubWFya2VyKFt0LG5dLHtpY29uOkl9KS5hZGRUbyhlKX1mdW5jdGlvbiBjKGUsdCxuKXt2YXIgcj1zKCk7dC5hcHBlbmRDaGlsZChyKSxkMy5zZWxlY3Qocikub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaC1saXN0XCIpLnJlbW92ZUNoaWxkKHQpLGUucmVtb3ZlTGF5ZXIobil9KX1mdW5jdGlvbiBzKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtyZXR1cm4gZS5jbGFzc05hbWU9XCJyZW1vdmUtZ3JhcGhcIixlLmlubmVyVGV4dD1TdHJpbmcuZnJvbUNoYXJDb2RlKFwiMTAwMDVcIiksZS5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLFwiUmVtb3ZlIGdyYXBoXCIpLGV9ZnVuY3Rpb24gdShlLHQsbil7dmFyIHI9XCJodHRwczovL2ZjYXYtbmR2aS5uZW1hYy5vcmcvbGFuZGRhdF9wcm9kdWN0LmNnaT9hcmdzPVwiK3QrXCIsXCIrZSxvPW5ldyBYTUxIdHRwUmVxdWVzdDtvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgcj10aGlzLnJlc3BvbnNlVGV4dDtyPXIucmVwbGFjZSgvXFxbfFxcXXxcXCcvZyxcIlwiKS5zcGxpdChcIiwgXCIpLGgocixuLGUsdCl9KSxvLm9wZW4oXCJHRVRcIixyKSxvLnNlbmQoKX1mdW5jdGlvbiBsKGUpe3ZhciB0O2Zvcih0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT1lW3RdLnNwbGl0KFwiLFwiKTtyZXR1cm4gZX1mdW5jdGlvbiBmKGUpe3ZhciB0LG4scixvLGE9e307Zm9yKGEua2V5cz1bXSxyPTA7cjxlLmxlbmd0aDtyKyspdD1lW3JdLG49dFswXS5zdWJzdHJpbmcoMCw0KSxhLmhhc093blByb3BlcnR5KG4pfHwoYVtuXT1bXSxhLmtleXMucHVzaChuKSksYVtuXS5wdXNoKHQpO3ZhciBpLGM7Zm9yKGEubWVkaWFucz1bXSxyPTA7cjw0NjtyKyspe2ZvcihpPVtdLG89cjtvPGUubGVuZ3RoO28rPTQ2KWkucHVzaChlW29dWzFdKTtjPWkuc29ydCgpW01hdGguZmxvb3IoaS5sZW5ndGgvMildLGEubWVkaWFucy5wdXNoKGMpfXJldHVybiBhfWZ1bmN0aW9uIHAoKXt2YXIgZT10aGlzLmRhdGFzZXQudHlwZSx0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJncmFwaC10eXBlLWJ0biBhY3RpdmVcIilbMF0sbj10LmRhdGFzZXQudHlwZTtlIT09biYmKGQzLnNlbGVjdChcIiNncmFwaC1saXN0XCIpLmNsYXNzZWQoXCJncmFwaC1cIituLCExKS5jbGFzc2VkKFwiZ3JhcGgtXCIrZSwhMCksZDMuc2VsZWN0KHQpLmNsYXNzZWQoXCJhY3RpdmVcIiwhMSksZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJhY3RpdmVcIiwhMCkpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJMYXQ6IFwiK2UrXCIsIExvbjogXCIrdCk7cmV0dXJuIG4uYXBwZW5kQ2hpbGQociksbi5jbGFzc0xpc3QuYWRkKFwiZ3JhcGgtZWxlbVwiKSx1KGUsdCxuKSxufWZ1bmN0aW9uIGgoZSx0LG4scil7ZT1sKGUpO3ZhciBvPWYoZSk7dihlLHQsby5tZWRpYW5zKSxtKG8sdCxuLHIpLHkobyx0LG4sciksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaC1saXN0XCIpLmFwcGVuZENoaWxkKHQpfWZ1bmN0aW9uIHYoZSx0LG4pe3ZhciByPXt0b3A6MzAscmlnaHQ6MjAsYm90dG9tOjMwLGxlZnQ6MjV9LG89NTgwLXIubGVmdC1yLnJpZ2h0LGE9MjcwLXIudG9wLXIuYm90dG9tLGk9ZDMuc2NhbGVUaW1lKCkucmFuZ2UoWzAsb10pLmRvbWFpbihbaihlWzBdWzBdKSxqKGVbZS5sZW5ndGgtMV1bMF0pXSksYz1kMy5zY2FsZUxpbmVhcigpLnJhbmdlKFthLDBdKS5kb21haW4oWzAsMTAwXSkscz1kMy5heGlzQm90dG9tKGkpLnRpY2tzKDE2KS50aWNrRm9ybWF0KGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEZ1bGxZZWFyKCl9KSx1PWQzLmF4aXNMZWZ0KGMpLnRpY2tzKDYpLGw9ZDMubGluZSgpLngoZnVuY3Rpb24oZSl7cmV0dXJuIGkoaihlWzBdKSl9KS55KGZ1bmN0aW9uKGUpe3JldHVybiBjKGVbMV0pfSksZj1kMy5zZWxlY3QodCkuYXBwZW5kKFwiZGl2XCIpLmNsYXNzZWQoXCJ0aW1lc2VyaWVzLWdyYXBoXCIsITApLHA9Zi5hcHBlbmQoXCJzdmdcIikuYXR0cihcIndpZHRoXCIsbytyLmxlZnQrci5yaWdodCkuYXR0cihcImhlaWdodFwiLGErci50b3Arci5ib3R0b20pLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK3IubGVmdCtcIixcIityLnRvcCtcIilcIik7cC5jYWxsKEEpLHcoZSxsLHApLHAuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixcInggYXhpc1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMCxcIithK1wiKVwiKS5jYWxsKHMpLHAuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixcInkgYXhpc1wiKS5jYWxsKHUpLF8oZSxsLHAsbil9ZnVuY3Rpb24gbShlLHQsbixyKXtmdW5jdGlvbiBvKGUpe3JldHVybiBGWyhlLTE1KS8zMF19dmFyIGE9e30saT17dG9wOjMwLHJpZ2h0OjIwLGJvdHRvbTozMCxsZWZ0OjI1fSxjPTUwMC1pLmxlZnQtaS5yaWdodCxzPTI3MC1pLnRvcC1pLmJvdHRvbSx1PWUubWVkaWFucyxsPWQzLnNjYWxlTGluZWFyKCkucmFuZ2UoWzAsY10pLmRvbWFpbihbMCwzNjVdKSxmPWQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW3MsMF0pLmRvbWFpbihbMCwxMDBdKSxwPWQzLmF4aXNCb3R0b20obCkudGlja3MoMTEpLnRpY2tWYWx1ZXMoWzE1LDQ1LDc1LDEwNSwxMzUsMTY1LDE5NSwyMjUsMjU1LDI4NSwzMTUsMzQ1XSkudGlja0Zvcm1hdChvKSxkPWQzLmF4aXNMZWZ0KGYpLnRpY2tzKDYpLGg9ZDMubGluZSgpLngoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbChBcnJheS5pc0FycmF5KGUpP1AoZVswXSk6OCp0KzMpfSkueShmdW5jdGlvbihlKXtyZXR1cm4gZihBcnJheS5pc0FycmF5KGUpP2VbMV06ZSl9KSx2PWQzLnNlbGVjdCh0KS5hcHBlbmQoXCJkaXZcIikuY2xhc3NlZChcIm92ZXJsYXBwaW5nLWdyYXBoXCIsITApLG09di5hcHBlbmQoXCJzdmdcIikuYXR0cihcIndpZHRoXCIsYytpLmxlZnQraS5yaWdodCkuYXR0cihcImhlaWdodFwiLHMraS50b3AraS5ib3R0b20pLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK2kubGVmdCtcIixcIitpLnRvcCtcIilcIik7bS5jYWxsKEEpLG0uYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixcInggYXhpc1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMCxcIitzK1wiKVwiKS5jYWxsKHApLG0uYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixcInkgYXhpc1wiKS5jYWxsKGQpLGEubWVkaWFucz17cGF0aDp3KGUubWVkaWFucyxoLG0pfSxhWzIwMTVdPXtwYXRoOncoZVsyMDE1XSxoLG0pfSxhLm1lZGlhbnMucG9pbnRzPV8oZS5tZWRpYW5zLGgsbSx1KSxhWzIwMTVdLnBvaW50cz1fKGVbMjAxNV0saCxtLHUpO3ZhciB5PXYuYXBwZW5kKFwiZGl2XCIpLmNsYXNzZWQoXCJpbnB1dC13cmFwcGVyXCIsITApO2Uua2V5cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1MoeSx0LFwidGltZXNlcmllc1wiLFwiMjAxNVwiLGEsZSxoLG0sdSxuLHIpfSksUyh5LFwibWVkaWFuc1wiLFwidGltZXNlcmllc1wiLFwibWVkaWFuc1wiLGEsZSxoLG0sdSxuLHIpfWZ1bmN0aW9uIHkoZSx0LG4scil7dmFyIG89TWF0aC5taW4oNDkwLDQ5MCkvMi0zMCxhPWUubWVkaWFucyxpPWIoZSksYz1nKGEsaVsxXVswXSkscz1kMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwxMDBdKS5yYW5nZShbMCxvXSksdT1kMy5yYWRpYWxMaW5lKCkucmFkaXVzKGZ1bmN0aW9uKGUpe3JldHVybiBzKEFycmF5LmlzQXJyYXkoZSk/ZVsxXTplKX0pLmFuZ2xlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKChBcnJheS5pc0FycmF5KGUpP1AoZVswXSk6OCp0KzMpLTEpJTM2NS8zNjUqKDIqTWF0aC5QSSl9KSxsPWQzLnNlbGVjdCh0KS5hcHBlbmQoXCJkaXZcIikuY2xhc3NlZChcInBvbGFyLWdyYXBoXCIsITApLGY9bC5hcHBlbmQoXCJzdmdcIikuYXR0cihcIndpZHRoXCIsNDkwKS5hdHRyKFwiaGVpZ2h0XCIsNDkwKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgyNDUsMjQ1KVwiKTtmLmNhbGwoQSk7dmFyIHA9Zi5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLFwiciBheGlzXCIpLnNlbGVjdEFsbChcImdcIikuZGF0YShzLnRpY2tzKDUpLnNsaWNlKDEpKS5lbnRlcigpLmFwcGVuZChcImdcIik7cC5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcInJcIixzKSxwLmFwcGVuZChcInRleHRcIikuYXR0cihcInlcIixmdW5jdGlvbihlKXtyZXR1cm4tcyhlKS00fSkuYXR0cihcInRyYW5zZm9ybVwiLFwicm90YXRlKDE1KVwiKS5zdHlsZShcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIikudGV4dChmdW5jdGlvbihlKXtyZXR1cm4gZX0pO3ZhciBkPWYuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIixcImEgYXhpc1wiKS5zZWxlY3RBbGwoXCJnXCIpLmRhdGEoZDMucmFuZ2UoMCwzNjAsMzApKS5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGUpe3JldHVyblwicm90YXRlKFwiKyhlLTkwKStcIilcIn0pO2QuYXBwZW5kKFwibGluZVwiKS5hdHRyKFwieDJcIixvKSxkLmFwcGVuZChcInRleHRcIikuYXR0cihcInhcIixvKzYpLmF0dHIoXCJkeVwiLFwiLjM1ZW1cIikuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLGZ1bmN0aW9uKGUpe3JldHVybiBlPDM2MCYmZT4xODA/XCJlbmRcIjpudWxsfSkuYXR0cihcInRyYW5zZm9ybVwiLGZ1bmN0aW9uKGUpe3JldHVybiBlPDM2MCYmZT4xODA/XCJyb3RhdGUoMTgwIFwiKyhvKzYpK1wiLDApXCI6bnVsbH0pLnRleHQoZnVuY3Rpb24oZSl7cmV0dXJuIEZbZS8zMF19KTt2YXIgaD1mLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiZ1wiKS5kYXRhKGMpLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24oZSl7cmV0dXJuXCJyb3RhdGUoXCIrKGUuZGF0YVsxXVswXS05MCkrXCIpXCJ9KTtoLmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsXCJsaW5lXCIpLmF0dHIoXCJ4MlwiLG8pLGguYXBwZW5kKFwidGV4dFwiKS5hdHRyKFwieFwiLG8rNikuYXR0cihcInlcIixmdW5jdGlvbihlKXtyZXR1cm4oZS5kYXRhWzFdWzBdLTEpJTM2NS8zNjUqKDIqTWF0aC5QSSl9KS5hdHRyKFwiZHlcIixcIi4zNWVtXCIpLnN0eWxlKFwidGV4dC1hbmNob3JcIixmdW5jdGlvbihlKXt2YXIgdD1lLmRhdGFbMV1bMF07cmV0dXJuIHQ8MzYwJiZ0PjE4MD9cImVuZFwiOm51bGx9KS5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhWzFdWzBdO3JldHVybiB0PDM2MCYmdD4xODA/XCJyb3RhdGUoMTgwIFwiKyhvKzYpK1wiLDApXCI6bnVsbH0pLnRleHQoZnVuY3Rpb24oZSl7cmV0dXJuIGUubGFiZWx9KTt2YXIgdj1pWzFdWzBdO2soW1t2LDEwMF0sWyh2KzE4Mi41KSUzNjUsMTAwXV0sdSxmKS5jbGFzc2VkKFwiZ3Jvd2luZy1zZWFzb24tbGluZVwiLFwidHJ1ZVwiKSxrKGksdSxmKS5jbGFzc2VkKFwiY2VudGVyLWxpbmVcIixcInRydWVcIiksZi5zZWxlY3RBbGwoXCJwb2ludFwiKS5kYXRhKFtpWzFdXSkuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcImNsYXNzXCIsXCJwb2ludFwiKS5hdHRyKFwidHJhbnNmb3JtXCIsZnVuY3Rpb24oZSl7cmV0dXJuXCJ0cmFuc2xhdGUoXCIrdShbZV0pLnNsaWNlKDEpLnNsaWNlKDAsLTEpK1wiKVwifSkuYXR0cihcInJcIiwyLjUpLmF0dHIoXCJzdHJva2VcIixcIiMwMDBcIikuYXR0cihcImZpbGxcIixcIiNkZDgyZDJcIikub24oXCJtb3VzZW92ZXJcIixmdW5jdGlvbihlKXtBLnNob3coXCJDZW50ZXI6IFwiK1N0cmluZyhlWzFdKS5zdWJzdHJpbmcoMCw3KSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJyXCIsNSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIixcIjJweFwiKSxkMy5zZWxlY3QodGhpcykuY2xhc3NlZChcImFjdGl2ZVwiLCEwKX0pLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbihlKXtBLmhpZGUoKSx0aGlzLnNldEF0dHJpYnV0ZShcInJcIiwyLjUpLHRoaXMuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsXCIxcHhcIiksZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJhY3RpdmVcIiwhMCl9KTt2YXIgbT17fTttLm1lZGlhbnM9e3BhdGg6ayhhLHUsZil9LG1bMjAxNV09e3BhdGg6ayhlWzIwMTVdLHUsZil9LG0ubWVkaWFucy5wb2ludHM9XyhhLHUsZixhKSxtWzIwMTVdLnBvaW50cz1fKGVbMjAxNV0sdSxmLGEpO3ZhciB5PWwuYXBwZW5kKFwiZGl2XCIpLmNsYXNzZWQoXCJpbnB1dC13cmFwcGVyXCIsITApO2Uua2V5cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBvPXkuYXBwZW5kKFwiZGl2XCIpO28uYXBwZW5kKFwiaW5wdXRcIikuYXR0cihcInR5cGVcIixcImNoZWNrYm94XCIpLmF0dHIoXCJpZFwiLFwicG9sYXItXCIrdCtuLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixcIlwiKStcIi1cIityLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixcIlwiKSkuYXR0cihcInZhbHVlXCIsdCkucHJvcGVydHkoXCJjaGVja2VkXCIsXCIyMDE1XCI9PT10KS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMudmFsdWU7dGhpcy5jaGVja2VkPyhtLmhhc093blByb3BlcnR5KG4pfHwobVtuXT17fSksbVtuXS5wYXRoPWsoZVtuXSx1LGYpLG1bbl0ucG9pbnRzPV8oZVtuXSx1LGYsYSkpOihtW25dLnBhdGgucmVtb3ZlKCksbVtuXS5wb2ludHMucmVtb3ZlKCkpfSksby5hcHBlbmQoXCJsYWJlbFwiKS50ZXh0KHQpLmF0dHIoXCJmb3JcIixcInBvbGFyLVwiK3Qrbi50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsXCJcIikrXCItXCIrci50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsXCJcIikpfSk7dmFyIHc9eS5hcHBlbmQoXCJkaXZcIik7dy5hcHBlbmQoXCJpbnB1dFwiKS5hdHRyKFwidHlwZVwiLFwiY2hlY2tib3hcIikuYXR0cihcImlkXCIsXCJwb2xhci1hdmVyYWdlLVwiK24udG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLFwiXCIpK1wiLVwiK3IudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLFwiXCIpKS5hdHRyKFwidmFsdWVcIixcIm1lZGlhbnNcIikucHJvcGVydHkoXCJjaGVja2VkXCIsITApLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24odCl7dmFyIG49dGhpcy52YWx1ZTt0aGlzLmNoZWNrZWQ/KG0uaGFzT3duUHJvcGVydHkobil8fChtW25dPXt9KSxtW25dLnBhdGg9ayhlW25dLHUsZiksbVtuXS5wb2ludHM9XyhlW25dLHUsZixhKSk6KG1bbl0ucGF0aC5yZW1vdmUoKSxtW25dLnBvaW50cy5yZW1vdmUoKSl9KSx3LmFwcGVuZChcImxhYmVsXCIpLnRleHQoXCJCYXNlbGluZVwiKS5hdHRyKFwiZm9yXCIsXCJwb2xhci1hdmVyYWdlLVwiK24udG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLFwiXCIpK1wiLVwiK3IudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLFwiXCIpKTt2YXIgeD15LmFwcGVuZChcImRpdlwiKS5jbGFzc2VkKFwidGhyZXNob2xkLWNoZWNrYm94XCIsITApO3guYXBwZW5kKFwiaW5wdXRcIikuYXR0cihcInR5cGVcIixcImNoZWNrYm94XCIpLmF0dHIoXCJpZFwiLFwidGhyZXNob2xkLWNoZWNrYm94LVwiK24udG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLFwiXCIpK1wiLVwiK3IudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLFwiXCIpKS5wcm9wZXJ0eShcImNoZWNrZWRcIiwhMCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbihlKXtoLnN0eWxlKFwib3BhY2l0eVwiLHRoaXMuY2hlY2tlZD8xOjApfSkseC5hcHBlbmQoXCJsYWJlbFwiKS50ZXh0KFwiVGhyZXNob2xkc1wiKS5hdHRyKFwiZm9yXCIsXCJ0aHJlc2hvbGQtY2hlY2tib3gtXCIrbi50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsXCJcIikrXCItXCIrci50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsXCJcIikpfWZ1bmN0aW9uIGIoZSl7dmFyIHQsbixyLG8sYSxpPTAsYz0wO2ZvcihyPTQ2LHQ9MDt0PGUua2V5cy5sZW5ndGg7dCsrKWlmKG89ZVtlLmtleXNbdF1dLG8ubGVuZ3RoPT09cil7Zm9yKGE9MCxuPTA7bjxyLzI7bisrKWErPW9bbl1bMV0tb1tuKzIzXVsxXTthLz0yMyxpKz1hfWVsc2UgYysrO2k9TWF0aC5hYnMoaSkvKGUua2V5cy5sZW5ndGgtYyk7dmFyIHMsdSxsLGYscCxkPTFlNixoPTAsdj1lLm1lZGlhbnM7Zm9yKHQ9MDt0PHIvMjt0Kyspe2Zvcih1PTAsbD0wLHA9MDtwPHIvMjtwKyspbj0odCtwKSU0NixmPShuKzIzKSU0Nix1Kz1wYXJzZUludCh2W25dLDEwKSxsKz1wYXJzZUludCh2W2ZdLDEwKTtzPU1hdGguYWJzKHUtbCksczxkJiYoZD1zLGg9dCl9dmFyIG09cGFyc2VJbnQodltoXSwxMCkseT1wYXJzZUludCgtdltoKzIzXSwxMCksYj1NYXRoLmFicyhpLW0pLU1hdGguYWJzKGkteSk7cmV0dXJuIE1hdGguYWJzKC1pLW0pLU1hdGguYWJzKC1pLXkpPmImJihoKz0yMyksW1swLDBdLFs4KmgrMyxpXV19ZnVuY3Rpb24gZyhlLHQpe3ZhciBuPU1hdGguZmxvb3IoKHQtMykvOCk7bj4yMiYmKG4tPTIzKTt2YXIgcixvLGEsaT0wO2ZvcihhPTQ2LHI9MDtyPGE7cisrKW89KG4rciklYSxpKz1wYXJzZUludChlW29dLDEwKTt2YXIgYyxzLHUsbD0uMTUqaSxmPS44KmkscD0uODUqaSxkPSExLGg9ITEsdj0hMTtmb3IoaT0wLHI9MDtyPGE7cisrKWlmKG89KG4rciklYSxpKz1wYXJzZUludChlW29dLDEwKSwhZCYmaT5sKWM9byxkPSEwO2Vsc2UgaWYoIWgmJmk+ZilzPW8saD0hMDtlbHNlIGlmKCF2JiZpPnApe3U9byx2PSEwO2JyZWFrfXZhciBtPVswLDBdO3JldHVyblt7bGFiZWw6XCIxNSVcIixkYXRhOlttLFs4KmMrMywxMDBdXX0se2xhYmVsOlwiODAlXCIsZGF0YTpbbSxbOCpzKzMsMTAwXV19LHtsYWJlbDpcIjg1JVwiLGRhdGE6W20sWzgqdSszLDEwMF1dfV19ZnVuY3Rpb24gdyhlLHQsbil7cmV0dXJuIG4uYXBwZW5kKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIixcImxpbmVcIikuYXR0cihcImRcIix0KGUpKX1mdW5jdGlvbiBrKGUsdCxuKXtyZXR1cm4gbi5hcHBlbmQoXCJwYXRoXCIpLmRhdHVtKGUpLmF0dHIoXCJjbGFzc1wiLFwibGluZVwiKS5hdHRyKFwiZFwiLHQpfWZ1bmN0aW9uIF8oZSx0LG4scil7cmV0dXJuIG4uc2VsZWN0QWxsKFwicG9pbnRcIikuZGF0YShlKS5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKS5hdHRyKFwiY2xhc3NcIixcInBvaW50XCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIixmdW5jdGlvbihlLG4pe3JldHVyblwidHJhbnNsYXRlKFwiK3QoW0FycmF5LmlzQXJyYXkoZSk/ZTpbOCpuKzMsZV1dKS5zbGljZSgxKS5zbGljZSgwLC0xKStcIilcIn0pLmF0dHIoXCJyXCIsMykuYXR0cihcInN0cm9rZVwiLFwiIzAwMFwiKS5hdHRyKFwiZmlsbFwiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEUoQXJyYXkuaXNBcnJheShlKT9lWzFdOmUsclt0JTQ2XSwzKX0pLm9uKFwibW91c2VvdmVyXCIseCkub24oXCJtb3VzZW91dFwiLE8pfWZ1bmN0aW9uIHgoZSl7dmFyIHQ9QXJyYXkuaXNBcnJheShlKT9UKGVbMF0pK1wiOiBcIitlWzFdOlwiQXZlcmFnZTogXCIrZTtBLnNob3codCksdGhpcy5zZXRBdHRyaWJ1dGUoXCJyXCIsNSksdGhpcy5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIixcIjJweFwiKX1mdW5jdGlvbiBPKGUpe0EuaGlkZSgpLHRoaXMuc2V0QXR0cmlidXRlKFwiclwiLDMpLHRoaXMuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsXCIxcHhcIil9ZnVuY3Rpb24gUyhlLHQsbixyLG8sYSxpLGMscyx1LGwpe3ZhciBmPWUuYXBwZW5kKFwiZGl2XCIpO2YuYXBwZW5kKFwiaW5wdXRcIikuYXR0cihcInR5cGVcIixcImNoZWNrYm94XCIpLmF0dHIoXCJpZFwiLG4rXCItXCIrdCt1LnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixcIlwiKStcIi1cIitsLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixcIlwiKSkuYXR0cihcInZhbHVlXCIsdCkucHJvcGVydHkoXCJjaGVja2VkXCIsdD09PXIpLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52YWx1ZTt0aGlzLmNoZWNrZWQ/KG8uaGFzT3duUHJvcGVydHkodCl8fChvW3RdPXt9KSxvW3RdLnBhdGg9dyhhW3RdLGksYyksb1t0XS5wb2ludHM9XyhhW3RdLGksYyxzKSk6KG9bdF0ucGF0aC5yZW1vdmUoKSxvW3RdLnBvaW50cy5yZW1vdmUoKSl9KSxmLmFwcGVuZChcImxhYmVsXCIpLnRleHQodCkuYXR0cihcImZvclwiLG4rXCItXCIrdCt1LnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixcIlwiKStcIi1cIitsLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIixcIlwiKSl9ZnVuY3Rpb24gRShlLHQsbil7dmFyIHI9ZS10LG89TWF0aC5hYnMocikvdCoxMDAqbixhPTEwMC1vK1wiJVwiO3JldHVybiByPjA/XCJoc2woOCwgNzklLCBcIithK1wiKVwiOlwiaHNsKDIxOSwgNzklLCBcIithK1wiKVwifWZ1bmN0aW9uIGooZSl7ZT1lLnRvU3RyaW5nKCk7dmFyIHQ9ZS5zdWJzdHJpbmcoMCw0KSxuPXBhcnNlSW50KGUuc3Vic3RyaW5nKDQsNiksMTApLTEscj1lLnN1YnN0cmluZyg2LDgpO3JldHVybiBuZXcgRGF0ZSh0LG4scil9ZnVuY3Rpb24gUChlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT8oZT1qKGUpLGUuZ2V0RE9ZKCkpOmV9ZnVuY3Rpb24gVChlKXtyZXR1cm5cIkF2ZXJhZ2VcIj09PWU/ZTooZT1qKGUpLEMoZS5nZXRNb250aCgpKStcIiBcIitNKGUuZ2V0RGF0ZSgpKStcIiwgXCIrZS5nZXRGdWxsWWVhcigpKX1mdW5jdGlvbiBDKGUpe3N3aXRjaChlKXtjYXNlIDA6cmV0dXJuXCJKYW4uXCI7Y2FzZSAxOnJldHVyblwiRmViLlwiO2Nhc2UgMjpyZXR1cm5cIk1hci5cIjtjYXNlIDM6cmV0dXJuXCJBcHIuXCI7Y2FzZSA0OnJldHVyblwiTWF5XCI7Y2FzZSA1OnJldHVyblwiSnVuLlwiO2Nhc2UgNjpyZXR1cm5cIkp1bC5cIjtjYXNlIDc6cmV0dXJuXCJBdWcuXCI7Y2FzZSA4OnJldHVyblwiU2VwLlwiO2Nhc2UgOTpyZXR1cm5cIk9jdC5cIjtjYXNlIDEwOnJldHVyblwiTm92LlwiO2Nhc2UgMTE6cmV0dXJuXCJEZWMuXCJ9fWZ1bmN0aW9uIE0oZSl7dmFyIHQ9ZSUxMCxuPWUlMTAwO3JldHVybiAxPT09dCYmMTEhPT1uP2UrXCJzdFwiOjI9PT10JiYxMiE9PW4/ZStcIm5kXCI6Mz09PXQmJjEzIT09bj9lK1wicmRcIjplK1widGhcIn1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LlNldHVwR3JhcGhzPW4sdC5CaW5kR3JhcGhFdmVudHM9bzt2YXIgQSxOPUwuSWNvbi5leHRlbmQoe30pLEk9bmV3IE4oe2ljb25Vcmw6XCJpbWdzL2JsdWVfaWNvbi5wbmdcIixzaGFkb3dVcmw6XCJpbWdzL21hcmtlcl9zaGFkb3cucG5nXCIsaWNvblNpemU6WzI1LDQxXSxpY29uQW5jaG9yOlsxMiw0MV0scG9wdXBBbmNob3I6WzEsLTM0XSxzaGFkb3dTaXplOls0MSw0MV19KSxSPW5ldyBOKHtpY29uVXJsOlwiaW1ncy9vcmFuZ2VfaWNvbi5wbmdcIixzaGFkb3dVcmw6XCJpbWdzL21hcmtlcl9zaGFkb3cucG5nXCIsaWNvblNpemU6WzI1LDQxXSxpY29uQW5jaG9yOlsxMiw0MV0scG9wdXBBbmNob3I6WzEsLTM0XSxzaGFkb3dTaXplOls0MSw0MV19KSxGPXswOlwiSmFuXCIsMTpcIkZlYlwiLDI6XCJNYXJcIiwzOlwiQXByXCIsNDpcIk1heVwiLDU6XCJKdW5cIiw2OlwiSnVsXCIsNzpcIkF1Z1wiLDg6XCJTZXBcIiw5OlwiT2N0XCIsMTA6XCJOb3ZcIiwxMTpcIkRlY1wifX0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7ZDMuc2VsZWN0QWxsKFwiLnBhbmVsLXRvcC1idG5cIikub24oXCJjbGlja1wiLHIpfWZ1bmN0aW9uIHIoKXt0aGlzLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKXx8KG8oKSxkMy5zZWxlY3RBbGwoXCIucGFuZWwtdG9wLWJ0biwgLnBhbmVsLXNlY3Rpb24td3JhcHBlclwiKS5jbGFzc2VkKFwiYWN0aXZlXCIsZnVuY3Rpb24oKXtyZXR1cm4hZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJhY3RpdmVcIil9KSl9ZnVuY3Rpb24gbygpe3ZhciBlPWQzLnNlbGVjdEFsbChcIiNtYXAtd3JhcHBlciwgI3JpZ2h0LXBhbmVsXCIpLHQ9ZS5jbGFzc2VkKFwibGF5ZXJzLWFjdGl2ZVwiKSxuPWUuY2xhc3NlZChcImdyYXBocy1hY3RpdmVcIik7ZS5jbGFzc2VkKFwibGF5ZXJzLWFjdGl2ZVwiLCF0KS5jbGFzc2VkKFwiZ3JhcGhzLWFjdGl2ZVwiLCFuKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3ZhciB0PWUuaWR8fFwibWFwXCIsbj1lLm9wdGlvbnN8fHtzY3JvbGxXaGVlbFpvb206ITF9LHI9ZS5pbml0aWFsQ2VudGVyfHxbXCIzOC41XCIsXCItODFcIl0sYT1lLmluaXRpYWxab29tfHw2O3JldHVybiBvPUwubWFwKHQsbikuc2V0VmlldyhyLGEpfWZ1bmN0aW9uIHIoKXtyZXR1cm4gb31PYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LkNyZWF0ZU1hcD1uLHQuR2V0TWFwPXI7dmFyIG99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe2Uub24oXCJtb3ZlZW5kXCIsbyl9ZnVuY3Rpb24gbyhlKXt2YXIgdD0oMCxtLkdldE1hcCkoKTtpKGEoW2ModCkscyh0KV0pKX1mdW5jdGlvbiBhKGUpe3JldHVyblwiP1wiK2UuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lfSkuam9pbihcIiZcIil9ZnVuY3Rpb24gaShlKXt3aW5kb3cuaGlzdG9yeSYmd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlJiZ3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sXCJcIixlKX1mdW5jdGlvbiBjKGUpe3ZhciB0PWUuZ2V0Q2VudGVyKCk7cmV0dXJuXCJjZW50ZXI9XCIrdC5sYXQudG9TdHJpbmcoKStcIixcIit0LmxuZy50b1N0cmluZygpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuXCJ6b29tPVwiK2UuZ2V0Wm9vbSgpfWZ1bmN0aW9uIHUoKXt2YXIgZT13aW5kb3cubG9jYXRpb24uc2VhcmNoO2lmKFwiXCIhPT1lKXJldHVybiBlPWwoZSksZT1wKGUpLGQoZSksZX1mdW5jdGlvbiBsKGUpe3JldHVybiBlPWUuc3Vic3RyaW5nKDEpLGU9ZihlKSxlLnNwbGl0KFwiJlwiKX1mdW5jdGlvbiBmKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcJTJbY3xDXS9nLFwiLFwiKX1mdW5jdGlvbiBwKGUpe3ZhciB0LG4scj17fTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXQ9ZVtuXS5zcGxpdChcIj1cIiksclt0WzBdXT10WzFdO3JldHVybiByfWZ1bmN0aW9uIGQoZSl7ZS5jZW50ZXImJihlLmNlbnRlcj1oKGUuY2VudGVyKSl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5zcGxpdChcIixcIil9ZnVuY3Rpb24gdihlKXt2YXIgdD11KCk7dCYmKHQuY2VudGVyJiYoZS5tYXAuaW5pdGlhbENlbnRlcj10LmNlbnRlciksdC56b29tJiYoZS5tYXAuaW5pdGlhbFpvb209dC56b29tKSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5CaW5kVXBkYXRlU2hhcmVVcmw9cix0LkFkZFNoYXJlU2V0dGluZ3NUb0NvbmZpZz12O3ZhciBtPW4oMjYpfSxmdW5jdGlvbihlLHQpe31dKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gaW5kZXhfYnVuZGxlLmpzIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==